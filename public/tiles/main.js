!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=110)}([function(t,e,n){"use strict";function r(t,e){return e?e+"."+t:t}function a(t){var e,n,a,o=t.value,l=Object(c.a)(),f=[],h={};return h.HOT={entity:h,type:s.a.HOT},h.COLD={entity:h,type:s.a.COLD},h.id=function(t,n){return l=r(t,n),e=n,h},h.val=function(t){return o=t,h},h.updateVal=function(t){return o=t(o),h},h.accept=function(t){return n=t,h},h.reset=function(){return a=!0,h},h.getId=function(){return l},t.procedure&&f.push(t),h.react=function(t,e,n){var r=i(t,e,n);r.pidSuffix=d;var a=r.dependencies;return r.dependencies=[{entity:h,type:s.a.ACCUMULATOR}],a&&a.length&&(r.dependencies=r.dependencies.concat(a)),f.push(r),h},h.getGraph=function(){var t=u.a();return t.entities[l]=Object(s.c)({id:l,value:o,accept:n,reset:a}),f.forEach(function(n){var a=n.dependencies,o=n.processId?r(n.processId,e):l+n.pidSuffix+(a&&a.length?":"+a.reduce(function(t,e){var n=e.entity.getId();return n===l?t:t+":"+n},""):""),i=[];a&&a.forEach(function(e,n){if(i[n]=e.type,e.type!==s.a.ACCUMULATOR){var r=Object(s.b)({process:o,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var u=Object(s.b)({process:o,entity:l});t.arcs[u.id]=u,t.processes[o]=Object(s.d)({id:o,ports:i,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},h}function o(t){return a({value:t})}function i(t,e,n){var r={procedure:e};return null!=t&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=f,r}e.f=o,n.d(e,"d",function(){return h}),n.d(e,"a",function(){return p}),n.d(e,"e",function(){return v}),n.d(e,"b",function(){return M}),n.d(e,"c",function(){return m});var u=n(34),s=n(7),c=n(8),l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},f="Stream",d="Reaction",h=function(t,e,n){return a(i(t,e,n))},p=function(t,e,n){return a(l({},i(t,e,n),{async:!0}))},v=function(t,e,n){return a(l({},i(t,e,n),{autostart:!0}))},M=function(t,e,n){return a(l({},i(t,e,n),{async:!0,autostart:!0}))},m=function(t,e,n){return a(l({},i([t.HOT],e,n),{delta:!0}))}},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){"use strict";function r(t){return G[t].bindPoint}function a(t,e){return function(n){t.uniform1f(e,n)}}function o(t,e){return function(n){t.uniform1fv(e,n)}}function i(t,e){return function(n){t.uniform2fv(e,n)}}function u(t,e){return function(n){t.uniform3fv(e,n)}}function s(t,e){return function(n){t.uniform4fv(e,n)}}function c(t,e){return function(n){t.uniform1i(e,n)}}function l(t,e){return function(n){t.uniform1iv(e,n)}}function f(t,e){return function(n){t.uniform2iv(e,n)}}function d(t,e){return function(n){t.uniform3iv(e,n)}}function h(t,e){return function(n){t.uniform4iv(e,n)}}function p(t,e){return function(n){t.uniform1ui(e,n)}}function v(t,e){return function(n){t.uniform1uiv(e,n)}}function M(t,e){return function(n){t.uniform2uiv(e,n)}}function m(t,e){return function(n){t.uniform3uiv(e,n)}}function g(t,e){return function(n){t.uniform4uiv(e,n)}}function S(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function b(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function y(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function x(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function I(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function _(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function D(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function E(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function F(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function O(t,e,n,a){var o=r(e);return function(e){t.uniform1i(a,n),t.activeTexture(t.TEXTURE0+n),t.bindTexture(o,e)}}function T(t,e,n,a,o){for(var i=r(e),u=new Int32Array(o),s=0;s<o;++s)u[s]=n+s;return function(e){t.uniform1iv(a,u);for(var n in e)t.activeTexture(t.TEXTURE0+u[n]),t.bindTexture(i,e[n])}}function w(t){return null===t.Type}function A(t,e,n){return function(r){t.bindBuffer(t.ARRAY_BUFFER,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.itemSize,V.c.FLOAT,r.normalize||!1,r.stride||0,r.offset||0)}}function P(t,e,n){return function(r){t.bindBuffer(t.ARRAY_BUFFER,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.itemSize,V.c.INT,r.stride||0,r.offset||0)}}function N(t,e,n){var r=n.size,a=n.count;return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer);for(var o=r,i=o/a,u=G[V.c.FLOAT],s=u.size*o,c=n.normalize||!1,l=n.offset||0,f=s/a,d=0;d<a;++d)t.enableVertexAttribArray(e+d),t.vertexAttribPointer(e+d,i,V.c.FLOAT,c,s,l+f*d)}}function R(t,e){for(var n=0,r={},a=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;o<a;++o){var i=t.getActiveUniform(e,o);if(!i)break;var u=i.name;if("[0]"===u.substr(-3)&&(u=u.substr(0,u.length-3)),e){var s=function(e,r){var a=t.getUniformLocation(e,r.name),o=r.size>1&&"[0]"===r.name.substr(-3),i=r.type,u=G[i];if(!u)throw"unknown type: 0x"+i.toString(16);if(null!=a){var s;if(w(u)){var c=n;n+=r.size,s=o?u.arraySetter(t,i,c,a,r.size):u.setter(t,i,c,a)}else s=u.arraySetter&&o?u.arraySetter(t,a):u.setter(t,a);return{setter:s,location:a}}}(e,i);s&&(r[u]=s)}}return r}function L(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<r;a++){var o=t.getActiveAttrib(e,a);if(!o)break;var i=t.getAttribLocation(e,o.name),u=W[o.type],s=u.setter(t,i,u);n[o.name]={setter:s,location:i}}return n}function k(t){if(t instanceof Int8Array)return V.c.BYTE;if(t instanceof Uint8Array)return V.c.UNSIGNED_BYTE;if(t instanceof Uint8ClampedArray)return V.c.UNSIGNED_BYTE;if(t instanceof Int16Array)return V.c.SHORT;if(t instanceof Uint16Array)return V.c.UNSIGNED_SHORT;if(t instanceof Int32Array)return V.c.INT;if(t instanceof Uint32Array)return V.c.UNSIGNED_INT;if(t instanceof Float32Array)return V.c.FLOAT;throw"unsupported typed array type"}function C(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),null!=e.flipY&&e.flipY!==n.flipY&&t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY),e.wrap&&e.wrap!==n.wrap||e.wrapS&&e.wrapS!==n.wrapS||e.wrapT&&e.wrapT!==n.wrapT){var r=void 0,a=void 0;e.wrap?r=a=e.wrap:(a=e.wrapT||"CLAMP_TO_EDGE",r=e.wrapS||"CLAMP_TO_EDGE"),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t[r]),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t[a])}e.magFilter&&e.magFilter!==n.magFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t[e.magFilter]),e.minFilter&&e.minFilter!==n.minFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t[e.minFilter])}function z(t,e,n,r){if(null!=e.width&&null!=e.height){null==e.frameBuffer&&(e.frameBuffer=t.createFramebuffer()),e.textures||(e.textures=[]),t.bindFramebuffer(t.FRAMEBUFFER,e.frameBuffer),e.textureConfig.type===t.FLOAT&&t.getExtension("OES_texture_float");var a=e.textureConfig.count;if(a>1){for(var o=t.getExtension("WEBGL_draw_buffers"),i=[],u=0;u<a;u++)i.push(o["COLOR_ATTACHMENT"+u+"_WEBGL"]);o.drawBuffersWEBGL(i);for(var u=0;u<a;u++){null==e.textures[u]&&(e.textures[u]=t.createTexture());var s=e.textures[u];t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),C(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,i[u],t.TEXTURE_2D,s,0)}}else{null==e.textures[0]&&(e.textures[0]=t.createTexture());var s=e.textures[0];t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),C(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0)}null==e.depthBuffer&&(e.depthBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e.depthBuffer);var c=t.checkFramebufferStatus(t.FRAMEBUFFER);c!==t.FRAMEBUFFER_COMPLETE&&console.error("framebuffer error",c,n),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null)}}function j(t,e){t.deleteFramebuffer(e.frameBuffer),t.deleteRenderbuffer(e.depthBuffer);for(var n=0,r=e.textures;n<r.length;n++){var a=r[n];t.deleteTexture(a)}}function U(t,e){if(e.enable)for(var n=0,r=e.enable;n<r.length;n++){var a=r[n];t.enable(a)}if(e.disable)for(var o=0,i=e.disable;o<i.length;o++){var a=i[o];t.disable(a)}e.blendFunc&&t.blendFunc.apply(t,e.blendFunc),null!=e.depthFunc&&t.depthFunc(e.depthFunc),null!=e.cullFace&&t.cullFace(e.cullFace),null!=e.frontFace&&t.frontFace(e.frontFace),null!=e.lineWidth&&t.lineWidth(e.lineWidth),e.colorMask&&t.colorMask.apply(t,e.colorMask),null!=e.depthMask&&t.depthMask(e.depthMask),e.clearColor&&t.clearColor.apply(t,e.clearColor),null!=e.clearDepth&&t.clearDepth(e.clearDepth),null!=e.clearBits&&t.clear(e.clearBits)}function H(t,e){if(e.enable)for(var n=0,r=e.enable;n<r.length;n++){var a=r[n];t.disable(a)}if(e.disable)for(var o=0,i=e.disable;o<i.length;o++){var a=i[o];t.enable(a)}}e.c=R,e.b=L,e.e=k,e.g=C,e.h=z,e.d=j,e.a=U,e.f=H;var Y,q,B,V=n(17),G=(Y={},Y[V.c.FLOAT]={Type:Float32Array,size:4,setter:a,arraySetter:o},Y[V.c.FLOAT_VEC2]={Type:Float32Array,size:8,setter:i},Y[V.c.FLOAT_VEC3]={Type:Float32Array,size:12,setter:u},Y[V.c.FLOAT_VEC4]={Type:Float32Array,size:16,setter:s},Y[V.c.INT]={Type:Int32Array,size:4,setter:c,arraySetter:l},Y[V.c.INT_VEC2]={Type:Int32Array,size:8,setter:f},Y[V.c.INT_VEC3]={Type:Int32Array,size:12,setter:d},Y[V.c.INT_VEC4]={Type:Int32Array,size:16,setter:h},Y[V.c.UNSIGNED_INT]={Type:Uint32Array,size:4,setter:p,arraySetter:v},Y[V.c.UNSIGNED_INT_VEC2]={Type:Uint32Array,size:8,setter:M},Y[V.c.UNSIGNED_INT_VEC3]={Type:Uint32Array,size:12,setter:m},Y[V.c.UNSIGNED_INT_VEC4]={Type:Uint32Array,size:16,setter:g},Y[V.c.BOOL]={Type:Uint32Array,size:4,setter:c,arraySetter:l},Y[V.c.BOOL_VEC2]={Type:Uint32Array,size:8,setter:f},Y[V.c.BOOL_VEC3]={Type:Uint32Array,size:12,setter:d},Y[V.c.BOOL_VEC4]={Type:Uint32Array,size:16,setter:h},Y[V.c.FLOAT_MAT2]={Type:Float32Array,size:16,setter:S},Y[V.c.FLOAT_MAT3]={Type:Float32Array,size:36,setter:b},Y[V.c.FLOAT_MAT4]={Type:Float32Array,size:64,setter:y},Y[V.c.FLOAT_MAT2X3]={Type:Float32Array,size:24,setter:x},Y[V.c.FLOAT_MAT2X4]={Type:Float32Array,size:32,setter:_},Y[V.c.FLOAT_MAT3X2]={Type:Float32Array,size:24,setter:I},Y[V.c.FLOAT_MAT3X4]={Type:Float32Array,size:48,setter:E},Y[V.c.FLOAT_MAT4X2]={Type:Float32Array,size:32,setter:D},Y[V.c.FLOAT_MAT4X3]={Type:Float32Array,size:48,setter:F},Y[V.c.SAMPLER_2D]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D},Y[V.c.SAMPLER_CUBE]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_CUBE_MAP},Y[V.c.SAMPLER_3D]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_3D},Y[V.c.SAMPLER_2D_SHADOW]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D},Y[V.c.SAMPLER_2D_ARRAY]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D_ARRAY},Y[V.c.SAMPLER_2D_ARRAY_SHADOW]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D_ARRAY},Y[V.c.SAMPLER_CUBE_SHADOW]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_CUBE_MAP},Y[V.c.INT_SAMPLER_2D]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D},Y[V.c.INT_SAMPLER_3D]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_3D},Y[V.c.INT_SAMPLER_CUBE]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_CUBE_MAP},Y[V.c.INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D_ARRAY},Y[V.c.UNSIGNED_INT_SAMPLER_2D]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D},Y[V.c.UNSIGNED_INT_SAMPLER_3D]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_3D},Y[V.c.UNSIGNED_INT_SAMPLER_CUBE]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_CUBE_MAP},Y[V.c.UNSIGNED_INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:O,arraySetter:T,bindPoint:V.c.TEXTURE_2D_ARRAY},Y),W=(q={},q[V.c.FLOAT]={size:4,setter:A,itemSize:1},q[V.c.FLOAT_VEC2]={size:8,setter:A,itemSize:2},q[V.c.FLOAT_VEC3]={size:12,setter:A,itemSize:3},q[V.c.FLOAT_VEC4]={size:16,setter:A,itemSize:4},q[V.c.INT]={size:4,setter:P,itemSize:1},q[V.c.INT_VEC2]={size:8,setter:P,itemSize:2},q[V.c.INT_VEC3]={size:12,setter:P,itemSize:3},q[V.c.INT_VEC4]={size:16,setter:P,itemSize:4},q[V.c.UNSIGNED_INT]={size:4,setter:P,itemSize:1},q[V.c.UNSIGNED_INT_VEC2]={size:8,setter:P,itemSize:2},q[V.c.UNSIGNED_INT_VEC3]={size:12,setter:P,itemSize:3},q[V.c.UNSIGNED_INT_VEC4]={size:16,setter:P,itemSize:4},q[V.c.BOOL]={size:4,setter:P,itemSize:1},q[V.c.BOOL_VEC2]={size:8,setter:P,itemSize:2},q[V.c.BOOL_VEC3]={size:12,setter:P,itemSize:3},q[V.c.BOOL_VEC4]={size:16,setter:P,itemSize:4},q[V.c.FLOAT_MAT2]={size:4,setter:N,count:2},q[V.c.FLOAT_MAT3]={size:9,setter:N,count:3},q[V.c.FLOAT_MAT4]={size:16,setter:N,count:4},q);B={},B[V.c.BYTE]=Int8Array,B[V.c.UNSIGNED_BYTE]=Uint8Array,B[V.c.SHORT]=Int16Array,B[V.c.UNSIGNED_SHORT]=Uint16Array,B[V.c.INT]=Int32Array,B[V.c.UNSIGNED_INT]=Uint32Array,B[V.c.FLOAT]=Float32Array,B[V.c.UNSIGNED_SHORT_4_4_4_4]=Uint16Array,B[V.c.UNSIGNED_SHORT_5_5_5_1]=Uint16Array,B[V.c.UNSIGNED_SHORT_5_6_5]=Uint16Array,B[V.c.HALF_FLOAT]=Uint16Array,B[V.c.UNSIGNED_INT_2_10_10_10_REV]=Uint32Array,B[V.c.UNSIGNED_INT_10F_11F_11F_REV]=Uint32Array,B[V.c.UNSIGNED_INT_5_9_9_9_REV]=Uint32Array,B[V.c.FLOAT_32_UNSIGNED_INT_24_8_REV]=Uint32Array,B[V.c.UNSIGNED_INT_24_8]=Uint32Array},function(t,e,n){e.glMatrix=n(1),e.mat2=n(38),e.mat2d=n(39),e.mat3=n(10),e.mat4=n(40),e.quat=n(41),e.vec2=n(42),e.vec3=n(11),e.vec4=n(12)},function(t,e,n){"use strict";function r(t,e){return e?e+"."+t:t}function a(t){var e,n,a,o=t.value,l=Object(c.a)(),f=[],h={};return h.HOT={entity:h,type:s.a.HOT},h.COLD={entity:h,type:s.a.COLD},h.id=function(t,n){return l=r(t,n),e=n,h},h.val=function(t){return o=t,h},h.updateVal=function(t){return o=t(o),h},h.accept=function(t){return n=t,h},h.reset=function(){return a=!0,h},h.getId=function(){return l},t.procedure&&f.push(t),h.react=function(t,e,n){var r=i(t,e,n);r.pidSuffix=d;var a=r.dependencies;return r.dependencies=[{entity:h,type:s.a.ACCUMULATOR}],a&&a.length&&(r.dependencies=r.dependencies.concat(a)),f.push(r),h},h.getGraph=function(){var t=u.a();return t.entities[l]=Object(s.c)({id:l,value:o,accept:n,reset:a}),f.forEach(function(n){var a=n.dependencies,o=n.processId?r(n.processId,e):l+n.pidSuffix+(a&&a.length?":"+a.reduce(function(t,e){var n=e.entity.getId();return n===l?t:t+":"+n},""):""),i=[];a&&a.forEach(function(e,n){if(i[n]=e.type,e.type!==s.a.ACCUMULATOR){var r=Object(s.b)({process:o,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var u=Object(s.b)({process:o,entity:l});t.arcs[u.id]=u,t.processes[o]=Object(s.d)({id:o,ports:i,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},h}function o(t){return a({value:t})}function i(t,e,n){var r={procedure:e};return null!=t&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=f,r}e.d=o,n.d(e,"c",function(){return h}),n.d(e,"a",function(){return p}),n.d(e,"b",function(){return v});var u=n(50),s=n(51),c=n(16),l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},f="Stream",d="Reaction",h=function(t,e,n){return a(i(t,e,n))},p=function(t,e,n){return a(l({},i(t,e,n),{async:!0}))},v=function(t,e,n){return a(l({},i(t,e,n),{async:!0,autostart:!0}))}},function(t,e,n){"use strict";function r(t){var e=t.getContext("webgl")||t.getContext("experimental-webgl");if(null==e)throw Error("Webgl context cannot be initialized");return e}function a(t,e){void 0===e&&(e=1),e=Math.max(1,e);var n=t.clientWidth*e|0,r=t.clientHeight*e|0;return(t.width!==n||t.height!==r)&&(t.width=n,t.height=r,!0)}e.a=r,e.b=a},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?Object(i.a)():e,r=t.value,a=t.json,o=t.accept,u=t.reset,c=t.meta;return null==r&&a&&(r=JSON.parse(a)),{id:n,value:r,accept:o,reset:u,meta:s({},c)}}function a(t,e){var n=t.id,r=void 0===n?Object(i.a)():n,a=t.ports,o=void 0===a?[]:a,l=t.procedure,f=t.code,d=t.autostart,h=void 0!==d&&d,p=t.async,v=void 0!==p&&p,M=t.delta,m=void 0!==M&&M,g=t.meta;if(null==l&&null!=f&&(l=Object(u.a)(f,e)),null==l)throw TypeError("Process must have procedure or code set");return m&&!o.length&&o.push(c.HOT),{id:r,ports:o,procedure:l,autostart:h,async:v,delta:m,meta:s({},g)}}function o(t){var e=t.id,n=t.entity,r=t.process,a=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==a?r+"->"+n:n+"->"+r+"::"+a),{id:e,entity:n,process:r,port:a,meta:s({},o)}}e.c=r,e.d=a,e.b=o,n.d(e,"a",function(){return c});var i=n(8),u=n(25),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},c={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";function r(t){var e=u,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}function a(){var t=i();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,r(t)}e.a=a;for(var o=new Array(16),i=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),o[t]=e>>>((3&t)<<3)&255);return o},u=[],s={},c=0;c<256;c++)u[c]=(c+256).toString(16).substr(1),s[u[c]]=c},function(t,e,n){"use strict";function r(t){var e=u,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}function a(){var t=i();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,r(t)}e.a=a;for(var o=new Array(16),i=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),o[t]=e>>>((3&t)<<3)&255);return o},u=[],s={},c=0;c<256;c++)u[c]=(c+256).toString(16).substr(1),s[u[c]]=c},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},a.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromValues=function(t,e,n,a,o,i,u,s,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=a,l[4]=o,l[5]=i,l[6]=u,l[7]=s,l[8]=c,l},a.set=function(t,e,n,r,a,o,i,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=l*i-u*c,d=-l*o+u*s,h=c*o-i*s,p=n*f+r*d+a*h;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+a*c)*p,t[2]=(u*r-a*i)*p,t[3]=d*p,t[4]=(l*n-a*s)*p,t[5]=(-u*n+a*o)*p,t[6]=h*p,t[7]=(-c*n+r*s)*p,t[8]=(i*n-r*o)*p,t):null},a.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8];return t[0]=i*l-u*c,t[1]=a*c-r*l,t[2]=r*u-a*i,t[3]=u*s-o*l,t[4]=n*l-a*s,t[5]=a*o-n*u,t[6]=o*c-i*s,t[7]=r*s-n*c,t[8]=n*i-r*o,t},a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-i*s)+n*(-c*a+i*u)+r*(s*a-o*u)},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=n[0],h=n[1],p=n[2],v=n[3],M=n[4],m=n[5],g=n[6],S=n[7],b=n[8];return t[0]=d*r+h*i+p*c,t[1]=d*a+h*u+p*l,t[2]=d*o+h*s+p*f,t[3]=v*r+M*i+m*c,t[4]=v*a+M*u+m*l,t[5]=v*o+M*s+m*f,t[6]=g*r+S*i+b*c,t[7]=g*a+S*u+b*l,t[8]=g*o+S*s+b*f,t},a.mul=a.multiply,a.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=n[0],h=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=d*r+h*i+c,t[7]=d*a+h*u+l,t[8]=d*o+h*s+f,t},a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=Math.sin(n),h=Math.cos(n);return t[0]=h*r+d*i,t[1]=h*a+d*u,t[2]=h*o+d*s,t[3]=h*i-d*r,t[4]=h*u-d*a,t[5]=h*s-d*o,t[6]=c,t[7]=l,t[8]=f,t},a.scale=function(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,l=r*i,f=r*u,d=a*i,h=a*u,p=a*s,v=o*i,M=o*u,m=o*s;return t[0]=1-f-p,t[3]=l-m,t[6]=d+M,t[1]=l+m,t[4]=1-c-p,t[7]=h-v,t[2]=d-M,t[5]=h+v,t[8]=1-c-f,t},a.normalFromMat4=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],M=e[14],m=e[15],g=n*u-r*i,S=n*s-a*i,b=n*c-o*i,y=r*s-a*u,x=r*c-o*u,I=a*c-o*s,_=l*v-f*p,D=l*M-d*p,E=l*m-h*p,F=f*M-d*v,O=f*m-h*v,T=d*m-h*M,w=g*T-S*O+b*F+y*E-x*D+I*_;return w?(w=1/w,t[0]=(u*T-s*O+c*F)*w,t[1]=(s*E-i*T-c*D)*w,t[2]=(i*O-u*E+c*_)*w,t[3]=(a*O-r*T-o*F)*w,t[4]=(n*T-a*E+o*D)*w,t[5]=(r*E-n*O-o*_)*w,t[6]=(v*I-M*x+m*y)*w,t[7]=(M*b-p*I-m*S)*w,t[8]=(p*x-v*b+m*g)*w,t):null},a.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=e[0],h=e[1],p=e[2],v=e[3],M=e[4],m=e[5],g=t[6],S=e[7],b=e[8];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-v)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(u-M)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-g)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-b)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))},t.exports=a},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.fromValues=function(t,e,n){var a=new r.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=n,a},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},a.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},a.cross=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2];return t[0]=a*s-o*u,t[1]=o*i-r*s,t[2]=r*u-a*i,t},a.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t},a.hermite=function(t,e,n,r,a,o){var i=o*o,u=i*(2*o-3)+1,s=i*(o-2)+o,c=i*(o-1),l=i*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+a[0]*l,t[1]=e[1]*u+n[1]*s+r[1]*c+a[1]*l,t[2]=e[2]*u+n[2]*s+r[2]*c+a[2]*l,t},a.bezier=function(t,e,n,r,a,o){var i=1-o,u=i*i,s=o*o,c=u*i,l=3*o*u,f=3*s*i,d=s*o;return t[0]=e[0]*c+n[0]*l+r[0]*f+a[0]*d,t[1]=e[1]*c+n[1]*l+r[1]*f+a[1]*d,t[2]=e[2]*c+n[2]*l+r[2]*f+a[2]*d,t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=a*e,t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,t[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,t[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1],o=e[2];return t[0]=r*n[0]+a*n[3]+o*n[6],t[1]=r*n[1]+a*n[4]+o*n[7],t[2]=r*n[2]+a*n[5]+o*n[8],t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*o-s*a,f=c*a+s*r-i*o,d=c*o+i*a-u*r,h=-i*r-u*a-s*o;return t[0]=l*c+h*-i+f*-s-d*-u,t[1]=f*c+h*-u+d*-i-l*-s,t[2]=d*c+h*-s+l*-u-f*-i,t},a.rotateX=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.rotateY=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.rotateZ=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var u,s;for(n||(n=3),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),a.angle=function(t,e){var n=a.fromValues(t[0],t[1],t[2]),r=a.fromValues(e[0],e[1],e[2]);a.normalize(n,n),a.normalize(r,r);var o=a.dot(n,r);return o>1?0:Math.acos(o)},a.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=e[0],u=e[1],s=e[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))},t.exports=a},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+o*o)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=a*i,t[3]=o*i),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},a.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t[3]=u+r*(n[3]-u),t},a.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),a.normalize(t,t),a.scale(t,t,e),t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,t[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,t[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,t[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*o-s*a,f=c*a+s*r-i*o,d=c*o+i*a-u*r,h=-i*r-u*a-s*o;return t[0]=l*c+h*-i+f*-s-d*-u,t[1]=f*c+h*-u+d*-i-l*-s,t[2]=d*c+h*-s+l*-u-f*-i,t[3]=e[3],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var u,s;for(n||(n=4),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),a.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},t.exports=a},function(t,e,n){var r=n(2),a={};a.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},a.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromValues=function(t,e,n,a,o,i,u,s,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=a,l[4]=o,l[5]=i,l[6]=u,l[7]=s,l[8]=c,l},a.set=function(t,e,n,r,a,o,i,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=l*i-u*c,d=-l*o+u*s,h=c*o-i*s,p=n*f+r*d+a*h;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+a*c)*p,t[2]=(u*r-a*i)*p,t[3]=d*p,t[4]=(l*n-a*s)*p,t[5]=(-u*n+a*o)*p,t[6]=h*p,t[7]=(-c*n+r*s)*p,t[8]=(i*n-r*o)*p,t):null},a.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8];return t[0]=i*l-u*c,t[1]=a*c-r*l,t[2]=r*u-a*i,t[3]=u*s-o*l,t[4]=n*l-a*s,t[5]=a*o-n*u,t[6]=o*c-i*s,t[7]=r*s-n*c,t[8]=n*i-r*o,t},a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-i*s)+n*(-c*a+i*u)+r*(s*a-o*u)},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=n[0],h=n[1],p=n[2],v=n[3],M=n[4],m=n[5],g=n[6],S=n[7],b=n[8];return t[0]=d*r+h*i+p*c,t[1]=d*a+h*u+p*l,t[2]=d*o+h*s+p*f,t[3]=v*r+M*i+m*c,t[4]=v*a+M*u+m*l,t[5]=v*o+M*s+m*f,t[6]=g*r+S*i+b*c,t[7]=g*a+S*u+b*l,t[8]=g*o+S*s+b*f,t},a.mul=a.multiply,a.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=n[0],h=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=d*r+h*i+c,t[7]=d*a+h*u+l,t[8]=d*o+h*s+f,t},a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=Math.sin(n),h=Math.cos(n);return t[0]=h*r+d*i,t[1]=h*a+d*u,t[2]=h*o+d*s,t[3]=h*i-d*r,t[4]=h*u-d*a,t[5]=h*s-d*o,t[6]=c,t[7]=l,t[8]=f,t},a.scale=function(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,l=r*i,f=r*u,d=a*i,h=a*u,p=a*s,v=o*i,M=o*u,m=o*s;return t[0]=1-f-p,t[3]=l-m,t[6]=d+M,t[1]=l+m,t[4]=1-c-p,t[7]=h-v,t[2]=d-M,t[5]=h+v,t[8]=1-c-f,t},a.normalFromMat4=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],M=e[14],m=e[15],g=n*u-r*i,S=n*s-a*i,b=n*c-o*i,y=r*s-a*u,x=r*c-o*u,I=a*c-o*s,_=l*v-f*p,D=l*M-d*p,E=l*m-h*p,F=f*M-d*v,O=f*m-h*v,T=d*m-h*M,w=g*T-S*O+b*F+y*E-x*D+I*_;return w?(w=1/w,t[0]=(u*T-s*O+c*F)*w,t[1]=(s*E-i*T-c*D)*w,t[2]=(i*O-u*E+c*_)*w,t[3]=(a*O-r*T-o*F)*w,t[4]=(n*T-a*E+o*D)*w,t[5]=(r*E-n*O-o*_)*w,t[6]=(v*I-M*x+m*y)*w,t[7]=(M*b-p*I-m*S)*w,t[8]=(p*x-v*b+m*g)*w,t):null},a.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=e[0],h=e[1],p=e[2],v=e[3],M=e[4],m=e[5],g=t[6],S=e[7],b=e[8];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-v)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(u-M)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-g)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-b)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))},t.exports=a},function(t,e,n){var r=n(2),a={};a.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.fromValues=function(t,e,n){var a=new r.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=n,a},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},a.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},a.cross=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2];return t[0]=a*s-o*u,t[1]=o*i-r*s,t[2]=r*u-a*i,t},a.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t},a.hermite=function(t,e,n,r,a,o){var i=o*o,u=i*(2*o-3)+1,s=i*(o-2)+o,c=i*(o-1),l=i*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+a[0]*l,t[1]=e[1]*u+n[1]*s+r[1]*c+a[1]*l,t[2]=e[2]*u+n[2]*s+r[2]*c+a[2]*l,t},a.bezier=function(t,e,n,r,a,o){var i=1-o,u=i*i,s=o*o,c=u*i,l=3*o*u,f=3*s*i,d=s*o;return t[0]=e[0]*c+n[0]*l+r[0]*f+a[0]*d,t[1]=e[1]*c+n[1]*l+r[1]*f+a[1]*d,t[2]=e[2]*c+n[2]*l+r[2]*f+a[2]*d,t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=a*e,t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,t[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,t[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1],o=e[2];return t[0]=r*n[0]+a*n[3]+o*n[6],t[1]=r*n[1]+a*n[4]+o*n[7],t[2]=r*n[2]+a*n[5]+o*n[8],t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*o-s*a,f=c*a+s*r-i*o,d=c*o+i*a-u*r,h=-i*r-u*a-s*o;return t[0]=l*c+h*-i+f*-s-d*-u,t[1]=f*c+h*-u+d*-i-l*-s,t[2]=d*c+h*-s+l*-u-f*-i,t},a.rotateX=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.rotateY=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.rotateZ=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var u,s;for(n||(n=3),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),a.angle=function(t,e){var n=a.fromValues(t[0],t[1],t[2]),r=a.fromValues(e[0],e[1],e[2]);a.normalize(n,n),a.normalize(r,r);var o=a.dot(n,r);return o>1?0:Math.acos(o)},a.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=e[0],u=e[1],s=e[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))},t.exports=a},function(t,e,n){var r=n(2),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+o*o)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=a*i,t[3]=o*i),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},a.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t[3]=u+r*(n[3]-u),t},a.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),a.normalize(t,t),a.scale(t,t,e),t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,t[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,t[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,t[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,t},a.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*o-s*a,f=c*a+s*r-i*o,d=c*o+i*a-u*r,h=-i*r-u*a-s*o;return t[0]=l*c+h*-i+f*-s-d*-u,t[1]=f*c+h*-u+d*-i-l*-s,t[2]=d*c+h*-s+l*-u-f*-i,t[3]=e[3],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var u,s;for(n||(n=4),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),a.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},t.exports=a},function(t,e,n){"use strict";function r(t){var e=u,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}function a(){var t=i();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,r(t)}e.a=a;for(var o=new Array(16),i=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),o[t]=e>>>((3&t)<<3)&255);return o},u=[],s={},c=0;c<256;c++)u[c]=(c+256).toString(16).substr(1),s[u[c]]=c},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return i}),n.d(e,"c",function(){return u});var r="position",a="uv",o="source",i="coords",u={FLOAT:5126,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FLOAT_MAT2X3:35685,FLOAT_MAT2X4:35686,FLOAT_MAT3X2:35687,FLOAT_MAT3X4:35688,FLOAT_MAT4X2:35689,FLOAT_MAT4X3:35690,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT:5125,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_3D:32879,TEXTURE_2D_ARRAY:35866,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042}},function(t,e,n){"use strict";function r(t,e){function n(e){i[e.keyCode]=Date.now(),t(i)}function r(e){delete i[e.keyCode],t(i)}void 0===e&&(e={});var a=e.element,o=void 0===a?window:a,i={};return o.addEventListener("keyup",r,!1),o.addEventListener("keydown",n,!1),t(i),function(){o.removeEventListener("keyup",r),o.removeEventListener("keydown",n)}}n.d(e,"a",function(){return a}),e.b=r;var a;!function(t){t[t.CANCEL=3]="CANCEL",t[t.HELP=6]="HELP",t[t.BACK_SPACE=8]="BACK_SPACE",t[t.TAB=9]="TAB",t[t.CLEAR=12]="CLEAR",t[t.RETURN=13]="RETURN",t[t.ENTER=14]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CONTROL=17]="CONTROL",t[t.ALT=18]="ALT",t[t.PAUSE=19]="PAUSE",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.ESCAPE=27]="ESCAPE",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.PRINTSCREEN=44]="PRINTSCREEN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_1=49]="DIGIT_1",t[t.DIGIT_2=50]="DIGIT_2",t[t.DIGIT_3=51]="DIGIT_3",t[t.DIGIT_4=52]="DIGIT_4",t[t.DIGIT_5=53]="DIGIT_5",t[t.DIGIT_6=54]="DIGIT_6",t[t.DIGIT_7=55]="DIGIT_7",t[t.DIGIT_8=56]="DIGIT_8",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.EQUALS=61]="EQUALS",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.CONTEXT_MENU=93]="CONTEXT_MENU",t[t.NUMPAD0=96]="NUMPAD0",t[t.NUMPAD1=97]="NUMPAD1",t[t.NUMPAD2=98]="NUMPAD2",t[t.NUMPAD3=99]="NUMPAD3",t[t.NUMPAD4=100]="NUMPAD4",t[t.NUMPAD5=101]="NUMPAD5",t[t.NUMPAD6=102]="NUMPAD6",t[t.NUMPAD7=103]="NUMPAD7",t[t.NUMPAD8=104]="NUMPAD8",t[t.NUMPAD9=105]="NUMPAD9",t[t.MULTIPLY=106]="MULTIPLY",t[t.ADD=107]="ADD",t[t.SEPARATOR=108]="SEPARATOR",t[t.SUBTRACT=109]="SUBTRACT",t[t.DECIMAL=110]="DECIMAL",t[t.DIVIDE=111]="DIVIDE",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.F13=124]="F13",t[t.F14=125]="F14",t[t.F15=126]="F15",t[t.F16=127]="F16",t[t.F17=128]="F17",t[t.F18=129]="F18",t[t.F19=130]="F19",t[t.F20=131]="F20",t[t.F21=132]="F21",t[t.F22=133]="F22",t[t.F23=134]="F23",t[t.F24=135]="F24",t[t.NUM_LOCK=144]="NUM_LOCK",t[t.SCROLL_LOCK=145]="SCROLL_LOCK",t[t.COMMA=188]="COMMA",t[t.PERIOD=190]="PERIOD",t[t.SLASH=191]="SLASH",t[t.BACK_QUOTE=192]="BACK_QUOTE",t[t.OPEN_BRACKET=219]="OPEN_BRACKET",t[t.BACK_SLASH=220]="BACK_SLASH",t[t.CLOSE_BRACKET=221]="CLOSE_BRACKET",t[t.QUOTE=222]="QUOTE",t[t.META=224]="META"}(a||(a={}))},function(t,e,n){e.glMatrix=n(2),e.mat2=n(43),e.mat2d=n(44),e.mat3=n(13),e.mat4=n(45),e.quat=n(46),e.vec2=n(47),e.vec3=n(14),e.vec4=n(15)},function(t,e,n){"use strict";function r(t){var e=[{},{}],n=Object(v.d)(t),r=c.a(t).update(v.a.renderQuad),o=function(){return f.a().update({form:r,shade:l.a(t).update(v.b.basicEffect)})},i=o(),u=function(n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var a=t.canvas;return(Object(p.b)(a,n)||r)&&e.forEach(function(e){e.width=a.width,e.height=a.height,e.textureConfig={count:1,type:t.UNSIGNED_BYTE},Object(h.h)(t,e,v.c)}),g};u(1,!0);var m=function(){i.destroy();for(var n=0,r=e;n<r.length;n++){var a=r[n];Object(h.d)(t,a)}},g={gl:t,updateDrawSettings:function(e){return Object(h.a)(t,M({},n,e)),g},createForm:function(){return c.a(t)},createShade:function(){return l.a(t)},createSketch:function(){return f.a()},createFlatSketch:o,createStaticLayer:function(){return d.b(t)},createDrawingLayer:function(){return d.a(t)},createEffectLayer:function(){return d.a(t).update({sketches:[o()]})},draw:function(e,n){return a(t,e,null,n),g},compose:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return s(t,n,e,i),g},resize:u,destroy:m};return g}function a(t,e,n,r){var a=e.shade,s=e.uniforms,c=e.form,l=e.drawSettings;if(!a||!c)throw Error("cannot draw, shader or geometry are not set");if(t.useProgram(a.program),i(a,c),r&&u(a,r,n),l&&Object(h.a)(t,l),Array.isArray(s))for(var f=0,d=s;f<d.length;f++){var p=d[f];o(t,e,n,p)}else o(t,e,n,s);l&&Object(h.f)(t,l)}function o(t,e,n,r){r&&u(e.shade,r,n),e.form.elements&&null!=e.form.elements.glType?(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.form.elements.buffer),t.drawElements(e.form.drawType,e.form.itemCount,e.form.elements.glType,0)):t.drawArrays(e.form.drawType,0,e.form.itemCount)}function i(t,e){for(var n in e.attribs){var r=t.attributeSetters[n];r&&r.setter(e.attribs[n])}}function u(t,e,n){for(var r in e){var a=t.uniformSetters[r];if(a){var o=e[r];null===o||"string"==typeof o?a.setter(n):a.setter(o)}}}function s(t,e,n,r){for(var o=e.length-1,i=0;i<e.length;i++)!function(i){var u=e[i],s=function(e,o){var i=n[0],s=n[1],c=!o&&null==u.target;if(o?(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)):u.target?(t.bindFramebuffer(t.FRAMEBUFFER,u.target.frameBuffer),t.viewport(0,0,u.target.width,u.target.height)):(t.bindFramebuffer(t.FRAMEBUFFER,s.frameBuffer),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)),u.data.drawSettings&&Object(h.a)(t,u.data.drawSettings),u.sketches)for(var l=0,f=u.sketches;l<f.length;l++){var d=f[l];a(t,d,i.textures[0],e)}else a(t,r,null,{source:u.texture()});u.data.drawSettings&&Object(h.f)(t,u.data.drawSettings),c&&(n[0]=s,n[1]=i)};if(Array.isArray(u.uniforms))for(var c=o+u.uniforms.length-1,l=0;l<u.uniforms.length;l++){var f=i+l===c;s(u.uniforms[l],f)}else{var f=i===o;s(u.uniforms,f)}}(i)}e.a=r;var c=n(53),l=n(54),f=n(55),d=n(56),h=n(3),p=n(6),v=n(57),M=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,n){"use strict";function r(t){return t[Object(u.b)(t.length)]}function a(t,e){for(var n=0;n<t;n++)e(n)}function o(t,e){var n=[];return a(t,function(t){return n.push(e(t))}),n}function i(t,e,n){for(var r=Math.min(t.length,e.length),a=[],o=0;o<r;o++)a.push(n(t[o],e[o]));return a}e.b=r,e.a=a,e.c=o,e.d=i;var u=n(48)},function(t,e,n){"use strict";function r(t,e){var n=Object(s.b)(null,function(t){var e=document.createElement("canvas");return document.body.appendChild(e),t(e),function(){document.body.removeChild(e)}}),r=Object(s.c)([n.HOT],l.a),a=Object(s.a)([r.HOT],function(t,e){var n=Object(c.a)(e);return t(n),n.destroy}).accept(f.b),o=Object(s.c)([n.HOT,t.HOT],function(t){return{width:t.clientWidth,height:t.clientHeight}});return a.react([o.HOT],function(t,e){return t.resize()},"updateSize"),e&&a.react([e.HOT],function(t,e){return t.updateDrawSettings(e)}),{canvas:n,painter:a,gl:r,canvasSize:o}}function a(t,e){var n=Object(s.a)([t.HOT],function(t,e){var n=e.createShade();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function o(t,e){var n=Object(s.a)([t.HOT],function(t,e){var n=e.createForm();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function i(t,e){var n=Object(s.a)([t.HOT],function(t,e){var n=e.createSketch();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function u(t,e){var n=Object(s.a)([t.HOT],function(t,e){var n=e.createDrawingLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}e.c=r,e.d=a,e.b=o,e.e=i,e.a=u;var s=n(5),c=n(20),l=n(6),f=n(23)},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var r=function(t,e){return t!==e},a=function(t){return null!=t}},function(t,e,n){"use strict";function r(){function t(){return{entities:w,processes:A,arcs:P,meta:R}}function e(){var t={};for(var e in N.es)t[e]=N.es[e].val;return t}function n(){return L}function r(t){L=t}function i(){return R}function u(t){null==t||"object"!=typeof t||t instanceof Array||(R=o({},R,t))}function s(t){k=t}function c(t){return N.es[t]&&N.es[t].val}function l(t,e){_(O(t),e,!0)&&x()}function f(t,e){l(t,e(c(t)))}function d(t,e){O(t).cb.push(e)}function h(t,e){var n=O(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]}function p(t){var e=Object(a.c)(t);w[e.id]=e;var n=O(e.id);return null==e.value||!e.reset&&null!=n.val||(n.val=e.value,z[e.id]=!1,U=!0),n.accept=e.accept,e}function v(t){var e=O(t);for(var n in e.arcs)S(n);delete N.es[t],delete w[t]}function M(t){var e=Object(a.d)(t,L),n=e.ports,r=T(e.id);A[e.id]=e,delete r.acc,r.values=[],r.sources=[],r.async=e.async,r.delta=e.delta,Object.keys(r.arcs).forEach(function(t){var e=P[t].port;null==e||n[e]&&n[e]!==a.a.ACCUMULATOR||S(t)}),n.forEach(function(t,e){t===a.a.ACCUMULATOR&&(r.acc=e)});for(var o in r.arcs)b(P[o]);return e}function m(t){var e=T(t);e.stop&&(e.stop(),delete e.stop);for(var n in e.arcs)S(n);delete N.ps[t],delete A[t]}function g(t){var e=Object(a.b)(t);P[e.id]=e,b(e);var n=T(e.process),r=A[e.process];return r&&!0===r.autostart&&Object.keys(n.arcs).length===Object.keys(r.ports).length+1&&D(n),e}function S(t){var e=P[t];if(e){var n=T(e.process),r=O(e.entity);delete n.arcs[t],delete r.arcs[t],null!=e.port?(delete r.effects[e.process],delete n.sources[e.port],delete n.values[e.port]):(n.stop&&(n.stop(),delete n.stop),n.sink=function(){},delete n.out,delete r.reactions[e.process])}delete P[t]}function b(t){var e=t.process,n=t.entity,r=T(e),o=O(n),i=A[e];o.arcs[t.id]=!0,i&&(r.arcs[t.id]=!0,null!=t.port?(delete o.effects[e],i.ports&&null!=i.ports[t.port]&&(r.sources[t.port]=o,i.ports[t.port]===a.a.HOT&&(o.effects[e]=r))):(r.out=o,null!=r.acc?(r.sources[r.acc]=o,o.reactions[e]=r):delete o.reactions[e],r.sink=function(t){_(o,t,!0)&&!j&&x()}))}function y(t){if(t.entities)for(var e in t.entities)p(t.entities[e]);if(t.processes)for(var e in t.processes)M(t.processes[e]);if(t.arcs)for(var e in t.arcs)g(t.arcs[e]);t.meta&&u(t.meta)}function x(){k&&console.log("flushing graph recursively with",z);var t=Object.keys(z);if(U){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(z[r]){var a=N.es[r];for(var o in a.reactions)I(a.reactions[o])}}var i={};z={},U=!1,j=!0;for(var u=0,s=t;u<s.length;u++){var r=s[u],a=N.es[r];a.cb.length>0&&(C[r]=a);for(var o in a.effects)i[o]||(I(a.effects[o]),i[o]=!0)}if(j=!1,U)x();else{var c=Object.keys(C);C={};for(var l in c)for(var a=N.es[c[l]],f=0,d=a.cb;f<d.length;f++){var h=d[f];h(a.val)}k&&console.log("flush finished")}}}function I(t){for(var e=!0,n=0;n<t.sources.length;n++){var r=t.sources[n];if(null==r.val){e=!1;break}if(t.values[n]=r.val,t.delta){if(null==r.oldVal){e=!1;break}t.values[n+1]=r.oldVal}}if(e)if(k&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=A[t.id].procedure.apply(L,[t.sink].concat(t.values));else{var a=A[t.id].procedure.apply(L,t.values);t.out&&_(t.out,a,null==t.acc)}}function _(t,e,n){return!(t.accept&&!t.accept(e,t.val))&&(t.oldVal=t.val,t.val=e,null!=e&&(z[t.id]=n,U=!0),!0)}function D(t){t.async?requestAnimationFrame(function(){I(t)}):(I(t),t.out&&(z[t.out.id]=!1))}function E(t){var e=T(t);I(e),e.async||x()}function F(t){var e=T(t);e.stop&&(e.stop(),delete e.stop)}function O(t){return w[t]||p({id:t}),N.es[t]||(N.es[t]={id:t,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function T(t){return N.ps[t]||(N.ps[t]={id:t,arcs:{},sink:function(){}})}var w={},A={},P={},N={es:{},ps:{}},R={},L=null,k=!1,C={},z={},j=!1,U=!1;return{addEntity:p,removeEntity:v,addProcess:M,removeProcess:m,addArc:g,removeArc:S,addGraph:y,getGraph:t,getState:e,setMeta:u,getMeta:i,getContext:n,setContext:r,setDebug:s,get:c,set:l,update:f,on:d,off:h,start:E,stop:F,flush:x,PORT_TYPES:o({},a.a)}}e.a=r;var a=n(7),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(module,exports,__webpack_require__){!function(t,e){module.exports=e()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=29)}([function(t,e,n){"use strict";function r(t,e){return e?e+"."+t:t}function a(t){var e,n,a,o=t.value,u=Object(d.a)(),s=[],c={};return c.HOT={entity:c,type:f.PORT_TYPES.HOT},c.COLD={entity:c,type:f.PORT_TYPES.COLD},c.id=function(t,n){return u=r(t,n),e=n,c},c.val=function(t){return o=t,c},c.updateVal=function(t){return o=t(o),c},c.accept=function(t){return n=t,c},c.reset=function(){return a=!0,c},c.getId=function(){return u},t.procedure&&s.push(t),c.react=function(t,e,n){var r=i(t,e,n);r.pidSuffix=v;var a=r.dependencies;return r.dependencies=[{entity:c,type:f.PORT_TYPES.ACCUMULATOR}],a&&a.length&&(r.dependencies=r.dependencies.concat(a)),s.push(r),c},c.getGraph=function(){var t=l.empty();return t.entities[u]=Object(f.createEntity)({id:u,value:o,accept:n,reset:a}),s.forEach(function(n){var a=n.dependencies,o=n.processId?r(n.processId,e):u+n.pidSuffix+(a&&a.length?":"+a.reduce(function(t,e){var n=e.entity.getId();return n===u?t:t+":"+n},""):""),i=[];a&&a.forEach(function(e,n){if(i[n]=e.type,e.type!==f.PORT_TYPES.ACCUMULATOR){var r=Object(f.createArc)({process:o,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var s=Object(f.createArc)({process:o,entity:u});t.arcs[s.id]=s,t.processes[o]=Object(f.createProcess)({id:o,ports:i,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},c}function o(t){return a({value:t})}function i(t,e,n){var r={procedure:e};return null!=t&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=p,r}function u(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}function s(t,e){for(var n in t){var r=t[n];u(r)&&r.id(n,e)}return t}function c(t){var e=[];for(var n in t){var r=t[n];u(r)&&e.push(r)}return e.reduce(function(t,e){return l.merge(t,e.getGraph())},l.empty())}Object.defineProperty(e,"__esModule",{value:!0}),e.val=o,n.d(e,"stream",function(){return M}),n.d(e,"asyncStream",function(){return m}),n.d(e,"streamStart",function(){return g}),n.d(e,"asyncStreamStart",function(){return S}),n.d(e,"delta",function(){return b}),e.isEntity=u,e.resolveEntityIds=s,e.getGraphFromAll=c;var l=n(19),f=n(9),d=n(18),h=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},p="Stream",v="Reaction",M=function(t,e,n){return a(i(t,e,n))},m=function(t,e,n){return a(h({},i(t,e,n),{async:!0}))},g=function(t,e,n){return a(h({},i(t,e,n),{autostart:!0}))},S=function(t,e,n){return a(h({},i(t,e,n),{async:!0,autostart:!0}))},b=function(t,e,n){return a(h({},i([t.HOT],e,n),{delta:!0}))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var r={ENTITY_INSPECT:"flow:entity_inspect",ENTITY_RESET:"flow:entity_reset",PROCESS_RUN:"flow:process_run",PROCESS_STOP:"flow:process_stop"},a={ENTITIES:{UPDATE_EDITED_VALUE:"gui:entities:update_edited_value",SET_EDIT_MODE:"gui:entities:set_edit_mode",SAVE_VALUE:"gui:entities:save",OPEN_PROCESS:"gui:entities:open_process",OPEN_ENTITY:"gui:entities:open_entity"},GRAPH:{UPDATE_SCALE:"gui:graph:update_scale",UPDATE_SIZE:"gui:graph:update_size"},TREE:{TOGGLE_LEVEL:"gui:tree:toggle_level"},MAIN:{SET_ACTIVE_WINDOW:"gui:main:set_active_window",UPDATE_VISIBILITY:"gui:main:update_visibility",CLOSE_WINDOW:"gui:main.close_window"}}},function(t,e,n){"use strict";function r(t){var e=new a.TypeStyle({autoGenerateTag:!1});return t&&e.setStylesTarget(t),e}Object.defineProperty(e,"__esModule",{value:!0});var a=n(39);e.TypeStyle=a.TypeStyle;var o=n(41);e.types=o;var i=n(23);e.extend=i.extend,e.classes=i.classes,e.media=i.media;var u=new a.TypeStyle({autoGenerateTag:!0});e.setStylesTarget=u.setStylesTarget,e.cssRaw=u.cssRaw,e.cssRule=u.cssRule,e.forceRenderStyles=u.forceRenderStyles,e.fontFace=u.fontFace,e.getStyles=u.getStyles,e.keyframes=u.keyframes,e.reinit=u.reinit,e.style=u.style,e.createTypeStyle=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"action",function(){return i}),n.d(e,"windowSize",function(){return u}),n.d(e,"element",function(){return s}),n.d(e,"mouse",function(){return c}),n.d(e,"mouseDrag",function(){return l}),n.d(e,"dragDeltas",function(){return f});var r=n(0),a=n(53),o=n(54),i=Object(r.val)(),u=Object(r.asyncStreamStart)(null,a.a),s=Object(r.val)(),c=Object(r.asyncStream)([s.HOT],function(t,e){return Object(o.a)(t,{el:e,enableRightButton:!0})}),l=Object(r.stream)([c.HOT],function(t){return{x:t.drag.x,y:t.drag.y}}),f=Object(r.delta)(l,function(t,e){return{x:0===t.x?t.x:t.x-e.x,y:0===t.y?t.y:t.y-e.y}}).accept(function(t){return!(!t||!t.x&&!t.y)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"activeEntity",function(){return c}),n.d(e,"activeProcess",function(){return l}),n.d(e,"activeNode",function(){return f}),n.d(e,"watchingEntity",function(){return d}),n.d(e,"activeValue",function(){return h}),n.d(e,"editedValue",function(){return p}),n.d(e,"entityValueView",function(){return v}),n.d(e,"entityViewProps",function(){return M});var r=n(0),a=n(7),o=n(3),i=n(8),u=n(1),s=n(5),c=Object(r.val)({}).react([o.action.HOT,i.graph.COLD],function(t,e,n){var r=e.type,a=e.payload;if(r===u.b.ENTITIES.OPEN_ENTITY)return n.entities[a]}).react([o.mouse.HOT],function(t,e){if(e.pressed[2]&&e.pressed[2].target.closest("svg"))return{id:""}}).accept(a.b),l=Object(r.val)({}).react([o.action.HOT,i.graph.COLD],function(t,e,n){var r=e.type,a=e.payload;if(r===u.b.ENTITIES.OPEN_PROCESS)return n.processes[a]}).react([o.mouse.HOT],function(t,e){if(e.pressed[2]&&e.pressed[2].target.closest("svg"))return{id:""}}).accept(a.b),f=Object(r.val)({}).react([c.HOT],function(t,e){return e}).react([l.HOT],function(t,e){return e}),d=Object(r.val)(!0).react([o.action.HOT],function(t,e){var n=e.type,r=e.payload;return n===u.b.ENTITIES.SET_EDIT_MODE?!r:n===u.b.ENTITIES.SAVE_VALUE||void 0}).react([c.HOT],function(){return!0}).accept(a.b),h=Object(r.asyncStream)([i.runtime.COLD,c.HOT,s.visibility.HOT,d.HOT],function(t,e,n,r,a){if(n&&n.id){var o=e.get(n.id);if(t(null!=o?o:""),r.entities&&a)return e.on(n.id,t),function(){return e.off(n.id,t)}}else t("")}),p=Object(r.val)("").react([o.action.HOT,i.runtime.COLD],function(t,e,n){var r=e.type,a=e.payload;if(r===u.b.ENTITIES.UPDATE_EDITED_VALUE)return a;t&&r===u.b.ENTITIES.SAVE_VALUE&&requestAnimationFrame(function(){try{n.set(a,JSON.parse(t))}catch(e){console.error("could not save value to entity",a,t),console.error(e)}})}).react([h.HOT],function(){return""}).accept(Object(a.a)(a.b,a.d)),v=Object(r.stream)([h.HOT,d.HOT],function(t,e){return{value:t,watching:e}}).val({value:null,watching:!0}),M=Object(r.stream)([c.HOT,d.HOT],function(t,e){return{entity:t,watching:e}})},function(t,e,n){"use strict";function r(t,e){t.react([h.COLD,p.HOT],function(t,n,r){if(n===e)return t.zIndex=r,t})}function a(t,e){return t.height>e.height-20&&(t.height=e.height-20),t.width>e.width-20&&(t.width=e.width-20),t.top>e.height-20&&(t.top=e.height-20),t.left>e.width-20&&(t.left=e.width-20),t.top<0&&(t.top=0),t.left<0&&(t.left=0),t}function o(t){t.react([s.windowSize.HOT],a)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"title",function(){return f}),n.d(e,"visibility",function(){return d}),n.d(e,"activeWindow",function(){return h}),n.d(e,"zIndex",function(){return p}),n.d(e,"controlsPosition",function(){return v}),n.d(e,"treeWindow",function(){return M}),n.d(e,"graphWindow",function(){return m}),n.d(e,"entitiesWindow",function(){return g});var i=n(0),u=n(7),s=n(3),c=n(1),l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},f=Object(i.val)("").accept(u.c),d=Object(i.val)({tree:!1,graph:!1,entities:!1}).react([s.action.HOT],function(t,e){var n=e.type,r=e.payload;if(n===c.b.MAIN.UPDATE_VISIBILITY)return l({},t,(a={},a[r]=!t[r],a));if(n===c.b.MAIN.CLOSE_WINDOW)return l({},t,(o={},o[r]=!1,o));var a,o}).accept(u.b),h=Object(i.stream)([s.action.HOT],function(t){var e=t.type,n=t.payload;if(e===c.b.MAIN.SET_ACTIVE_WINDOW||e===c.b.MAIN.UPDATE_VISIBILITY)return n}).accept(Object(u.a)(u.b,u.d)).val(""),p=Object(i.val)(0).react([h.HOT],function(t){return t+1}),v=Object(i.val)({left:0,top:0,zIndex:0}).react([h.COLD,s.dragDeltas.HOT,s.mouse.COLD,s.windowSize.COLD],function(t,e,n,r,a){var o=r.pressed[0]&&r.pressed[0].target;if("controls"===e&&o&&o.closest(".tvs-flow-controls")&&(n.x||n.y))return t.left-=n.x,t.top-=n.y,t.top<0&&(t.top=0),t.left<0&&(t.left=0),t.top>a.height-20&&(t.top=a.height-20),t.left>a.width-20&&(t.left=a.width-20),t}).accept(u.b),M=Object(i.val)({top:100,left:0,width:300,height:400,zIndex:0}).react([h.COLD,s.mouse.COLD,s.dragDeltas.HOT,s.windowSize.COLD],function(t,e,n,r,o){var i=n.pressed[0]&&n.pressed[0].target;if("tree"===e&&i&&i.closest(".tvs-flow-tree")&&(r.x||r.y))return"resize"===i.className?(t.width-=r.x,t.height-=r.y):(t.left-=r.x,t.top-=r.y),a(t,o)}).accept(u.b),m=Object(i.val)({top:200,left:100,width:600,height:600,zIndex:0}).react([h.COLD,s.mouse.COLD,s.dragDeltas.HOT,s.windowSize.COLD],function(t,e,n,r,o){var i=n.pressed[0]&&n.pressed[0].target;if("graph"===e&&i&&i.closest(".tvs-flow-graph")&&(r.x||r.y)){if("resize"===i.className)return t.width-=r.x,t.height-=r.y,a(t,o);if(!i.closest("svg"))return t.left-=r.x,t.top-=r.y,a(t,o)}}).accept(u.b),g=Object(i.val)({top:50,left:400,width:400,height:500,zIndex:0}).react([h.COLD,s.mouse.COLD,s.dragDeltas.HOT,s.windowSize.COLD],function(t,e,n,r,o){var i=n.pressed[0]&&n.pressed[0].target;if("entities"===e&&i&&i.closest(".tvs-flow-entities")&&!i.closest("pre")&&(r.x||r.y))return"resize"===i.className?(t.width-=r.x,t.height-=r.y):(t.left-=r.x,t.top-=r.y),a(t,o)}).accept(u.b);r(v,"controls"),r(M,"tree"),r(m,"graph"),r(g,"entities"),o(v),o(M),o(m),o(g)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"g",function(){return f}),n.d(e,"f",function(){return d});var r=n(2),a=(n.n(r),n(42)),o=(n.n(a),"white"),i=Object(a.rgba)(40,40,40,.75).toString(),u=16,s="cyan",c={borderRadius:4,backgroundColor:i,boxShadow:"0 10px 15px rgba(0,0,0,0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",borderBottom:"1px solid rgba(0, 0, 0, 0.6)"},l={borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.3) inset",borderBottom:"1px solid rgba(255, 255, 255, 0.4)",borderTop:"1px solid rgba(0, 0, 0, 0.6)"},f={padding:0,listStyle:"none"},d=Object(r.style)({position:"fixed",top:0,left:0,width:0,height:0,zIndex:1e3,fontSize:u,fontFamily:"sans-serif",lineHeight:1.5,color:o,userSelect:"none",$nest:{"& *":{userSelect:"none",MozUserSelect:"none"}}})},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i});var r=function(t,e){return t!==e},a=function(t){return null!=t},o=function(t){return t&&t.length},i=function(t,e){return function(n,r){return t(n,r)&&e(n,r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"runtime",function(){return s}),n.d(e,"graph",function(){return c}),n.d(e,"state",function(){return l}),n.d(e,"entityTree",function(){return f});var r=n(0),a=n(24),o=n(3),i=n(7),u=n(1),s=Object(r.val)().react([o.action.HOT],function(t,e){var n=e.type,r=e.payload;switch(n){case u.a.PROCESS_RUN:return void t.start(r);case u.a.PROCESS_STOP:return void t.stop(r);case u.a.ENTITY_RESET:return void t.set(r,t.getGraph().entities[r].value);case u.a.ENTITY_INSPECT:return void console.log(r,t.get(r))}}).accept(i.b),c=Object(r.stream)([s.HOT],function(t){return t.getGraph()}),l=Object(r.stream)([s.HOT],function(t){return t.getState()}),f=Object(r.stream)([c.HOT],function(t){return Object(a.createEntityTree)(t.entities)})},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?Object(i.a)():e,r=t.value,a=t.json,o=t.accept,u=t.reset,c=t.meta;return null==r&&a&&(r=JSON.parse(a)),{id:n,value:r,accept:o,reset:u,meta:s({},c)}}function a(t,e){var n=t.id,r=void 0===n?Object(i.a)():n,a=t.ports,o=void 0===a?[]:a,l=t.procedure,f=t.code,d=t.autostart,h=void 0!==d&&d,p=t.async,v=void 0!==p&&p,M=t.delta,m=void 0!==M&&M,g=t.meta;if(null==l&&null!=f&&(l=Object(u.a)(f,e)),null==l)throw TypeError("Process must have procedure or code set");return m&&!o.length&&o.push(c.HOT),{id:r,ports:o,procedure:l,autostart:h,async:v,delta:m,meta:s({},g)}}function o(t){var e=t.id,n=t.entity,r=t.process,a=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==a?r+"->"+n:n+"->"+r+"::"+a),{id:e,entity:n,process:r,port:a,meta:s({},o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.createEntity=r,e.createProcess=a,e.createArc=o,n.d(e,"PORT_TYPES",function(){return c});var i=n(18),u=n(33),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},c={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";(function(t){function n(t){return t.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function r(t){return"@"===t.charAt(0)}function a(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)}function o(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString(36)}function i(t,e){return"number"!=typeof e||0===e||m[t]||(e+="px"),t+":"+String(e)}function u(t){return t.sort(function(t,e){return t[0]>e[0]?1:-1})}function s(t,r){for(var o=[],i=[],s=!1,c=0,l=Object.keys(t);c<l.length;c++){var f=l[c],d=t[f];f===e.IS_UNIQUE?s=!!d:a(d)?i.push([f.trim(),d]):o.push([n(f.trim()),d])}return{properties:u(o),nestedStyles:r?i:u(i),isUnique:s}}function c(t){for(var e=[],n=0,r=t;n<r.length;n++){var a=r[n],o=a[0],u=a[1];!function(t,n){null!=n&&(Array.isArray(n)?n.forEach(function(n){n&&e.push(i(t,n))}):e.push(i(t,n)))}(o,u)}return e.join(";")}function l(t,e){return t.indexOf("&")>-1?t.replace(/&/g,e):e+" "+t}function f(t,e,n,a,o){var i=s(n,!!e),u=i.properties,d=i.nestedStyles,h=i.isUnique,p=c(u),v=p;if(r(e)){var m=t.add(new F(e,o?void 0:p,t.hash));if(p&&o){var g=m.add(new E(p,m.hash,h?"u"+(++M).toString(36):void 0));a.push([o,g])}for(var S=0,b=d;S<b.length;S++){var y=b[S],x=y[0],I=y[1];v+=x+f(m,x,I,a,o)}}else{var _=o?l(e,o):e;if(p){var g=t.add(new E(p,t.hash,h?"u"+(++M).toString(36):void 0));a.push([_,g])}for(var D=0,O=d;D<O.length;D++){var T=O[D],x=T[0],I=T[1];v+=x+f(t,x,I,a,_)}}return v}function d(t,e,n,r,a){for(var o=new _(t.hash),i=[],u=f(o,e,n,i),s="f"+o.hash(u),c=a?a+"_"+s:s,d=0,h=i;d<h.length;d++){var p=h[d],v=p[0],M=p[1],m=r?l(v,"."+c):v;M.add(new D(m,M.hash,void 0,u))}return{cache:o,pid:u,id:c}}function h(t){return t.values().map(function(t){return t.getStyles()}).join("")}function p(e,n){return void 0===e&&(e=o),void 0===n&&(n=void 0!==t&&!1),new O(e,n)}var v=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var M=0;e.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var m={"animation-iteration-count":!0,"box-flex":!0,"box-flex-group":!0,"column-count":!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"font-weight":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"stroke-dashoffset":!0,"stroke-opacity":!0,"stroke-width":!0},g=0,S=["-webkit-","-ms-","-moz-","-o-"];g<S.length;g++)for(var b=S[g],y=0,x=Object.keys(m);y<x.length;y++){var I=x[y];m[b+I]=!0}e.stringHash=o;var _=function(){function t(t){this.hash=t,this.changeId=0,this._children={},this._keys=[],this._counters={}}return t.prototype.values=function(){var t=this;return this._keys.map(function(e){return t._children[e]})},t.prototype.add=function(e){var n=this._counters[e.id]||0,r=this._children[e.id]||e.clone();if(this._counters[e.id]=n+1,0===n)this._keys.push(r.id),this._children[r.id]=r,this.changeId++;else{if(r.getIdentifier()!==e.getIdentifier())throw new TypeError("Hash collision: "+e.getStyles()+" === "+r.getStyles());if(this._keys.splice(this._keys.indexOf(e.id),1),this._keys.push(e.id),r instanceof t&&e instanceof t){var a=r.changeId;r.merge(e),r.changeId!==a&&this.changeId++}}return r},t.prototype.remove=function(e){var n=this._counters[e.id];if(n>0){this._counters[e.id]=n-1;var r=this._children[e.id];if(1===n)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(this._keys.indexOf(e.id),1),this.changeId++;else if(r instanceof t&&e instanceof t){var a=r.changeId;r.unmerge(e),r.changeId!==a&&this.changeId++}}},t.prototype.merge=function(t){for(var e=0,n=t.values();e<n.length;e++){var r=n[e];this.add(r)}return this},t.prototype.unmerge=function(t){for(var e=0,n=t.values();e<n.length;e++){var r=n[e];this.remove(r)}return this},t.prototype.clone=function(){return new t(this.hash).merge(this)},t}();e.Cache=_;var D=function(){function t(t,e,n,r){void 0===n&&(n="s"+e(t)),void 0===r&&(r=""),this.selector=t,this.hash=e,this.id=n,this.pid=r}return t.prototype.getStyles=function(){return this.selector},t.prototype.getIdentifier=function(){return this.pid+"."+this.selector},t.prototype.clone=function(){return new t(this.selector,this.hash,this.id,this.pid)},t}();e.Selector=D;var E=function(t){function e(e,n,r){void 0===r&&(r="c"+n(e));var a=t.call(this,n)||this;return a.style=e,a.hash=n,a.id=r,a}return v(e,t),e.prototype.getStyles=function(){return this.values().map(function(t){return t.getStyles()}).join(",")+"{"+this.style+"}"},e.prototype.getIdentifier=function(){return this.style},e.prototype.clone=function(){return new e(this.style,this.hash,this.id).merge(this)},e}(_);e.Style=E;var F=function(t){function e(e,n,r,a,o){void 0===n&&(n=""),void 0===a&&(a="a"+r(e+"."+n)),void 0===o&&(o="");var i=t.call(this,r)||this;return i.rule=e,i.style=n,i.hash=r,i.id=a,i.pid=o,i}return v(e,t),e.prototype.getStyles=function(){return this.rule+"{"+this.style+h(this)+"}"},e.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},e.prototype.clone=function(){return new e(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},e}(_);e.Rule=F;var O=function(t){function e(e,n,r){void 0===r&&(r="f"+(++M).toString(36));var a=t.call(this,e)||this;return a.hash=e,a.debug=n,a.id=r,a}return v(e,t),e.prototype.registerStyle=function(t,e){var n=d(this,"&",t,!0,this.debug?e:void 0),r=n.cache,a=n.id;return this.merge(r),a},e.prototype.registerKeyframes=function(t,e){return this.registerHashRule("@keyframes",t,e)},e.prototype.registerHashRule=function(t,e,n){var r=d(this,"",e,!1,this.debug?n:void 0),a=r.cache,o=r.pid,i=r.id,u=new F(t+" "+i,void 0,this.hash,void 0,o);return this.add(u.merge(a)),i},e.prototype.registerRule=function(t,e){this.merge(d(this,t,e,!1).cache)},e.prototype.registerCss=function(t){this.merge(d(this,"",t,!1).cache)},e.prototype.getStyles=function(){return h(this)},e.prototype.getIdentifier=function(){return this.id},e.prototype.clone=function(){return new e(this.hash,this.debug,this.id).merge(this)},e}(_);e.FreeStyle=O,e.create=p}).call(e,n(37))},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c});var r=n(2),a=(n.n(r),n(6)),o=(Object(r.style)({margin:"0 4px",verticalAlign:"top",display:"inline-block",$nest:{"& input":{margin:5,verticalAlign:"middle"}}}),{margin:"0 4px",padding:"4px 10px 3px",border:0,color:a.a,fontSize:"1.0em",verticalAlign:"middle",cursor:"pointer",$nest:{"& > svg":{verticalAlign:"middle"}}}),i={padding:"0 4px"},u=Object(r.style)(a.c,o),s=Object(r.style)(a.c,o,i),c=Object(r.style)({display:"inline-block",margin:"0 2px",padding:0,border:0,background:"transparent",boxShadow:"none",fontSize:"0.9em"})},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 24 24"},["title","close"],["path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"}]]}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 24 24"},["title","graph"],["path",{d:"M18 16.078c1.594 0 2.906 1.313 2.906 2.906s-1.313 2.953-2.906 2.953-2.906-1.359-2.906-2.953c0-0.234 0-0.469 0.047-0.656l-7.078-4.125c-0.563 0.516-1.266 0.797-2.063 0.797-1.641 0-3-1.359-3-3s1.359-3 3-3c0.797 0 1.5 0.281 2.063 0.797l7.031-4.078c-0.047-0.234-0.094-0.469-0.094-0.703 0-1.641 1.359-3 3-3s3 1.359 3 3-1.359 3-3 3c-0.797 0-1.5-0.328-2.063-0.844l-7.031 4.125c0.047 0.234 0.094 0.469 0.094 0.703s-0.047 0.469-0.094 0.703l7.125 4.125c0.516-0.469 1.219-0.75 1.969-0.75z"}]]}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 24 24"},["title","list"],["path",{d:"M9 5.016h12v3.984h-12v-3.984zM9 18.984v-3.984h12v3.984h-12zM9 14.016v-4.031h12v4.031h-12zM3.984 9v-3.984h4.031v3.984h-4.031zM3.984 18.984v-3.984h4.031v3.984h-4.031zM3.984 14.016v-4.031h4.031v4.031h-4.031z"}]]}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 24 24"},["title","entities"],["path",{d:"M16.641 1.688l5.672 5.672-5.672 5.625h4.359v8.016h-8.016v-8.016h3.656l-5.625-5.625v3.656h-8.016v-8.016h8.016v4.359zM3 21v-8.016h8.016v8.016h-8.016z"}]]}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 32 32"},["title","play"],["path",{d:"M6 4l20 12-20 12z"}]]}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 32 32"},["title","stop"],["path",{d:"M4 4h24v24h-24z"}]]}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 32 32"},["title","stopMarked"],["path",{d:"M4 4h24v24h-24z"}],["circle",{cx:"16",cy:"16",r:"6",fill:"#666"}]]}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 32 32"},["title","reset"],["path",{d:"M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"}]]}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 32 32"},["title","show"],["path",{d:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"}]]}function d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 32 32"},["title","copy"],["path",{d:"M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.122-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5z"}],["path",{d:"M18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"}]]}function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:p.a.apply(void 0,[M].concat(t)),viewBox:"0 0 32 32"},["title","more"],["path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"}],["path",{d:"M11.086 22.086l2.829 2.829 8.914-8.914-8.914-8.914-2.828 2.828 6.086 6.086z"}]]}e.a=r,e.d=a,e.e=o,e.c=i,e.g=u,e.j=s,e.k=c,e.h=l,e.i=f,e.b=d,e.f=h;var p=n(21),v=n(6),M=Object(p.b)({display:"inline-block",width:"1.1em",height:"1.1em",margin:4,strokeWidth:0,stroke:"currentColor",fill:"currentColor",verticalAlign:"bottom",$nest:{"&.selected":{fill:v.e}}})},function(t,e,n){"use strict";function r(t){return"number"==typeof t?t:.01*parseFloat(t)}function a(t){return 100*t+"%"}function o(t){var e=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/gi.exec(t);if(e&&e.length)return[e[1]].concat(e[2].split(","))}function i(t,e){return t+"("+e.join(",")+")"}e.ensurePercent=r,e.formatPercent=a,e.parseCSSFunction=o,e.cssFunction=i},function(t,e,n){"use strict";function r(t){var e=t.title,n=t.onclick,r=t.icon,i=t.key,u=t.class,s=["button",{class:Object(a.classes)(o.c,u),onmouseup:n,title:e},r];return i&&(s[1].key=i),s}e.a=r;var a=n(2),o=(n.n(a),n(11))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l});var r=n(2),a=(n.n(r),n(6)),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},i=Object(r.style)(a.c,{display:"inline-block",position:"relative",padding:2,whiteSpace:"nowrap",$nest:{"& h1":{display:"inline-block",margin:"0 8px",fontSize:a.d,fontWeight:"normal",verticalAlign:"middle"},"& ul":o({},a.g,{display:"inline-block",margin:0,fontSize:a.d,fontWeight:"normal"}),"& li":{display:"inline-block"},"& nav":{display:"inline-block"}}}),u=Object(r.style)(a.c,{position:"absolute",display:"flex",flexDirection:"column",padding:5,paddingTop:1,alignItems:"stretch",alignContent:"stretch",$nest:{"&>.resize":{position:"absolute",width:20,height:20,bottom:0,right:0,borderRadius:4,cursor:"nwse-resize",background:"linear-gradient(135deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%)"},"&>header":{display:"flex",alignItems:"center",minHeight:26},"&>header input":{verticalAlign:"middle"},"&>header .gap":{flexGrow:1}}}),s=Object(r.style)(a.b,{overflow:"auto",position:"relative",flexGrow:1,padding:5}),c=Object(r.style)(a.g,{margin:0,$nest:{"& ul":a.g,"& li":{paddingLeft:"1.5em",cursor:"pointer"},"&>li":{paddingLeft:0},"& .entity-controls":{display:"none"},"& .entity-item:hover>.entity-controls":{display:"inline"},"& .entity-item.selected":{color:a.e}}}),l=Object(r.style)({display:"flex",flexDirection:"column",flexGrow:1,overflow:"auto",$nest:{"& pre":{margin:0,MozUserSelect:"text",userSelect:"text"}}})},function(t,e,n){"use strict";function r(t){var e=t.split(".");return{label:e.pop(),group:e.join(".")}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"viewBox",function(){return h}),n.d(e,"nodeState",function(){return p}),n.d(e,"graphEntities",function(){return v}),n.d(e,"graphProcesses",function(){return M}),n.d(e,"viewData",function(){return m});var a=n(0),o=n(3),i=n(7),u=n(8),s=n(9),c=n(5),l=n(1),f=n(4),d=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},h=Object(a.val)({width:0,height:0,offsetX:0,offsetY:0,scale:1}).react([o.action.HOT],function(t,e){var n=e.type,r=e.payload;return n===l.b.GRAPH.UPDATE_SCALE&&r!==t.scale?(t.scale=r,t):n===l.b.GRAPH.UPDATE_SIZE&&(r.width&&r.width!==t.width||r.height&&r.height!==t.height)?(t.width=r.width,t.height=r.height,t):void 0}).react([o.mouse.COLD,o.dragDeltas.HOT],function(t,e,n){var r=e.pressed[0]&&e.pressed[0].target;if(r&&"graph-ui"===r.id&&(n.x||n.y))return t.offsetX+=n.x,t.offsetY+=n.y,t}).accept(i.b),p=Object(a.val)({}).react([u.graph.HOT,c.graphWindow.COLD],function(t,e,n){for(var r in e.entities)t[r]||(t[r]={x:Math.random()*n.width,y:Math.random()*n.height})}).react([f.activeEntity.COLD,o.mouse.COLD,o.dragDeltas.HOT,h.COLD],function(t,e,n,r,a){var o=e.id,i=n.pressed[0]&&n.pressed[0].target,u=i&&(i.dataset.eid||i.parentElement&&i.parentElement.dataset.eid);if(u&&o===u&&t[o]&&(r.x||r.y))return t[o].x-=r.x*a.scale,t[o].y-=r.y*a.scale,t}).accept(i.b),v=Object(a.stream)([u.graph.HOT,f.activeNode.HOT],function(t,e){var n={},a={},o=0;for(var i in t.entities){var u=t.entities[i],s=r(i),c=s.label,l=s.group;a[l]=a[l]||o++%7+1;var f={id:u.id,class:"group-"+a[l],label:c,active:u.id===e.id};null!=u.accept&&(f.accept=!0),null!=u.value&&(f.initial=!0),n[i]=f}return n}).react([p.HOT],function(t,e){for(var n in t)t[n].x=e[n].x,t[n].y=e[n].y;return t}),M=Object(a.stream)([u.graph.HOT,f.activeNode.HOT],function(t,e){var n={};for(var a in t.processes){var o=t.processes[a],i=d({id:a},r(a),{from:[],async:o.async,autostart:o.autostart,active:o.id===e.id,acc:o.ports&&o.ports.includes(s.PORT_TYPES.ACCUMULATOR)});for(var u in t.arcs){var c=t.arcs[u];c.process===a&&(null!=c.port?i.from.push([c.entity,o.ports&&o.ports[c.port]]):i.to=c.entity)}n[a]=i}return n}),m=Object(a.stream)([v.HOT,M.HOT],function(t,e){var n=[],r=[];for(var a in e){var o=e[a],i=t[o.to];if(o.class=i.class,o.from.length){o.x=0,o.y=0;for(var u=0,c=o.from;u<c.length;u++){var l=c[u],f=l[0],d=l[1],h=t[f],p=h.x-i.x,v=h.y-i.y;d===s.PORT_TYPES.COLD&&(p/=2,v/=2),o.x+=p,o.y+=v}var M=Math.sqrt(o.x*o.x+o.y*o.y);o.x=50*o.x/M+i.x,o.y=50*o.y/M+i.y;for(var m=0,g=o.from;m<g.length;m++){var S=g[m],f=S[0],d=S[1],h=t[f];o.fromIsActive=o.fromIsActive||h.active,r.push({from:h,to:o,class:"from"+(d===s.PORT_TYPES.COLD?" cold":""),title:d,active:i.active||o.active||h.active})}}else o.x=i.x,o.y=i.y-50;n.push(o),r.push({from:o,to:i,class:"to"+(o.async?" async":""),active:i.active||o.active||o.fromIsActive}),o.acc&&r.push({from:o,to:i,class:"to acc"})}return{entities:Object.values(t),processes:n,edges:r}}).react([h.HOT],function(t,e){return t.viewBox={x:e.offsetX*e.scale,y:e.offsetY*e.scale,width:e.width*e.scale,height:e.height*e.scale},t})},function(t,e,n){t.exports=n(58).default,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){var e=u,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}function a(){var t=i();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,r(t)}e.a=a;for(var o=new Array(16),i=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),o[t]=e>>>((3&t)<<3)&255);return o},u=[],s={},c=0;c<256;c++)u[c]=(c+256).toString(16).substr(1),s[u[c]]=c},function(t,e,n){"use strict";function r(){return{entities:{},processes:{},arcs:{},meta:{}}}function a(t,e){return{entities:o({},t.entities,e.entities),processes:o({},t.processes,e.processes),arcs:o({},t.arcs,e.arcs),meta:o({},t.meta,e.meta)}}Object.defineProperty(e,"__esModule",{value:!0}),e.empty=r,e.merge=a;var o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}function a(t,e){var n=t.keys().map(function(n){var a=t(n);return Object.values(Object(o.resolveEntityIds)(a,r(n,e))).filter(o.isEntity)}).reduce(function(t,e){return t.concat(e)},[]);return Object(o.getGraphFromAll)(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.modulePathToNamespace=r,e.getGraphFromModules=a;var o=n(0)},function(t,e,n){"use strict";n.d(e,"b",function(){return u});var r=n(35),a=n(38),o=(n.n(a),n(22));n.d(e,"a",function(){return o.a});var i=new r.a({autoGenerateTag:!0}),u=(i.setStylesTarget,i.cssRaw,i.cssRule,i.forceRenderStyles,i.fontFace,i.getStyles,i.keyframes,i.reinit,i.style)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,o=t;r<o.length;r++){var i=o[r];if(null!=i&&!1!==i)for(var u in i){var s=i[u];(s||0===s)&&("$nest"===u&&s?n[u]=n.$nest?a(n.$nest,s):s:-1!==u.indexOf("&")||0===u.indexOf("@media")?n[u]=n[u]?a(n[u],s):s:n[u]=s)}}return n}n.d(e,"c",function(){return o}),e.a=r,e.b=a;var o="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,o=t;r<o.length;r++){var i=o[r];if(null!=i&&!1!==i)for(var u in i){var s=i[u];(s||0===s)&&("$nest"===u&&s?n[u]=n.$nest?a(n.$nest,s):s:-1!==u.indexOf("&")||0===u.indexOf("@media")?n[u]=n[u]?a(n[u],s):s:n[u]=s)}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.raf="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window),e.classes=r,e.extend=a,e.media=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[];t.type&&r.push(t.type),t.orientation&&r.push(t.orientation),t.minWidth&&r.push("(min-width: "+o(t.minWidth)+")"),t.maxWidth&&r.push("(max-width: "+o(t.maxWidth)+")"),t.minHeight&&r.push("(min-height: "+o(t.minHeight)+")"),t.maxHeight&&r.push("(max-height: "+o(t.maxHeight)+")");var i="@media "+r.join(" and ");return{$nest:(u={},u[i]=a.apply(void 0,e),u)};var u};var o=function(t){return"string"==typeof t?t:t+"px"}},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=".");var n={};return Object.keys(t).sort().forEach(function(r){var a=t[r],o=a.id.split(e),i=n,u=o.slice(),s=[];o.forEach(function(){var t=u.shift();u.length?(s.push(t),i=i[t]=i[t]||{__path__:s.join(e)}):i[t]={__entity__:a}})}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.createEntityTree=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"entitiesWindowProps",function(){return i}),n.d(e,"controlProps",function(){return u}),n.d(e,"treeWindowProps",function(){return s}),n.d(e,"graphWindowProps",function(){return c});var r=n(0),a=n(4),o=n(5),i=Object(r.stream)([o.entitiesWindow.HOT,a.activeNode.HOT,o.activeWindow.HOT],function(t,e,n){return{dimensions:t,node:e,window:n}}).val({}),u=Object(r.stream)([o.visibility.HOT,o.controlsPosition.HOT],function(t,e){return{visibility:t,position:e}}),s=Object(r.stream)([o.treeWindow.HOT,o.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}}).val({}),c=Object(r.stream)([o.graphWindow.HOT,o.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}}).val({})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"treeFold",function(){return l}),n.d(e,"treeData",function(){return f});var r=n(0),a=n(8),o=n(3),i=n(1),u=n(7),s=n(4),c=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},l=Object(r.val)({}).react([o.action.HOT],function(t,e){var n=e.type,r=e.payload;if(n===i.b.TREE.TOGGLE_LEVEL)return c({},t,(a={},a[r]=!t[r],a));var a}).accept(u.b),f=Object(r.stream)([l.HOT,a.entityTree.HOT,s.activeEntity.HOT],function(t,e,n){return{fold:t,tree:e,selected:n}}).val({fold:null,tree:null,selected:{}})},function(t,e,n){"use strict";function r(){for(var t in h)h[t]();h={},p=!0}function a(t,e){p&&(requestAnimationFrame(r),p=!1),h[t]=e}function o(t,e,n){function r(n,r){"string"==typeof n?t.set(e,{type:n,payload:r}):t.set(e,n)}void 0===n&&(n=!1);var o={};return function e(u,s){var c=s.getId(),l=c+u.name;if(o[l])return o[l];var h=function(o){function s(){var e=null!==o&&o.apply(this,arguments)||this;return e.state={current:t.get(c)},e.updateAsync=function(){a(l,function(){e.setState(function(e){return e.current=t.get(c),e})})},e}return f(s,o),s.prototype.render=function(){return i(u(this.state.current,r,e))},s.prototype.componentDidMount=function(){n&&console.log("component mounted!",this),t.on(c,this.updateAsync)},s.prototype.componentWillUnmount=function(){n&&console.log("component will unmount!",this),t.off(c,this.updateAsync)},s}(d);return o[l]=h,h}}function i(t){if("function"==typeof t)return l()(t);if(!Array.isArray(t))return t;var e=t.shift(),n=t[0];return"object"!=typeof n||Array.isArray(n)?n={}:t.shift(),t.length?l()(e,n,t.map(i)):l()(e,n)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ComponentClass",function(){return d}),e.flowComponentFactory=o,e.h=i;var u=n(56),s=n.n(u),c=n(28),l=n.n(c),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(s.a),h={},p=!0},function(t,e,n){t.exports=n(59).default,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ui",function(){return u}),n.d(e,"utils",function(){return s});var r=n(30),a=n(24),o=n(20),i=n(27);e.default=r;var u=r,s={entityTree:a,webpack:o,yoyo:i}},function(t,e,n){"use strict";function r(t,e,n){var r=e.getId(),a="tvsFlowTools"+(t?"::"+t:"")+"::"+r,o=localStorage.getItem(a);if(o){var i=JSON.parse(o);i.zIndex&&(i.zIndex=0),n.set(r,S({},n.get(r),i))}n.on(e.getId(),function(t){return localStorage.setItem(a,JSON.stringify(t))})}function a(t,e){function n(t){requestAnimationFrame(function(){v.set(f.runtime.getId(),t)})}function a(){document.body.removeChild(x),I.destroy()}var h=S({debug:!1,graph:null},e),v=o.a.create();v.addGraph(Object(i.getGraphFromModules)(b)),v.flush(),t&&v.set(c.title.getId(),t),h.graph&&v.set(d.nodeState.getId(),h.graph),r(t,d.viewBox,v),r(t,d.nodeState,v),r(t,c.visibility,v),r(t,c.entitiesWindow,v),r(t,c.graphWindow,v),r(t,c.treeWindow,v),r(t,c.controlsPosition,v);var m=Object(s.flowComponentFactory)(v,l.action.getId(),h.debug),y=Object(u.a)(m),x=document.createElement("div");x.className="tvs-flow-tools-container",document.body.appendChild(x),M.a.render(g()(y),x),v.set(l.element.getId(),x);var I=new p.a(".tvs-save-graph",{text:function(){return JSON.stringify(v.get(d.nodeState.getId()),null,"  ")}});return I.on("success",function(t){return console.log("saved graph to clipboard",t)}),I.on("error",function(t){return console.log("error while saving graph to clipboard",t)}),{updateFlow:n,dispose:a,getState:function(){return v},getElement:function(){return x}}}Object.defineProperty(e,"__esModule",{value:!0}),e.start=a;var o=n(31),i=n(20),u=n(34),s=n(27),c=n(5),l=n(3),f=n(8),d=n(16),h=n(60),p=n.n(h),v=n(17),M=n.n(v),m=n(28),g=n.n(m),S=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},b=n(68)},function(t,e,n){"use strict";var r=n(32);n(0),n(19),n(9),e.a=r,r.create},function(t,e,n){"use strict";function r(){function t(){return{entities:w,processes:A,arcs:P,meta:R}}function e(){var t={};for(var e in N.es)t[e]=N.es[e].val;return t}function n(){return L}function r(t){L=t}function i(){return R}function u(t){null==t||"object"!=typeof t||t instanceof Array||(R=o({},R,t))}function s(t){k=t}function c(t){return N.es[t]&&N.es[t].val}function l(t,e){_(O(t),e,!0)&&x()}function f(t,e){l(t,e(c(t)))}function d(t,e){O(t).cb.push(e)}function h(t,e){var n=O(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]}function p(t){var e=Object(a.createEntity)(t);w[e.id]=e;var n=O(e.id);return null==e.value||!e.reset&&null!=n.val||(n.val=e.value,z[e.id]=!1,U=!0),n.accept=e.accept,e}function v(t){var e=O(t);for(var n in e.arcs)S(n);delete N.es[t],delete w[t]}function M(t){var e=Object(a.createProcess)(t,L),n=e.ports,r=T(e.id);A[e.id]=e,delete r.acc,r.values=[],r.sources=[],r.async=e.async,r.delta=e.delta,Object.keys(r.arcs).forEach(function(t){var e=P[t].port;null==e||n[e]&&n[e]!==a.PORT_TYPES.ACCUMULATOR||S(t)}),n.forEach(function(t,e){t===a.PORT_TYPES.ACCUMULATOR&&(r.acc=e)});for(var o in r.arcs)b(P[o]);return e}function m(t){var e=T(t);e.stop&&(e.stop(),delete e.stop);for(var n in e.arcs)S(n);delete N.ps[t],delete A[t]}function g(t){var e=Object(a.createArc)(t);P[e.id]=e,b(e);var n=T(e.process),r=A[e.process];return r&&!0===r.autostart&&Object.keys(n.arcs).length===Object.keys(r.ports).length+1&&D(n),e}function S(t){var e=P[t];if(e){var n=T(e.process),r=O(e.entity);delete n.arcs[t],delete r.arcs[t],null!=e.port?(delete r.effects[e.process],delete n.sources[e.port],delete n.values[e.port]):(n.stop&&(n.stop(),delete n.stop),n.sink=function(){},delete n.out,delete r.reactions[e.process])}delete P[t]}function b(t){var e=t.process,n=t.entity,r=T(e),o=O(n),i=A[e];o.arcs[t.id]=!0,i&&(r.arcs[t.id]=!0,null!=t.port?(delete o.effects[e],i.ports&&null!=i.ports[t.port]&&(r.sources[t.port]=o,i.ports[t.port]===a.PORT_TYPES.HOT&&(o.effects[e]=r))):(r.out=o,null!=r.acc?(r.sources[r.acc]=o,o.reactions[e]=r):delete o.reactions[e],r.sink=function(t){_(o,t,!0)&&!j&&x()}))}function y(t){if(t.entities)for(var e in t.entities)p(t.entities[e]);if(t.processes)for(var e in t.processes)M(t.processes[e]);if(t.arcs)for(var e in t.arcs)g(t.arcs[e]);t.meta&&u(t.meta)}function x(){k&&console.log("flushing graph recursively with",z);var t=Object.keys(z);if(U){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(z[r]){var a=N.es[r];for(var o in a.reactions)I(a.reactions[o])}}var i={};z={},U=!1,j=!0;for(var u=0,s=t;u<s.length;u++){var r=s[u],a=N.es[r];a.cb.length>0&&(C[r]=a);for(var o in a.effects)i[o]||(I(a.effects[o]),i[o]=!0)}if(j=!1,U)x();else{var c=Object.keys(C);C={};for(var l in c)for(var a=N.es[c[l]],f=0,d=a.cb;f<d.length;f++){var h=d[f];h(a.val)}k&&console.log("flush finished")}}}function I(t){for(var e=!0,n=0;n<t.sources.length;n++){var r=t.sources[n];if(null==r.val){e=!1;break}if(t.values[n]=r.val,t.delta){if(null==r.oldVal){e=!1;break}t.values[n+1]=r.oldVal}}if(e)if(k&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=A[t.id].procedure.apply(L,[t.sink].concat(t.values));else{var a=A[t.id].procedure.apply(L,t.values);t.out&&_(t.out,a,null==t.acc)}}function _(t,e,n){return!(t.accept&&!t.accept(e,t.val)||(t.oldVal=t.val,t.val=e,null!=e&&(z[t.id]=n,U=!0),0))}function D(t){t.async?requestAnimationFrame(function(){I(t)}):(I(t),t.out&&(z[t.out.id]=!1))}function E(t){var e=T(t);I(e),e.async||x()}function F(t){var e=T(t);e.stop&&(e.stop(),delete e.stop)}function O(t){return w[t]||p({id:t}),N.es[t]||(N.es[t]={id:t,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function T(t){return N.ps[t]||(N.ps[t]={id:t,arcs:{},sink:function(){}})}var w={},A={},P={},N={es:{},ps:{}},R={},L=null,k=!1,C={},z={},j=!1,U=!1;return{addEntity:p,removeEntity:v,addProcess:M,removeProcess:m,addArc:g,removeArc:S,addGraph:y,getGraph:t,getState:e,setMeta:u,getMeta:i,getContext:n,setContext:r,setDebug:s,get:c,set:l,update:f,on:d,off:h,start:E,stop:F,flush:x,PORT_TYPES:o({},a.PORT_TYPES)}}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r;var a=n(9),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,n){"use strict";function r(t){return["h1",t]}function a(t,e){return function(){return e(b.b.MAIN.SET_ACTIVE_WINDOW,t)}}function o(t,e,n){var o=t.visibility,i=t.position,u=function(t){return function(){return e(b.b.MAIN.UPDATE_VISIBILITY,t)}};return["header",{class:Object(f.a)("tvs-flow-controls",v.a),onmousedown:a("controls",e),style:E({},i)},n(r,y.title),["nav",{class:"tvs-controls-btns"},["ul",["li",Object(p.a)({class:o.tree&&F,onclick:u("tree"),icon:d.e(),title:"toggle entity tree"})],["li",Object(p.a)({class:o.graph&&F,onclick:u("graph"),icon:d.d(),title:"toggle flow graph"})],["li",Object(p.a)({class:o.entities&&F,onclick:u("entities"),icon:d.c(),title:"toggle entity details"})]]]]}function i(t,e,n){var r=t.dimensions,o=t.window;return["article",{class:Object(f.a)("tvs-flow-tree",v.e),style:E({},r),onmousedown:a("tree",e)},["header",d.e("tree"===o?"selected":"")," Tree ",["span",{class:"gap"}]," ",Object(p.a)({icon:d.a(),class:S.b,title:"close window",onclick:function(){return e(b.b.MAIN.CLOSE_WINDOW,"tree")}})],["section",{class:v.d},n(g.a,D.treeData)],["footer",{class:"resize"}]]}function u(t,e,n){function r(t){if(t&&t.querySelector){var n=t.querySelector("section");requestAnimationFrame(function(){e(b.b.GRAPH.UPDATE_SIZE,{width:n.clientWidth,height:n.clientHeight})})}}var o=t.dimensions,i=t.window,u=n(M.a,I.viewData);return["article",{ref:r,class:Object(f.a)("tvs-flow-graph",v.e),style:E({},o),onmousedown:a("graph",e)},["header",d.d("graph"===i?"selected":"")," Graph ",["span",{class:"gap"}],n(M.b,I.viewBox)," ",Object(p.a)({icon:d.b(),class:Object(f.a)(S.b,"tvs-save-graph"),title:"copy the current graph state to clipboard"}),Object(p.a)({icon:d.a(),class:S.b,title:"close window",onclick:function(){return e(b.b.MAIN.CLOSE_WINDOW,"graph")}})],u,["footer",{class:"resize"}]]}function s(t,e,n){var r=t.dimensions,o=t.node,i=t.window,u=o&&o.procedure?Object(m.b)(o,e):n(m.a,_.entityViewProps);return["article",{class:Object(f.a)("tvs-flow-entities",v.e),style:E({},r),onmousedown:a("entities",e)},["header",d.c("entities"===i?"selected":"")," ",o&&o.id," ",["span",{class:"gap"}," "]," ",Object(p.a)({icon:d.a(),class:S.b,title:"close window",onclick:function(){return e(b.b.MAIN.CLOSE_WINDOW,"entities")}})],u,["footer",{class:"resize"}]]}function c(t,e,n){var r=t.tree?n(i,x.treeWindowProps):"",a=t.graph?n(u,x.graphWindowProps):"",c=t.entities?n(s,x.entitiesWindowProps):"";return["article",{class:Object(f.a)("tvs-flow-tools",h.f)},n(o,x.controlProps),a,c,r]}function l(t){return t(c,y.visibility)}e.a=l;var f=n(21),d=n(12),h=n(6),p=n(14),v=n(15),M=n(50),m=n(52),g=n(55),S=n(11),b=n(1),y=n(5),x=n(25),I=n(16),_=n(4),D=n(26),E=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},F=Object(f.b)({color:h.e})},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(36),a=n(22),o=n(10),i=(n.n(o),function(){return o.create(void 0,!0)}),u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=Object(r.a)(a.b.apply(void 0,e)).result;n._freeStyle.registerRule(t,i),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,a=0,o=t;a<o.length;a++){var i=o[a];r.registerRule("@font-face",i)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=Object(r.b)(t),a=e.keyframes,o=e.$debugName,i=n._freeStyle.registerKeyframes(a,o);return n._styleUpdated(),i},this.reinit=function(){var t=i();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=n._freeStyle,i=Object(r.a)(a.b.apply(void 0,t)),u=i.result,s=i.debugName,c=s?o.registerStyle(u,s):o.registerStyle(u);return n._styleUpdated(),c};var o=i();this._autoGenerateTag=e,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;Object(a.c)(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}()},function(t,e,n){"use strict";function r(t){var e={},n="";for(var a in t){var i=t[a];if("$unique"===a)e[o.IS_UNIQUE]=i;else if("$nest"===a){var u=i;for(var s in u){var c=u[s];e[s]=r(c).result}}else"$debugName"===a?n=i:e[a]=i}return{result:e,debugName:n}}function a(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e}e.a=r,e.b=a;var o=n(10);n.n(o)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function i(){v&&h&&(v=!1,h.length?p=h.concat(p):M=-1,p.length&&u())}function u(){if(!v){var t=a(i);v=!0;for(var e=p.length;e;){for(h=p,p=[];++M<e;)h&&h[M].run();M=-1,e=p.length}h=null,v=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var h,p=[],v=!1,M=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||v||a(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(40),a=n(23),o=n(10),i=function(){return o.create(void 0,!0)},u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=r.ensureStringObj(a.extend.apply(void 0,e)).result;n._freeStyle.registerRule(t,i),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,a=0,o=t;a<o.length;a++){var i=o[a];r.registerRule("@font-face",i)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=r.explodeKeyframes(t),a=e.keyframes,o=e.$debugName,i=n._freeStyle.registerKeyframes(a,o);return n._styleUpdated(),i},this.reinit=function(){var t=i();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=n._freeStyle,i=r.ensureStringObj(a.extend.apply(void 0,t)),u=i.result,s=i.debugName,c=s?o.registerStyle(u,s):o.registerStyle(u);return n._styleUpdated(),c};var o=i();this._autoGenerateTag=e,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;a.raf(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}();e.TypeStyle=u},function(t,e,n){"use strict";function r(t){var e={},n="";for(var a in t){var i=t[a];if("$unique"===a)e[o.IS_UNIQUE]=i;else if("$nest"===a){var u=i;for(var s in u){var c=u[s];e[s]=r(c).result}}else"$debugName"===a?n=i:e[a]=i}return{result:e,debugName:n}}function a(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e}Object.defineProperty(e,"__esModule",{value:!0});var o=n(10);e.ensureStringObj=r,e.explodeKeyframes=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(43)),r(n(44)),r(n(45)),r(n(46)),r(n(47)),r(n(48)),r(n(49))},function(t,e,n){"use strict";function r(t){return m(t)||g(t)||S(t)||m("red")}function a(t,e,n){return new E(I,c(t),b.ensurePercent(e),b.ensurePercent(n),1,!1)}function o(t,e,n,r){return new E(I,c(t),b.ensurePercent(e),b.ensurePercent(n),b.ensurePercent(r),!0)}function i(t,e,n){return new E(x,t,e,n,1,!1)}function u(t,e,n,r){return new E(x,t,e,n,b.ensurePercent(r),!0)}function s(t){var e=Math.round(t);return(e<16?"0":"")+e.toString(16)}function c(t){return((t<0?360:0)+t%360)%360}function l(t,e){return Math.round(Math.pow(10,e)*t)*Math.pow(10,-e)}function f(t,e,n,r,a){var o,i=t/255,u=e/255,s=n/255,c=Math.min(i,u,s),l=Math.max(i,u,s),f=(c+l)/2,d=l-c;o=l===c?0:i===l?(u-s)/d:u===l?2+(s-i)/d:s===l?4+(i-u)/d:0,(o=Math.min(60*o,360))<0&&(o+=360);var h;return h=l===c?0:f<=.5?d/(l+c):d/(2-l-c),new E(I,o,h,f,r,a)}function d(t,e,n,r,a){var o=t/360,i=e,u=n;if(0===i){var s=255*u;return new E(x,s,s,s,r,a)}for(var c=u<.5?u*(1+i):u+i-u*i,l=2*u-c,f=0,d=0,h=0,p=0;p<3;p++){var v=o+1/3*-(p-1);v<0&&v++,v>1&&v--;var s=void 0;s=6*v<1?l+6*(c-l)*v:2*v<1?c:3*v<2?l+(c-l)*(2/3-v)*6:l,s*=255,0===p?f=s:1===p?d=s:h=s}return new E(x,f,d,h,r,a)}function h(t,e,n,r,a,o,i){return t===e?new E(t,n,r,a,o,i):_[t-e](n,r,a,o,i)}function p(t,e,n,r){if(!y)return[t||0,e||0,n||0,r||0];var a=new Float32Array(4);return a[0]=t||0,a[1]=e||0,a[2]=n||0,a[3]=r||0,a}function v(t,e,n){var r=D[t][e];return n<0?0:n>r?r:n}function M(t){return t instanceof E?t:r(t)}function m(t){return F[t]||void 0}function g(t){var e=t.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i);if(e){var n=e[1],r=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16);return new E(x,r>>16&255,r>>8&255,255&r,1,!1)}}function S(t){var e=b.parseCSSFunction(t);if(e&&(4===e.length||5===e.length)){var n,r=e[0],a="rgba"===r,o="hsla"===r,i="rgb"===r,u="hsl"===r,s=o||a;if(i||a)n=x;else{if(!u&&!o)throw new Error("unsupported color string");n=I}var c=parseFloat(e[1]),l=i||a?parseFloat(e[2]):b.ensurePercent(e[2]),f=i||a?parseFloat(e[3]):b.ensurePercent(e[3]),d=s?parseFloat(e[4]):1;return new E(n,c,l,f,d,s)}}var b=n(13),y="undefined"!=typeof Float32Array,x=0,I=1,_=(O={},O[x-I]=f,O[I-x]=d,O),D=(T={},T[x]=p(255,255,255,1),T[I]=p(360,1,1,1),T);e.color=r,e.hsl=a,e.hsla=o,e.rgb=i,e.rgba=u;var E=function(){function t(t,e,n,r,a,o){this._format=t,this._hasAlpha=o,this._values=p(v(t,0,e),v(t,1,n),v(t,2,r),v(t,3,a))}return t.convertHelper=function(t,e){var n=e._format,r=e._values,a=e._hasAlpha;return n===t?e:_[n-t](r[0],r[1],r[2],r[3],a)},t.prototype.toString=function(){var t,e,n=this._format,r=this._values,a=this._hasAlpha;if(n===x)t=a?"rgba":"rgb",e=[Math.round(r[0]),Math.round(r[1]),Math.round(r[2])];else{if(n!==I)throw new Error("Invalid color format");t=a?"hsla":"hsl",e=[Math.round(r[0]),b.formatPercent(l(r[1],2)),b.formatPercent(l(r[2],2))]}return a&&e.push(l(r[3],5)),b.cssFunction(t,e)},t.prototype.toHexString=function(){var e=t.convertHelper(x,this)._values;return"#"+(s(e[0])+s(e[1])+s(e[2])).toUpperCase()},t.prototype.toHSL=function(){var t=this._values;return h(this._format,I,t[0],t[1],t[2],1,!1)},t.prototype.toHSLA=function(){var t=this._values;return h(this._format,I,t[0],t[1],t[2],t[3],!0)},t.prototype.toRGB=function(){var t=this._values;return h(this._format,x,t[0],t[1],t[2],1,!1)},t.prototype.toRGBA=function(){var t=this._values;return h(this._format,x,t[0],t[1],t[2],t[3],!0)},t.prototype.red=function(){return(this._format===x?this:this.toRGB())._values[0]},t.prototype.green=function(){return(this._format===x?this:this.toRGB())._values[1]},t.prototype.blue=function(){return(this._format===x?this:this.toRGB())._values[2]},t.prototype.hue=function(){return(this._format===I?this:this.toHSL())._values[0]},t.prototype.saturation=function(){return(this._format===I?this:this.toHSL())._values[1]},t.prototype.lightness=function(){return(this._format===I?this:this.toHSL())._values[2]},t.prototype.alpha=function(){return this._values[3]},t.prototype.opacity=function(){return this.alpha()},t.prototype.invert=function(){var e=t.convertHelper(x,this)._values;return t.convertHelper(this._format,new t(x,255-e[0],255-e[1],255-e[2],this._values[3],this._hasAlpha))},t.prototype.lighten=function(e,n){var r=t.convertHelper(I,this)._values,a=D[I][2],o=r[2]+(n?a-r[2]:a)*b.ensurePercent(e);return t.convertHelper(this._format,new t(I,r[0],r[1],o,this._values[3],this._hasAlpha))},t.prototype.darken=function(e,n){var r=t.convertHelper(I,this)._values,a=r[2]-(n?r[2]:D[I][2])*b.ensurePercent(e);return t.convertHelper(this._format,new t(I,r[0],r[1],a,this._values[3],this._hasAlpha))},t.prototype.saturate=function(e,n){var r=t.convertHelper(I,this)._values,a=D[I][1],o=r[1]+(n?a-r[1]:a)*b.ensurePercent(e);return t.convertHelper(this._format,new t(I,r[0],o,r[2],this._values[3],this._hasAlpha))},t.prototype.desaturate=function(e,n){var r=t.convertHelper(I,this)._values,a=D[I][1],o=r[1]-(n?r[1]:a)*b.ensurePercent(e);return t.convertHelper(this._format,new t(I,r[0],o,r[2],this._values[3],this._hasAlpha))},t.prototype.grayscale=function(){return this.desaturate(1)},t.prototype.fade=function(e){var n=this._values,r=v(x,3,b.ensurePercent(e));return t.convertHelper(this._format,new t(this._format,n[0],n[1],n[2],r,!0))},t.prototype.fadeOut=function(e,n){var r=this._values,a=v(x,3,r[3]-(n?r[3]:1)*b.ensurePercent(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],a,!0))},t.prototype.fadeIn=function(e,n){var r=this._values,a=v(x,3,r[3]+(n?r[3]:1)*b.ensurePercent(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],a,!0))},t.prototype.mix=function(e,n){var r=this,a=M(e),o=t.convertHelper(x,r)._values,i=t.convertHelper(x,a)._values,u=void 0===n?.5:n,s=2*u-1,c=Math.abs(o[3]-i[3]),l=((s*c==-1?s:(s+c)/(1+s*c))+1)/2,f=1-l,d=new t(x,Math.round(o[0]*l+i[0]*f),Math.round(o[1]*l+i[1]*f),Math.round(o[2]*l+i[2]*f),o[3]*u+i[3]*(1-u),r._hasAlpha||a._hasAlpha);return t.convertHelper(this._format,d)},t.prototype.tint=function(t){return e.white.mix(this,t)},t.prototype.shade=function(t){return e.black.mix(this,t)},t.prototype.spin=function(e){var n=t.convertHelper(I,this)._values;return t.convertHelper(this._format,new t(I,c(n[0]+e),n[1],n[2],this._values[3],this._hasAlpha))},t}();e.ColorHelper=E;var F={aliceblue:i(240,248,245),antiquewhite:i(250,235,215),aqua:i(0,255,255),aquamarine:i(127,255,212),azure:i(240,255,255),beige:i(245,245,220),bisque:i(255,228,196),black:i(0,0,0),blanchedalmond:i(255,235,205),blue:i(0,0,255),blueviolet:i(138,43,226),brown:i(165,42,42),burlywood:i(222,184,35),cadetblue:i(95,158,160),chartreuse:i(127,255,0),chocolate:i(210,105,30),coral:i(255,127,80),cornflowerblue:i(100,149,237),cornsilk:i(255,248,220),crimson:i(220,20,60),cyan:i(0,255,255),darkblue:i(0,0,139),darkcyan:i(0,139,139),darkgoldenrod:i(184,134,11),darkgray:i(169,169,169),darkgreen:i(0,100,0),darkgrey:i(169,169,169),darkkhaki:i(189,183,107),darkmagenta:i(139,0,139),darkolivegreen:i(85,107,47),darkorange:i(255,140,0),darkorchid:i(153,50,204),darkred:i(139,0,0),darksalmon:i(233,150,122),darkseagreen:i(143,188,143),darkslateblue:i(72,61,139),darkslategray:i(47,79,79),darkslategrey:i(47,79,79),darkturquoise:i(0,206,209),darkviolet:i(148,0,211),deeppink:i(255,20,147),deepskyblue:i(0,191,255),dimgray:i(105,105,105),dimgrey:i(105,105,105),dodgerblue:i(30,144,255),firebrick:i(178,34,34),floralwhite:i(255,250,240),forestgreen:i(34,139,34),fuchsia:i(255,0,255),gainsboro:i(220,220,220),ghostwhite:i(248,248,255),gold:i(255,215,0),goldenrod:i(218,165,32),gray:i(128,128,128),green:i(0,128,0),greenyellow:i(173,255,47),grey:i(128,128,128),honeydew:i(240,255,240),hotpink:i(255,105,180),indianred:i(205,92,92),indigo:i(75,0,130),ivory:i(255,255,240),khaki:i(240,230,140),lavender:i(230,230,250),lavenderblush:i(255,240,245),lawngreen:i(124,252,0),lemonchiffon:i(255,250,205),lightblue:i(173,216,230),lightcoral:i(240,128,128),lightcyan:i(224,255,255),lightgoldenrodyellow:i(250,250,210),lightgray:i(211,211,211),lightgreen:i(144,238,144),lightgrey:i(211,211,211),lightpink:i(255,182,193),lightsalmon:i(255,160,122),lightseagreen:i(32,178,170),lightskyblue:i(135,206,250),lightslategray:i(119,136,153),lightslategrey:i(119,136,153),lightsteelblue:i(176,196,222),lightyellow:i(255,255,224),lime:i(0,255,0),limegreen:i(50,205,50),linen:i(250,240,230),maroon:i(128,0,0),mediumaquamarine:i(102,205,170),mediumblue:i(0,0,205),mediumorchid:i(186,85,211),mediumpurple:i(147,112,219),mediumseagreen:i(60,179,113),mediumslateblue:i(123,104,238),mediumspringgreen:i(0,250,154),mediumturquoise:i(72,209,204),mediumvioletred:i(199,21,133),midnightblue:i(25,25,112),mintcream:i(245,255,250),mistyrose:i(255,228,225),moccasin:i(255,228,181),navajowhite:i(255,222,173),navy:i(0,0,128),oldlace:i(253,245,230),olive:i(128,128,0),olivedrab:i(107,142,35),orange:i(255,165,0),purple:i(128,0,128),rebeccapurple:i(102,51,153),red:i(255,0,0),silver:i(192,192,192),teal:i(0,128,128),transparent:u(0,0,0,0),white:i(255,255,255),yellow:i(255,255,0)};e.aliceblue=F.aliceblue,e.antiquewhite=F.antiquewhite,e.aqua=F.aqua,e.aquamarine=F.aquamarine,e.azure=F.azure,e.beige=F.beige,e.bisque=F.bisque,e.black=F.black,e.blanchedalmond=F.blanchedalmond,e.blue=F.blue,e.blueviolet=F.blueviolet,e.brown=F.brown,e.burlywood=F.burlywood,e.cadetblue=F.cadetblue,e.chartreuse=F.chartreuse,e.chocolate=F.chocolate,e.coral=F.coral,e.cornflowerblue=F.cornflowerblue,e.cornsilk=F.cornsilk,e.crimson=F.crimson,e.cyan=F.cyan,e.darkblue=F.darkblue,e.darkcyan=F.darkcyan,e.darkgoldenrod=F.darkgoldenrod,e.darkgray=F.darkgray,e.darkgreen=F.darkgreen,e.darkgrey=F.darkgrey,e.darkkhaki=F.darkkhaki,e.darkmagenta=F.darkmagenta,e.darkolivegreen=F.darkolivegreen,e.darkorange=F.darkorange,e.darkorchid=F.darkorchid,e.darkred=F.darkred,e.darksalmon=F.darksalmon,e.darkseagreen=F.darkseagreen,e.darkslateblue=F.darkslateblue,e.darkslategray=F.darkslategray,e.darkslategrey=F.darkslategrey,e.darkturquoise=F.darkturquoise,e.darkviolet=F.darkviolet,e.deeppink=F.deeppink,e.deepskyblue=F.deepskyblue,e.dimgray=F.dimgray,e.dimgrey=F.dimgrey,e.dodgerblue=F.dodgerblue,e.firebrick=F.firebrick,e.floralwhite=F.floralwhite,e.forestgreen=F.forestgreen,e.fuchsia=F.fuchsia,e.gainsboro=F.gainsboro,e.ghostwhite=F.ghostwhite,e.gold=F.gold,e.goldenrod=F.goldenrod,e.gray=F.gray,e.green=F.green,e.greenyellow=F.greenyellow,e.grey=F.grey,e.honeydew=F.honeydew,e.hotpink=F.hotpink,e.indianred=F.indianred,e.indigo=F.indigo,e.ivory=F.ivory,e.khaki=F.khaki,e.lavender=F.lavender,e.lavenderblush=F.lavenderblush,e.lawngreen=F.lawngreen,e.lemonchiffon=F.lemonchiffon,e.lightblue=F.lightblue,e.lightcoral=F.lightcoral,e.lightcyan=F.lightcyan,e.lightgoldenrodyellow=F.lightgoldenrodyellow,e.lightgray=F.lightgray,e.lightgreen=F.lightgreen,e.lightgrey=F.lightgrey,e.lightpink=F.lightpink,e.lightsalmon=F.lightsalmon,e.lightseagreen=F.lightseagreen,e.lightskyblue=F.lightskyblue,e.lightslategray=F.lightslategray,e.lightslategrey=F.lightslategrey,e.lightsteelblue=F.lightsteelblue,e.lightyellow=F.lightyellow,e.lime=F.lime,e.limegreen=F.limegreen,e.linen=F.linen,e.maroon=F.maroon,e.mediumaquamarine=F.mediumaquamarine,e.mediumblue=F.mediumblue,e.mediumorchid=F.mediumorchid,e.mediumpurple=F.mediumpurple,e.mediumseagreen=F.mediumseagreen,e.mediumslateblue=F.mediumslateblue,e.mediumspringgreen=F.mediumspringgreen,e.mediumturquoise=F.mediumturquoise,e.mediumvioletred=F.mediumvioletred,e.midnightblue=F.midnightblue,e.mintcream=F.mintcream,e.mistyrose=F.mistyrose,e.moccasin=F.moccasin,e.navajowhite=F.navajowhite,e.navy=F.navy,e.oldlace=F.oldlace,e.olive=F.olive,e.olivedrab=F.olivedrab,e.orange=F.orange,e.purple=F.purple,e.rebeccapurple=F.rebeccapurple,e.red=F.red,e.silver=F.silver,e.teal=F.teal,e.transparent=F.transparent,e.white=F.white,e.yellow=F.yellow;var O,T},function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i.cssFunction("linear-gradient",[t].concat(e.map(o)))}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i.cssFunction("repeating-linear-gradient",[t].concat(e.map(o)))}function o(t){return Array.isArray(t)?t.map(function(t){return t.toString()}).join(" "):t.toString()}var i=n(13);e.linearGradient=r,e.repeatingLinearGradient=a},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(t||[]).filter(function(t){return t||0===t}).map(function(t){return t.toString()}).join(",")}e.list=r},function(t,e,n){"use strict";function r(t){return"'"+(t||0===t?t.toString():"").replace(/\'/g,"\\'")+"'"}function a(t){return t||0===t?t.toString()+" !important":""}function o(t){return"url("+(t||"")+")"}e.quote=r,e.important=a,e.url=o},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?t.join(" "):"none"}function a(t,e,n,r,a,o){return D.cssFunction("matrix",[t,e,n,r,a,o])}function o(t,e,n,r,a,o,i,u,s,c,l,f,d,h,p,v){return D.cssFunction("matrix3d",[t,e,n,r,a,o,i,u,s,c,l,f,d,h,p,v])}function i(t){return D.cssFunction("perspective",[t])}function u(t){return D.cssFunction("rotate",[t])}function s(t,e,n){return D.cssFunction("rotate3d",[t,e,n])}function c(t){return D.cssFunction("rotateX",[t])}function l(t){return D.cssFunction("rotateY",[t])}function f(t){return D.cssFunction("rotateZ",[t])}function d(t,e){return D.cssFunction("scale",e||0===e?[t,e]:[t])}function h(t,e,n){return D.cssFunction("scale3d",[t,e,n])}function p(t){return D.cssFunction("scaleX",[t])}function v(t){return D.cssFunction("scaleY",[t])}function M(t){return D.cssFunction("scaleZ",[t])}function m(t,e){return D.cssFunction("skew",e||0===e?[t,e]:[t])}function g(t){return D.cssFunction("skewX",[t])}function S(t){return D.cssFunction("skewY",[t])}function b(t,e){return D.cssFunction("translate",e||0===e?[t,e]:[t])}function y(t,e,n){return D.cssFunction("translate3d",[t,e,n])}function x(t){return D.cssFunction("translateX",[t])}function I(t){return D.cssFunction("translateY",[t])}function _(t){return D.cssFunction("translateZ",[t])}var D=n(13);e.transform=r,e.matrix=a,e.matrix3d=o,e.perspective=i,e.rotate=u,e.rotate3d=s,e.rotateX=c,e.rotateY=l,e.rotateZ=f,e.scale=d,e.scale3d=h,e.scaleX=p,e.scaleY=v,e.scaleZ=M,e.skew=m,e.skewX=g,e.skewY=S,e.translate=b,e.translate3d=y,e.translateX=x,e.translateY=I,e.translateZ=_},function(t,e,n){"use strict";function r(t){return t+"%"}function a(t){return t+"px"}function o(t){return t+"em"}function i(t){return t+"rad"}function u(t){return t+"rem"}function s(t){return t+"vh"}function c(t){return t+"vw"}function l(t){return t+"turn"}e.percent=r,e.px=a,e.em=o,e.rad=i,e.rem=u,e.viewHeight=s,e.viewWidth=c,e.turn=l},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(t||[]).map(function(t){var e="";return t.image&&(e+=" "+t.image),t.position&&(e+=" "+t.position),(t.size||0===t.size)&&(e+=" "+t.size),t.repeat&&(e+=" "+t.repeat),t.origin&&(e+=" "+t.origin),t.clip&&(e+=" "+t.clip),t.attachment&&(e+=" "+t.attachment),t.color&&(e+=" "+t.color),e.trim()}).filter(function(t){return""!==t}).join(",")}e.background=r},function(t,e,n){"use strict";function r(t,e){return["span",["input",{type:"range",value:t.scale,min:.5,max:3,step:.2,onchange:function(t){return e(u.b.GRAPH.UPDATE_SCALE,t.target.value)},onmousemove:function(t){return t.stopPropagation()}}]]}function a(t,e){if(!t)return["section",{class:o.a}];var n=t.entities,r=t.processes,a=t.edges,s=t.viewBox,c=void 0===s?{}:s;return["section",{class:o.a},["svg",{width:"100%",height:"100%",id:"graph-ui",viewBox:c.x+", "+c.y+", "+c.width+", "+c.height}].concat(a.map(function(t){return["line",{x1:t.from.x,y1:t.from.y,x2:t.to.x,y2:t.to.y,class:Object(i.classes)(t.class,t.active&&"active")}]}),r.map(function(t){return["circle",{class:Object(i.classes)(t.class,t.active&&"active"),transform:"translate("+t.x+", "+t.y+")",onmousedown:function(){return e(u.b.ENTITIES.OPEN_PROCESS,t.id)},cx:0,cy:0,r:t.autostart?13:8,title:t.id}]}),n.map(function(t){return["g",{"data-eid":t.id,transform:"translate("+t.x+", "+t.y+")",onmousedown:function(){return e(u.b.ENTITIES.OPEN_ENTITY,t.id)},title:t.id,class:Object(i.classes)(t.class,t.active&&"active")},["rect",{x:-15,y:-15,width:30,height:30,class:t.accept?"accept":""}],["text",{"text-anchor":"middle",x:0,y:30},t.label],t.initial&&["circle",{cx:0,cy:0,r:6,class:"initial"}]]}))]}e.b=r,e.a=a;var o=n(51),i=n(2),u=(n.n(i),n(1))},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),a=(n.n(r),n(6)),o=Object(r.style)(a.b,{position:"relative",flexGrow:1,$nest:{"& svg":{position:"absolute",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.6))"},"& text":{fill:"white",stroke:"black",paintOrder:"stroke"},"& line":{stroke:"darkgray",$nest:{"&.active":{stroke:"#ff7"},"&.to":{strokeWidth:6},"&.to.async":{strokeDasharray:"4, 5"},"&.to.acc":{stroke:"black",strokeWidth:2},"&.from":{strokeWidth:2},"&.from.cold":{strokeDasharray:"7, 10"}}},"& rect":{$nest:{"&.accept":{strokeWidth:3,strokeDasharray:"3, 3"}}},"& .group-1 rect":{fill:"orangered"},"& .group-1.active rect":{fill:"lightsalmon",stroke:"orangered",strokeWidth:5},"& circle.group-1":{fill:"orangered"},"& circle.group-1.active":{fill:"lightsalmon"},"& .group-1 .initial":{fill:"darkred"},"& .group-1 .accept":{stroke:"darkred"},"& .group-2 rect":{fill:"limegreen"},"& .group-2.active rect":{fill:"palegreen",stroke:"limegreen",strokeWidth:5},"& circle.group-2":{fill:"limegreen"},"& circle.group-2.active":{fill:"palegreen"},"& .group-2 .initial":{fill:"darkgreen"},"& .group-2 .accept":{stroke:"darkgreen"},"& .group-3 rect":{fill:"cornflowerblue"},"& .group-3.active rect":{fill:"lightblue",stroke:"cornflowerblue",strokeWidth:5},"& circle.group-3":{fill:"cornflowerblue"},"& circle.group-3.active":{fill:"lightblue"},"& .group-3 .initial":{fill:"darkslateblue"},"& .group-3 .accept":{stroke:"darkslateblue"},"& .group-4 rect":{fill:"orchid"},"& .group-4.active rect":{fill:"thistle",stroke:"orchid",strokeWidth:5},"& circle.group-4":{fill:"orchid"},"& circle.group-4.active":{fill:"thistle"},"& .group-4 .initial":{fill:"purple"},"& .group-4 .accept":{stroke:"purple"},"& .group-5 rect":{fill:"gold"},"& .group-5.active rect":{fill:"palegoldenrod",stroke:"gold",strokeWidth:5},"& circle.group-5":{fill:"gold"},"& circle.group-5.active":{fill:"beige"},"& .group-5 .initial":{fill:"darkgoldenrod"},"& .group-5 .accept":{stroke:"darkgoldenrod"},"& .group-6 rect":{fill:"lightseagreen"},"& .group-6.active rect":{fill:"paleturquoise",stroke:"lightseagreen",strokeWidth:5},"& circle.group-6":{fill:"lightseagreen"},"& circle.group-6.active":{fill:"paleturquoise"},"& .group-6 .initial":{fill:"darkslategray"},"& .group-6 .accept":{stroke:"darkslategray"},"& .group-7 rect":{fill:"orange"},"& .group-7.active rect":{fill:"moccasin",stroke:"orange",strokeWidth:5},"& circle.group-7":{fill:"orange"},"& circle.group-7.active":{fill:"moccasin"},"& .group-7 .initial":{fill:"saddlebrown"},"& .group-7 .accept":{stroke:"saddlebrown"}}})},function(t,e,n){"use strict";function r(t,e){var n=t.value,r=t.watching,a="";if(n)try{a=JSON.stringify(n,null,"  ")}catch(t){a="Error: "+t.message}return["code",["pre",{contentEditable:!r,onInput:function(t){return e(l.b.ENTITIES.UPDATE_EDITED_VALUE,t.target.textContent)}},a]]}function a(t,e,n){var a=t.entity,o=t.watching,d=["div",{style:"margin-top: 4px"}];return o?(d.push(["button",{class:s.a,key:"edit-btn",onclick:function(){return e(l.b.ENTITIES.SET_EDIT_MODE,!0)}},"Edit"],Object(u.a)({key:"inspect-btn-"+a.id,onclick:function(){return e(l.a.ENTITY_INSPECT,a.id)},icon:i.i(),title:"Inspect entity value"})),a.value&&d.push(Object(u.a)({key:"reset-btn-"+a.id,onclick:function(){return e(l.a.ENTITY_RESET,a.id)},icon:i.h(),title:"Reset entity value"}))):d.push(["button",{class:s.a,onclick:function(){return e(l.b.ENTITIES.SET_EDIT_MODE,!1)}},"Cancel"],["button",{class:s.a,key:"save-btn-"+a.id,onclick:function(){return e(l.b.ENTITIES.SAVE_VALUE,a.id)}},"Save"]),["section",{class:c.b},["div",{class:c.d},n(r,f.entityValueView)],d]}function o(t,e){var n=["div",{style:"margin-top: 4px"}];return n.push(Object(u.a)({onclick:function(){return e(l.a.PROCESS_RUN,t.id)},icon:i.g(),title:"Run process"})),t.async&&n.push(Object(u.a)({onclick:function(){return e(l.a.PROCESS_STOP,t.id)},icon:i.j(),title:"Stop async process"})),["section",{class:c.b},["div",{class:c.d},["code",["pre",t.procedure.toString()]]],n]}e.a=a,e.b=o;var i=n(12),u=n(14),s=n(11),c=n(15),l=n(1),f=n(4)},function(t,e,n){"use strict";function r(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}e.a=r},function(t,e,n){"use strict";function r(t,e){function n(e){l.pressed[e.button]=e,e.button===a.LEFT&&(f=e.clientX,d=e.clientY,h=!0),t(l)}function r(e){delete l.pressed[e.button],delete l.drag.event,l.drag.x=0,l.drag.y=0,h=!1,t(l)}function o(e){h&&(l.drag.event=e,l.drag.x=f-e.clientX,l.drag.y=d-e.clientY,t(l))}function i(t){t.preventDefault()}void 0===e&&(e={});var u=e.element,s=void 0===u?document:u,c=e.enableRightButton,l={pressed:{},drag:{x:0,y:0}},f=0,d=0,h=!1;return s.addEventListener("mousedown",n),document.addEventListener("mouseup",r),document.addEventListener("mousemove",o),c&&s.addEventListener("contextmenu",i),t(l),function(){s.removeEventListener("mousedown",n),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r),c&&s.removeEventListener("contextmenu",i)}}e.a=r;var a={LEFT:0,MIDDLE:1,RIGHT:2}},function(t,e,n){"use strict";function r(t,e,n,a,o){if(e.__entity__){var i=e.__entity__,d=["span",{class:"entity-controls"},Object(s.a)({icon:u.i(),class:c.b,onclick:function(){return a(l.a.ENTITY_INSPECT,i.id)},title:"Inspect entity value"})];null!=i.value&&d.push(Object(s.a)({class:c.b,onclick:function(){return a(l.a.ENTITY_RESET,i.id)},icon:u.h(),title:"Reset entity value"}));var h="entity-item";return n===i.id&&(h+=" selected"),["li",["div",{class:h,onclick:function(){return a(l.b.ENTITIES.OPEN_ENTITY,i.id)}},null!=i.value?u.k():u.j()," "+t+" ",d]]}var p=["li",["div",{onclick:function(){return a(l.b.TREE.TOGGLE_LEVEL,e.__path__)}},u.f(o[e.__path__]?"":f)," "+t]];if(!o[e.__path__]){var v=["ul"];for(var M in e)"__path__"!==M&&v.push(r(M,e[M],n,a,o));p.push(v)}return p}function a(t,e){var n=t.fold,a=t.tree,i=t.selected,u=["ul",{class:o.c}];if(a){var s=Object.keys(a).map(function(t){return r(t,a[t],i.id,e,n)});u.push.apply(u,s)}return u}e.a=a;var o=n(15),i=n(2),u=(n.n(i),n(12)),s=n(14),c=n(11),l=n(1),f=Object(i.style)({transform:"rotate(90deg)"})},function(t,e,n){t.exports=n(57).default,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){var e=typeof t;return"string"===e||"number"===e}function a(t){return c(t)||u(t)}function o(t){return u(t)||!1===t||s(t)||c(t)}function i(t){return"function"==typeof t}function u(t){return null===t}function s(t){return!0===t}function c(t){return void 0===t}function l(t){throw t||(t=g),new Error("Inferno Error: "+t)}function f(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var a in e)n[a]=e[a];return n}function d(t,e){if(28&t.flags){var n=t.parentVNode;n&&(n.dom=e,d(n,e))}}function h(t,e,n){var r=y.get(t);void 0===r&&(r=[],y.set(t,r),x.then(function(){y.delete(t),t._updating=!0,v(t,e,function(){for(var e=0,n=r.length;e<n;e++)r[e].call(t)}),t._updating=!1})),a(n)||r.push(n)}function p(t,e,n){i(e)&&(e=e(t.state,t.props,t.context));var r=t._pendingState;if(a(r))t._pendingState=r=e;else for(var o in e)r[o]=e[o];if(!S||t._pendingSetState||t._blockRender){var u=t.state;if(null===u)t.state=r;else for(var s in r)u[s]=r[s];t._pendingState=null,!a(n)&&t._blockRender&&t._lifecycle.addListener(n.bind(t))}else t._updating?h(t,!1,n):(t._pendingSetState=!0,t._updating=!0,v(t,!1,n),t._updating=!1)}function v(t,e,n){if(!t._unmounted){if(e||!t._blockRender){t._pendingSetState=!1;var i=t._pendingState,s=t.state,c=f(s,i),h=t.props,p=t.context;t._pendingState=null;var v=t._updateComponent(s,c,h,h,p,e,!0),g=!0;o(v)?v=M.createVNode(4096,null):v===m?(v=t._lastInput,g=!1):r(v)?v=M.createVNode(1,null,null,v):b(v)&&l();var S=t._lastInput,y=t._vNode,x=S.dom&&S.dom.parentNode||(S.dom=y.dom);if(t._lastInput=v,g){var I;a(t.getChildContext)||(I=t.getChildContext()),I=a(I)?t._childContext:f(p,I);var _=t._lifecycle;M.internal_patch(S,v,x,_,I,t._isSVG,!1),_.trigger(),a(t.componentDidUpdate)||t.componentDidUpdate(h,s,p),u(M.options.afterUpdate)||M.options.afterUpdate(y)}var D=y.dom=v.dom;M.options.findDOMNodeEnabled&&M.internal_DOMNodeMap.set(t,v.dom),d(y,D)}else t.state=t._pendingState,t._pendingState=null;a(n)||n.call(t)}}Object.defineProperty(e,"__esModule",{value:!0});var M=n(17),m="$NO_OP",g="a runtime error occured! Use Inferno in development environment to find the error.",S=!("undefined"==typeof window||!window.document),b=Array.isArray,y=new Map,x=Promise.resolve(),I=function(t,e){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=t||M.EMPTY_OBJ,this.context=e||M.EMPTY_OBJ};I.prototype.forceUpdate=function(t){!this._unmounted&&S&&v(this,!0,t)},I.prototype.setState=function(t,e){this._unmounted||(this._blockSetState?l():p(this,t,e))},I.prototype.setStateSync=function(t){this.setState(t)},I.prototype._updateComponent=function(t,e,n,r,o,i,u){if(!0===this._unmounted&&l(),n!==r||r===M.EMPTY_OBJ||t!==e||i){if(n!==r||r===M.EMPTY_OBJ){if(!a(this.componentWillReceiveProps)&&!u){var s=f(this.state);this._blockRender=!0,this.componentWillReceiveProps(r,o),this._blockRender=!1;var c=this.state;s!==c&&(this.state=s,this._pendingSetState=!0,this._pendingState=c)}this._pendingSetState&&(e=f(e,this._pendingState),this._pendingSetState=!1,this._pendingState=null)}if(i||a(this.shouldComponentUpdate)||this.shouldComponentUpdate&&this.shouldComponentUpdate(r,e,o)){a(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(r,e,o),this._blockSetState=!1),this.props=r,this.state=e,this.context=o,M.options.beforeRender&&M.options.beforeRender(this);var d=this.render(r,e,o);return M.options.afterRender&&M.options.afterRender(this),d}this.props=r,this.state=e,this.context=o}return m},I.prototype.render=function(t,e,n){},e.default=I},function(t,e,n){"use strict";function r(t){return!d(t.prototype)&&!d(t.prototype.render)}function a(t){var e=typeof t;return"string"===e||"number"===e}function o(t){return d(t)||l(t)}function i(t){return l(t)||!1===t||f(t)||d(t)}function u(t){return"function"==typeof t}function s(t){return"string"==typeof t}function c(t){return"number"==typeof t}function l(t){return null===t}function f(t){return!0===t}function d(t){return void 0===t}function h(t){return"object"==typeof t}function p(t){throw t||(t=pe),new Error("Inferno Error: "+t)}function v(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var a in e)n[a]=e[a];return n}function M(){this.listeners=[]}function m(t,e,n,r){var a=Oe.get(t);if(n)a||(a={items:new Map,docEvent:null},a.docEvent=y(t,a),Oe.set(t,a)),e||Fe&&"onClick"===t&&I(r),a.items.set(r,n);else if(a){var o=a.items;o.delete(r)&&0===o.size&&(document.removeEventListener(S(t),a.docEvent),Oe.delete(t))}}function g(t,e,n,r,a,o){var i=n.get(e);if((!i||(r--,o.dom=e,i.event?i.event(i.data,t):i(t),!t.cancelBubble))&&r>0){var u=e.parentNode;if(null===u||a&&1===u.nodeType&&u.disabled)return;g(t,u,n,r,a,o)}}function S(t){return t.substr(2).toLowerCase()}function b(){this.cancelBubble=!0,this.stopImmediatePropagation()}function y(t,e){var n=function(t){var n=e.items.size;if(n>0){t.stopPropagation=b;var r={dom:document};try{Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(t){}g(t,t.target,e.items,n,"click"===t.type,r)}};return document.addEventListener(S(t),n),n}function x(){}function I(t){t.onclick=x}function _(t){return"checkbox"===t||"radio"===t}function D(t){var e=this.vNode,n=e.props||Re,r=e.dom,a=n.value;if(n.onInput){var o=n.onInput;o.event?o.event(o.data,t):o(t)}else n.oninput&&n.oninput(t);var i=this.vNode,u=i.props||Re;a!==u.value&&T(u,r)}function E(t){var e=this.vNode.props||Re,n=e.onChange;n.event?n.event(n.data,t):n(t)}function F(t){t.stopPropagation();var e=this.vNode,n=e.props||Re,r=e.dom;if(n.onClick){var a=n.onClick;a.event?a.event(a.data,t):a(t)}else n.onclick&&n.onclick(t);T(this.vNode.props||Re,r)}function O(t,e,n,r,a){T(n,e),a&&(e.vNode=t,r&&(_(n.type)?(e.onclick=F,e.onclick.wrapped=!0):(e.oninput=D,e.oninput.wrapped=!0),n.onChange&&(e.onchange=E,e.onchange.wrapped=!0)))}function T(t,e){var n=t.type,r=t.value,a=t.checked,i=t.multiple,u=t.defaultValue,s=!o(r);n&&n!==e.type&&e.setAttribute("type",n),i&&i!==e.multiple&&(e.multiple=i),o(u)||s||(e.defaultValue=u+""),_(n)?(s&&(e.value=r),o(a)||(e.checked=a)):s&&e.value!==r?(e.defaultValue=r,e.value=r):o(a)||(e.checked=a)}function w(t,e){if("optgroup"===t.type){var n=t.children;if(Me(n))for(var r=0,a=n.length;r<a;r++)A(n[r],e);else ne(n)&&A(n,e)}else A(t,e)}function A(t,e){var n=t.props||Re,r=t.dom;r.value=n.value,Me(e)&&-1!==e.indexOf(n.value)||n.value===e?r.selected=!0:o(e)&&o(n.selected)||(r.selected=n.selected||!1)}function P(t){var e=this.vNode,n=e.props||Re,r=e.dom,a=n.value;if(n.onChange){var o=n.onChange;o.event?o.event(o.data,t):o(t)}else n.onchange&&n.onchange(t);var i=this.vNode,u=i.props||Re;a!==u.value&&R(i,r,u,!1)}function N(t,e,n,r,a){R(t,e,n,r),a&&(e.vNode=t,r&&(e.onchange=P,e.onchange.wrapped=!0))}function R(t,e,n,r){n.multiple!==e.multiple&&(e.multiple=n.multiple);var a=t.children;if(!i(a)){var u=n.value;if(r&&o(u)&&(u=n.defaultValue),Me(a))for(var s=0,c=a.length;s<c;s++)w(a[s],u);else ne(a)&&w(a,u)}}function L(t){var e=this.vNode.props||Re,n=e.onChange;n.event?n.event(n.data,t):n(t)}function k(t){var e=this.vNode,n=e.props||Re,r=n.value;if(n.onInput){var a=n.onInput;a.event?a.event(a.data,t):a(t)}else n.oninput&&n.oninput(t);var o=this.vNode;r!==(o.props||Re).value&&z(o,e.dom,!1)}function C(t,e,n,r,a){z(n,e,r),a&&(e.vNode=t,r&&(e.oninput=k,e.oninput.wrapped=!0,n.onChange&&(e.onchange=L,e.onchange.wrapped=!0)))}function z(t,e,n){var r=t.value,a=e.value;if(o(r)){if(n){var i=t.defaultValue;o(i)?""!==a&&(e.defaultValue="",e.value=""):i!==a&&(e.defaultValue=i,e.value=i)}}else a!==r&&(e.defaultValue=r,e.value=r)}function j(t,e,n,r,a,o){512&t&&O(e,n,r,a,o),2048&t&&N(e,n,r,a,o),1024&t&&C(e,n,r,a,o)}function U(t){return t.type&&_(t.type)?!o(t.checked):!o(t.value)}function H(t){for(var e=t.firstChild;e;)if(8===e.nodeType)if("!"===e.data){var n=document.createTextNode("");t.replaceChild(n,e),e=e.nextSibling}else{var r=e.previousSibling;t.removeChild(e),e=r||t.firstChild}else e=e.nextSibling}function Y(t,e,n,r,a,o){var i=t.type,u=t.ref,s=t.props||Re;if(o){var c=e.namespaceURI===be,l=Lt(t,i,s,r,c,n),f=l._lastInput;l._vNode=t,W(f,e,n,l._childContext,c),t.dom=f.dom,Pt(t,u,l,n),l._updating=!1,me.findDOMNodeEnabled&&Ae.set(l,e)}else{var d=zt(t,i,s,r);W(d,e,n,r,a),t.children=d,t.dom=d.dom,Nt(s,u,e,n)}return e}function q(t,e,n,r,a){var u=t.children,s=t.props,c=t.className,l=t.flags,f=t.ref;if(a=a||(128&l)>0,1!==e.nodeType||e.tagName.toLowerCase()!==t.type){var d=Tt(t,null,n,r,a);return t.dom=d,Vt(e.parentNode,d,e),d}if(t.dom=e,i(u)?null!==e.firstChild&&(e.textContent=""):B(u,e,n,r,a),s){var h=!1,p=(3584&l)>0;p&&(h=U(s));for(var v in s)xt(v,null,s[v],e,a,h);p&&j(l,t,e,s,!0,h)}return o(c)?""!==e.className&&e.removeAttribute("class"):a?e.setAttribute("class",c):e.className=c,f&&Rt(e,f,n),e}function B(t,e,n,r,o){H(e);var i=e.firstChild;if(a(t))l(i)||3!==i.nodeType?""===t?e.appendChild(document.createTextNode("")):e.textContent=t:i.nodeValue!==t&&(i.nodeValue=t),l(i)||(i=i.nextSibling);else if(Me(t))for(var u=0,s=t.length;u<s;u++){var c=t[u];if(!l(c)&&h(c))if(l(i))Et(c,e,n,r,o);else{var f=i.nextSibling;W(c,i,n,r,o),i=f}}else l(i)?Et(t,e,n,r,o):(W(t,i,n,r,o),i=i.nextSibling);for(;i;){var d=i.nextSibling;e.removeChild(i),i=d}}function V(t,e){if(3!==e.nodeType){var n=Ft(t,null);return t.dom=n,Vt(e.parentNode,n,e),n}var r=t.children;return e.nodeValue!==r&&(e.nodeValue=r),t.dom=e,e}function G(t,e){return t.dom=e,e}function W(t,e,n,r,a){var o=t.flags;28&o?Y(t,e,n,r,a,(4&o)>0):3970&o?q(t,e,n,r,a):1&o?V(t,e):4096&o?G(t,e):p()}function X(t,e,n){if(!l(e)){var r=e.firstChild;if(!l(r)){for(W(t,r,n,Re,!1),r=e.firstChild;r=r.nextSibling;)e.removeChild(r);return!0}}return!1}function $(t,e,n,r){var a=t.type,o=we.get(a);if(!d(o)){var i=t.key,u=null===i?o.nonKeyed:o.keyed.get(i);if(!d(u)){var s=u.pop();if(!d(s))return ht(s,t,null,e,n,r,!0),t.dom}}return null}function K(t){var e=t.type,n=t.key,r=we.get(e);if(d(r)&&(r={keyed:new Map,nonKeyed:[]},we.set(e,r)),l(n))r.nonKeyed.push(t);else{var a=r.keyed.get(n);d(a)&&(a=[],r.keyed.set(n,a)),a.push(t)}}function Z(t,e,n,r){var a=t.type,o=Te.get(a);if(!d(o)){var i=t.key,u=null===i?o.nonKeyed:o.keyed.get(i);if(!d(u)){var s=u.pop();if(!d(s)&&!vt(s,t,null,e,n,r,(4&t.flags)>0,!0))return t.dom}}return null}function Q(t){var e=t.ref;if(!e||!(e.onComponentWillMount||e.onComponentWillUnmount||e.onComponentDidMount||e.onComponentWillUpdate||e.onComponentDidUpdate)){var n=t.type,r=t.key,a=Te.get(n);if(d(a)&&(a={keyed:new Map,nonKeyed:[]},Te.set(n,a)),l(r))a.nonKeyed.push(t);else{var o=a.keyed.get(r);d(o)&&(o=[],a.keyed.set(r,o)),o.push(t)}}}function J(t,e,n,r,a){var o=t.flags;28&o?et(t,e,n,r,a):3970&o?nt(t,e,n,r,a):4097&o&&tt(t,e)}function tt(t,e){l(e)||Gt(e,t.dom)}function et(t,e,n,r,a){var i=t.children,u=t.flags,s=4&u,c=t.props||Re,f=t.ref,h=t.dom;if(a||(s?i._unmounted||(l(me.beforeUnmount)||me.beforeUnmount(t),d(i.componentWillUnmount)||i.componentWillUnmount(),f&&!a&&f(null),i._unmounted=!0,me.findDOMNodeEnabled&&Ae.delete(i),J(i._lastInput,null,i._lifecycle,!1,a)):(o(f)||o(f.onComponentWillUnmount)||f.onComponentWillUnmount(h,c),J(i,null,n,!1,a))),e){var p=i._lastInput;o(p)&&(p=i),Gt(e,h)}me.recyclingEnabled&&!s&&(e||r)&&Q(t)}function nt(t,e,n,r,a){var i=t.dom,u=t.ref,s=t.props;u&&!a&&at(u);var c=t.children;if(o(c)||rt(c,n,a),!l(s))for(var f in s)null!==s[f]&&yt(f)&&(It(f,s[f],null,i),s[f]=null);l(e)||Gt(e,i),me.recyclingEnabled&&(e||r)&&K(t)}function rt(t,e,n){if(Me(t))for(var r=0,a=t.length;r<a;r++){var o=t[r];!i(o)&&h(o)&&J(o,null,e,!1,n)}else h(t)&&J(t,null,e,!1,n)}function at(t){if(u(t))t(null);else{if(i(t))return;p()}}function ot(t){me.findDOMNodeEnabled||p();var e=t&&t.nodeType?t:null;return Ae.get(t)||e}function it(t){for(var e=0,n=Pe.length;e<n;e++){var r=Pe[e];if(r.dom===t)return r}return null}function ut(t,e,n){var r={dom:t,input:e,lifecycle:n};return Pe.push(r),r}function st(t){for(var e=0,n=Pe.length;e<n;e++)if(Pe[e]===t)return void Pe.splice(e,1)}function ct(t,e){if(Ne===e&&p(),t!==he){var n=it(e);if(l(n)){var r=new M;i(t)||(t.dom&&(t=Qt(t)),X(t,e,r)||Et(t,e,r,Re,!1),n=ut(e,t,r),r.trigger())}else{var a=n.lifecycle;a.listeners=[],o(t)?(J(n.input,e,a,!1,!1),st(n)):(t.dom&&(t=Qt(t)),ft(n.input,t,e,a,Re,!1,!1)),n.input=t,a.trigger()}if(n){var u=n.input;if(u&&28&u.flags)return u.children}}}function lt(t){return function(e,n){t||(t=e),ct(n,t)}}function ft(t,e,n,r,a,o,i){if(t!==e){var u=t.flags,s=e.flags;if(28&s){var c=(4&s)>0;28&u?vt(t,e,n,r,a,o,c,i):Ct(n,At(e,null,r,a,o,c),t,r,i)}else 3970&s?3970&u?ht(t,e,n,r,a,o,i):Ct(n,Tt(e,null,r,a,o),t,r,i):1&s?1&u?Mt(t,e):Ct(n,Ft(e,null),t,r,i):4096&s?4096&u?mt(t,e):Ct(n,Ot(e,null),t,r,i):kt(t,e,n,r,a,o,i)}}function dt(t,e,n,r){ne(t)?J(t,e,n,!0,r):Me(t)?Wt(e,t,n,r):e.textContent=""}function ht(t,e,n,r,a,i,u){var s=e.type;if(t.type!==s)Bt(t,e,n,r,a,i,u);else{var c=t.dom,l=t.props,f=e.props,d=t.children,h=e.children,p=t.flags,v=e.flags,M=e.ref,m=t.className,g=e.className;if(e.dom=c,i=i||(128&v)>0,d!==h&&pt(p,v,d,h,c,r,a,!0===i&&"foreignObject"!==e.type,u),l!==f){var S=l||Re,b=f||Re,y=!1;if(b!==Re){var x=(3584&v)>0;x&&(y=U(b));for(var I in b){var _=b[I];xt(I,S[I],_,c,i,y)}x&&j(v,e,c,b,u,y)}if(S!==Re)for(var D in S)o(b[D])&&!o(S[D])&&Dt(D,S[D],c,v)}m!==g&&(o(g)?c.removeAttribute("class"):i?c.setAttribute("class",g):c.className=g),M&&(t.ref!==M||u)&&Rt(c,M,r)}}function pt(t,e,n,r,o,u,s,c,l){var f=!1,d=!1;64&e?f=!0:(32&t)>0&&(32&e)>0?(d=!0,f=!0):i(r)?dt(n,o,u,l):i(n)?a(r)?jt(o,r):Me(r)?wt(r,o,u,s,c):Et(r,o,u,s,c):a(r)?a(n)?Ut(o,r):(dt(n,o,u,l),jt(o,r)):Me(r)?Me(n)?(f=!0,$t(n,r)&&(d=!0)):(dt(n,o,u,l),wt(r,o,u,s,c)):Me(n)?(Wt(o,n,u,l),Et(r,o,u,s,c)):ne(r)&&(ne(n)?ft(n,r,o,u,s,c,l):(dt(n,o,u,l),Et(r,o,u,s,c))),f&&(d?St(n,r,o,u,s,c,l):gt(n,r,o,u,s,c,l))}function vt(t,e,n,r,u,s,c,f){var M=t.type,m=e.type,g=t.key,S=e.key;if(M!==m||g!==S)return Bt(t,e,n,r,u,s,f),!1;var b=e.props||Re;if(c){var y=t.children;if(y._updating=!0,y._unmounted){if(l(n))return!0;Vt(n,At(e,null,r,u,s,(4&e.flags)>0),t.dom)}else{var x,I=!d(y.componentDidUpdate),_=y.state,D=I?v(_,null):_,E=y.props;o(y.getChildContext)||(x=y.getChildContext()),e.children=y,y._isSVG=s,x=o(x)?u:v(u,x);var F=y._lastInput,O=y._updateComponent(D,_,E,b,u,!1,!1),T=!0;y._childContext=x,i(O)?O=te():O===he?(O=F,T=!1):a(O)?O=ee(O,null):Me(O)?p():h(O)&&(l(O.dom)||(O=Qt(O))),28&O.flags?O.parentVNode=e:28&F.flags&&(F.parentVNode=e),y._lastInput=O,y._vNode=e,T&&(ft(F,O,n,r,x,s,f),I&&y.componentDidUpdate&&y.componentDidUpdate(E,D),l(me.afterUpdate)||me.afterUpdate(e),me.findDOMNodeEnabled&&Ae.set(y,O.dom)),e.dom=O.dom}y._updating=!1}else{var w=!0,A=t.props,P=e.ref,N=!o(P),R=t.children,L=R;e.dom=t.dom,e.children=R,g!==S?w=!0:N&&!o(P.onComponentShouldUpdate)&&(w=P.onComponentShouldUpdate(A,b)),!1!==w&&(N&&!o(P.onComponentWillUpdate)&&P.onComponentWillUpdate(A,b),L=m(b,u),i(L)?L=te():a(L)&&L!==he?L=ee(L,null):Me(L)?p():h(L)&&(l(L.dom)||(L=Qt(L))),L!==he&&(ft(R,L,n,r,u,s,f),e.children=L,N&&!o(P.onComponentDidUpdate)&&P.onComponentDidUpdate(A,b),e.dom=L.dom)),28&L.flags?L.parentVNode=e:28&R.flags&&(R.parentVNode=e)}return!1}function Mt(t,e){var n=e.children,r=t.dom;e.dom=r,t.children!==n&&(r.nodeValue=n)}function mt(t,e){e.dom=t.dom}function gt(t,e,n,r,a,o,i){for(var u=t.length,s=e.length,c=u>s?s:u,l=0;l<c;l++){var f=e[l];f.dom&&(f=e[l]=Qt(f)),ft(t[l],f,n,r,a,o,i)}if(u<s)for(l=c;l<s;l++){var d=e[l];d.dom&&(d=e[l]=Qt(d)),Ht(n,Et(d,null,r,a,o))}else if(0===s)Wt(n,t,r,i);else if(u>s)for(l=c;l<u;l++)J(t[l],n,r,!1,i)}function St(t,e,n,r,a,o,i){var u,s,c,f,h,p,v,M=t.length,m=e.length,g=M-1,S=m-1,b=0,y=0;if(0===M)return void(m>0&&wt(e,n,r,a,o));if(0===m)return void Wt(n,t,r,i);var x=t[b],I=e[y],_=t[g],D=e[S];I.dom&&(e[y]=I=Qt(I)),D.dom&&(e[S]=D=Qt(D));t:for(;;){for(;x.key===I.key;){if(ft(x,I,n,r,a,o,i),b++,y++,b>g||y>S)break t;x=t[b],I=e[y],I.dom&&(e[y]=I=Qt(I))}for(;_.key===D.key;){if(ft(_,D,n,r,a,o,i),g--,S--,b>g||y>S)break t;_=t[g],D=e[S],D.dom&&(e[S]=D=Qt(D))}if(_.key!==I.key){if(x.key!==D.key)break;ft(x,D,n,r,a,o,i),p=S+1,h=p<e.length?e[p].dom:null,Yt(n,D.dom,h),b++,S--,x=t[b],D=e[S],D.dom&&(e[S]=D=Qt(D))}else ft(_,I,n,r,a,o,i),Yt(n,I.dom,x.dom),g--,y++,_=t[g],I=e[y],I.dom&&(e[y]=I=Qt(I))}if(b>g){if(y<=S)for(p=S+1,h=p<e.length?e[p].dom:null;y<=S;)v=e[y],v.dom&&(e[y]=v=Qt(v)),y++,Yt(n,Et(v,null,r,a,o),h)}else if(y>S)for(;b<=g;)J(t[b++],n,r,!1,i);else{M=g-b+1,m=S-y+1;var E=new Array(m);for(u=0;u<m;u++)E[u]=-1;var F=!1,O=0,T=0;if(m<=4||M*m<=16){for(u=b;u<=g;u++)if(c=t[u],T<m)for(s=y;s<=S;s++)if(f=e[s],c.key===f.key){E[s-y]=u,O>s?F=!0:O=s,f.dom&&(e[s]=f=Qt(f)),ft(c,f,n,r,a,o,i),T++,t[u]=null;break}}else{var w=new Map;for(u=y;u<=S;u++)w.set(e[u].key,u);for(u=b;u<=g;u++)c=t[u],T<m&&(s=w.get(c.key),d(s)||(f=e[s],E[s-y]=u,O>s?F=!0:O=s,f.dom&&(e[s]=f=Qt(f)),ft(c,f,n,r,a,o,i),T++,t[u]=null))}if(M===t.length&&0===T)for(Wt(n,t,r,i);y<m;)v=e[y],v.dom&&(e[y]=v=Qt(v)),y++,Yt(n,Et(v,null,r,a,o),null);else{for(u=M-T;u>0;)c=t[b++],l(c)||(J(c,n,r,!0,i),u--);if(F){var A=bt(E);for(s=A.length-1,u=m-1;u>=0;u--)-1===E[u]?(O=u+y,v=e[O],v.dom&&(e[O]=v=Qt(v)),p=O+1,h=p<e.length?e[p].dom:null,Yt(n,Et(v,null,r,a,o),h)):s<0||u!==A[s]?(O=u+y,v=e[O],p=O+1,h=p<e.length?e[p].dom:null,Yt(n,v.dom,h)):s--}else if(T!==m)for(u=m-1;u>=0;u--)-1===E[u]&&(O=u+y,v=e[O],v.dom&&(e[O]=v=Qt(v)),p=O+1,h=p<e.length?e[p].dom:null,Yt(n,Et(v,null,r,a,o),h))}}}function bt(t){var e,n,r,a,o,i=t.slice(0),u=[0],s=t.length;for(e=0;e<s;e++){var c=t[e];if(-1!==c)if(n=u[u.length-1],t[n]<c)i[e]=n,u.push(e);else{for(r=0,a=u.length-1;r<a;)o=(r+a)/2|0,t[u[o]]<c?r=o+1:a=o;c<t[u[r]]&&(r>0&&(i[e]=u[r-1]),u[r]=e)}}for(r=u.length,a=u[r-1];r-- >0;)u[r]=a,a=i[a];return u}function yt(t){return"o"===t[0]&&"n"===t[1]}function xt(t,e,n,r,a,i){if(e!==n){if(De.has(t)||i&&"value"===t)return;if(xe.has(t))t="autoFocus"===t?t.toLowerCase():t,r[t]=!!n;else if(ye.has(t)){var u=o(n)?"":n;r[t]!==u&&(r[t]=u)}else if(yt(t))It(t,e,n,r);else if(o(n))r.removeAttribute(t);else if("style"===t)_t(e,n,r);else if("dangerouslySetInnerHTML"===t){var s=e&&e.__html,c=n&&n.__html;s!==c&&(o(c)||(r.innerHTML=c))}else a&&Ie.has(t)?r.setAttributeNS(Ie.get(t),t,n):r.setAttribute(t,n)}}function It(t,e,n,r){if(e!==n)if(Ee.has(t))m(t,e,n,r);else{var a=t.toLowerCase(),i=r[a];if(i&&i.wrapped)return;if(u(n)||o(n))r[a]=n;else{var s=n.event;s&&u(s)?r[a]=function(t){s(n.data,t)}:p()}}}function _t(t,e,n){var r,a,i=n.style;if(s(e))return void(i.cssText=e);if(o(t)||s(t))for(r in e)a=e[r],i[r]=!c(a)||_e.has(r)?a:a+"px";else{for(r in e)(a=e[r])!==t[r]&&(i[r]=!c(a)||_e.has(r)?a:a+"px");for(r in t)o(e[r])&&(i[r]="")}}function Dt(t,e,n,r){"value"===t?n.value=2048&r?null:"":"style"===t?n.removeAttribute("style"):yt(t)?m(t,e,null,n):n.removeAttribute(t)}function Et(t,e,n,r,a){var o=t.flags;return 3970&o?Tt(t,e,n,r,a):28&o?At(t,e,n,r,a,(4&o)>0):4096&o?Ot(t,e):1&o?Ft(t,e):void p()}function Ft(t,e){var n=document.createTextNode(t.children);return t.dom=n,l(e)||Ht(e,n),n}function Ot(t,e){var n=document.createTextNode("");return t.dom=n,l(e)||Ht(e,n),n}function Tt(t,e,n,r,o){var u;if(me.recyclingEnabled&&(u=$(t,n,r,o),!l(u)))return l(e)||Ht(e,u),u;var s=t.flags;o=o||(128&s)>0,u=qt(t.type,o);var c=t.children,f=t.props,d=t.className,h=t.ref;if(t.dom=u,!i(c))if(a(c))jt(u,c);else{var p=!0===o&&"foreignObject"!==t.type;Me(c)?wt(c,u,n,r,p):ne(c)&&Et(c,u,n,r,p)}if(!l(f)){var v=!1,M=(3584&s)>0;M&&(v=U(f));for(var m in f)xt(m,null,f[m],u,o,v);M&&j(s,t,u,f,!0,v)}return null!==d&&(o?u.setAttribute("class",d):u.className=d),l(h)||Rt(u,h,n),l(e)||Ht(e,u),u}function wt(t,e,n,r,a){for(var o=0,u=t.length;o<u;o++){var s=t[o];i(s)||(s.dom&&(t[o]=s=Qt(s)),Et(t[o],e,n,r,a))}}function At(t,e,n,r,a,o){var i;if(me.recyclingEnabled&&(i=Z(t,n,r,a),!l(i)))return l(e)||Ht(e,i),i;var u=t.type,s=t.props||Re,c=t.ref;if(o){var f=Lt(t,u,s,r,a,n),d=f._lastInput;f._vNode=t,t.dom=i=Et(d,null,n,f._childContext,a),l(e)||Ht(e,i),Pt(t,c,f,n),f._updating=!1,me.findDOMNodeEnabled&&Ae.set(f,i)}else{var h=zt(t,u,s,r);t.dom=i=Et(h,null,n,r,a),t.children=h,Nt(s,c,i,n),l(e)||Ht(e,i)}return i}function Pt(t,e,n,r){e&&(u(e)?e(n):p());var a=!d(n.componentDidMount),o=me.afterMount;!a&&l(o)||r.addListener(function(){n._updating=!0,o&&o(t),a&&n.componentDidMount(),n._updating=!1})}function Nt(t,e,n,r){e&&(o(e.onComponentWillMount)||e.onComponentWillMount(t),o(e.onComponentDidMount)||r.addListener(function(){return e.onComponentDidMount(n,t)}))}function Rt(t,e,n){if(u(e))n.addListener(function(){return e(t)});else{if(i(e))return;p()}}function Lt(t,e,n,r,u,s){d(r)&&(r=Re);var c=new e(n,r);t.children=c,c._blockSetState=!1,c.context=r,c.props===Re&&(c.props=n),c._lifecycle=s,c._unmounted=!1,c._pendingSetState=!0,c._isSVG=u,o(c.componentWillMount)||(c._blockRender=!0,c.componentWillMount(),c._blockRender=!1);var f;o(c.getChildContext)||(f=c.getChildContext()),o(f)?c._childContext=r:c._childContext=v(r,f),l(me.beforeRender)||me.beforeRender(c);var h=c.render(n,c.state,r);return l(me.afterRender)||me.afterRender(c),Me(h)?p():i(h)?h=te():a(h)?h=ee(h,null):(h.dom&&(h=Qt(h)),28&h.flags&&(h.parentVNode=t)),c._pendingSetState=!1,c._lastInput=h,c}function kt(t,e,n,r,a,o,i){Ct(n,Et(e,null,r,a,o),t,r,i)}function Ct(t,e,n,r,a){J(n,null,r,!1,a),Vt(t,e,n.dom)}function zt(t,e,n,r){var o=e(n,r);return Me(o)?p():i(o)?o=te():a(o)?o=ee(o,null):(o.dom&&(o=Qt(o)),28&o.flags&&(o.parentVNode=t)),o}function jt(t,e){""!==e?t.textContent=e:t.appendChild(document.createTextNode(""))}function Ut(t,e){t.firstChild.nodeValue=e}function Ht(t,e){t.appendChild(e)}function Yt(t,e,n){o(n)?Ht(t,e):t.insertBefore(e,n)}function qt(t,e){return!0===e?document.createElementNS(be,t):document.createElement(t)}function Bt(t,e,n,r,a,o,i){J(t,null,r,!1,i);var u=Et(e,null,r,a,o);e.dom=u,Vt(n,u,t.dom)}function Vt(t,e,n){t||(t=n.parentNode),t.replaceChild(e,n)}function Gt(t,e){t.removeChild(e)}function Wt(t,e,n,r){(!me.recyclingEnabled||me.recyclingEnabled&&!r)&&Xt(null,e,n,r),t.textContent=""}function Xt(t,e,n,r){for(var a=0,o=e.length;a<o;a++){var u=e[a];i(u)||J(u,t,n,!0,r)}}function $t(t,e){return e.length>0&&!o(e[0])&&!o(e[0].key)&&t.length>0&&!o(t[0])&&!o(t[0].key)}function Kt(t,e,n,r,a,o,i){this.children=t,this.className=e,this.dom=null,this.flags=n,this.key=r,this.props=a,this.ref=o,this.type=i}function Zt(t,e,n,a,o,i,u,s){16&t&&(t=r(e)?4:8);var c=new Kt(void 0===a?null:a,void 0===n?null:n,t,void 0===i?null:i,void 0===o?null:o,void 0===u?null:u,e);return!0!==s&&fe(c),null!==me.createVNode&&me.createVNode(c),c}function Qt(t){var e,n=t.flags;if(28&n){var r,o=t.props;if(l(o))r=Re;else{r={};for(var u in o)r[u]=o[u]}e=Zt(n,t.type,null,null,r,t.key,t.ref,!0);var s=e.props,c=s.children;if(c)if(Me(c)){var f=c.length;if(f>0){for(var d=[],h=0;h<f;h++){var p=c[h];a(p)?d.push(p):!i(p)&&ne(p)&&d.push(Qt(p))}s.children=d}}else ne(c)&&(s.children=Qt(c));e.children=null}else if(3970&n){var v,M=t.children,m=t.props;if(null===m)v=Re;else{v={};for(var g in m)v[g]=m[g]}e=Zt(n,t.type,t.className,M,v,t.key,t.ref,!M)}else 1&n&&(e=ee(t.children,t.key));return e}function Jt(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var o=n,u=n.length;u>0&&!d(n[0])&&(e||(e={}),1===u&&(o=n[0]),d(o)||(e.children=o));var s;if(Me(t)){for(var c=[],l=0,f=t.length;l<f;l++)c.push(Qt(t[l]));s=c}else{var h=t.flags,p=t.className,M=t.key,m=t.ref;if(e&&(e.hasOwnProperty("className")&&(p=e.className),e.hasOwnProperty("ref")&&(m=e.ref),e.hasOwnProperty("key")&&(M=e.key)),28&h){s=Zt(h,t.type,p,null,t.props||e?v(t.props,e):Re,M,m,!0);var g=s.props;if(g){var S=g.children;if(S)if(Me(S)){var b=S.length;if(b>0){for(var y=[],x=0;x<b;x++){var I=S[x];a(I)?y.push(I):!i(I)&&ne(I)&&y.push(Qt(I))}g.children=y}}else ne(S)&&(g.children=Qt(S))}s.children=null}else 3970&h?(o=e&&!d(e.children)?e.children:t.children,s=Zt(h,t.type,p,o,t.props||e?v(t.props,e):Re,M,m,!1)):1&h&&(s=ee(t.children,M))}return s}function te(){return Zt(4096,null)}function ee(t,e){return Zt(1,null,null,t,null,e)}function ne(t){return!!t.flags}function re(t,e){return e.key=t,e}function ae(t,e){return c(t)&&(t="."+t),l(e.key)||"."===e.key[0]?re(t,e):e}function oe(t,e){return e.key=t+e.key,e}function ie(t,e,n,r){for(var o=t.length;n<o;n++){var u=t[n],s=r+"."+n;i(u)||(Me(u)?ie(u,e,0,s):(a(u)?u=ee(u,null):(ne(u)&&u.dom||u.key&&"."===u.key[0])&&(u=Qt(u)),u=l(u.key)||"."===u.key[0]?re(s,u):oe(r,u),e.push(u)))}}function ue(t){var e;!0===t.$?t=t.slice():t.$=!0;for(var n=0,r=t.length;n<r;n++){var o=t[n];if(i(o)||Me(o)){var u=(e||t).slice(0,n);return ie(t,u,n,""),u}a(o)?(e||(e=t.slice(0,n)),e.push(ae(n,ee(o,null)))):ne(o)&&null!==o.dom||l(o.key)&&0==(64&o.flags)?(e||(e=t.slice(0,n)),e.push(ae(n,Qt(o)))):e&&e.push(ae(n,Qt(o)))}return e||t}function se(t){return Me(t)?ue(t):ne(t)&&null!==t.dom?Qt(t):t}function ce(t,e,n){3970&t.flags&&(o(n)&&e.hasOwnProperty("children")&&(t.children=e.children),e.hasOwnProperty("className")&&(t.className=e.className||null,delete e.className)),e.hasOwnProperty("ref")&&(t.ref=e.ref,delete e.ref),e.hasOwnProperty("key")&&(t.key=e.key,delete e.key)}function le(t){return"svg"===t?128:"input"===t?512:"select"===t?2048:"textarea"===t?1024:"media"===t?256:2}function fe(t){var e=t.props,n=t.children;if(28&t.flags){var r=t.type,a=r.defaultProps;if(!o(a))if(e)for(var u in a)d(e[u])&&(e[u]=a[u]);else e=t.props=a;s(r)&&(t.flags=le(r),e&&e.children&&(t.children=e.children,n=e.children))}e&&(ce(t,e,n),i(e.children)||(e.children=se(e.children))),i(n)||(t.children=se(n))}function de(t,e){return u(e)?{data:t,event:e}:null}Object.defineProperty(e,"__esModule",{value:!0});var he="$NO_OP",pe="a runtime error occured! Use Inferno in development environment to find the error.",ve=!("undefined"==typeof window||!window.document),Me=Array.isArray;M.prototype.addListener=function(t){this.listeners.push(t)},M.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var me={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]},ge="http://www.w3.org/1999/xlink",Se="http://www.w3.org/XML/1998/namespace",be="http://www.w3.org/2000/svg",ye=new Set;ye.add("volume"),ye.add("defaultChecked");var xe=new Set;xe.add("muted"),xe.add("scoped"),xe.add("loop"),xe.add("open"),xe.add("checked"),xe.add("default"),xe.add("capture"),xe.add("disabled"),xe.add("readOnly"),xe.add("required"),xe.add("autoplay"),xe.add("controls"),xe.add("seamless"),xe.add("reversed"),xe.add("allowfullscreen"),xe.add("novalidate"),xe.add("hidden"),xe.add("autoFocus"),xe.add("selected");var Ie=new Map;Ie.set("xlink:href",ge),Ie.set("xlink:arcrole",ge),Ie.set("xlink:actuate",ge),Ie.set("xlink:show",ge),Ie.set("xlink:role",ge),Ie.set("xlink:title",ge),Ie.set("xlink:type",ge),Ie.set("xml:base",Se),Ie.set("xml:lang",Se),Ie.set("xml:space",Se);var _e=new Set;_e.add("animationIterationCount"),_e.add("borderImageOutset"),_e.add("borderImageSlice"),_e.add("borderImageWidth"),_e.add("boxFlex"),_e.add("boxFlexGroup"),_e.add("boxOrdinalGroup"),_e.add("columnCount"),_e.add("flex"),_e.add("flexGrow"),_e.add("flexPositive"),_e.add("flexShrink"),_e.add("flexNegative"),_e.add("flexOrder"),_e.add("gridRow"),_e.add("gridColumn"),_e.add("fontWeight"),_e.add("lineClamp"),_e.add("lineHeight"),_e.add("opacity"),_e.add("order"),_e.add("orphans"),_e.add("tabSize"),_e.add("widows"),_e.add("zIndex"),_e.add("zoom"),_e.add("fillOpacity"),_e.add("floodOpacity"),_e.add("stopOpacity"),_e.add("strokeDasharray"),_e.add("strokeDashoffset"),_e.add("strokeMiterlimit"),_e.add("strokeOpacity"),_e.add("strokeWidth");var De=new Set;De.add("children"),De.add("childrenType"),De.add("defaultValue"),De.add("ref"),De.add("key"),De.add("checked"),De.add("multiple");var Ee=new Set;Ee.add("onClick"),Ee.add("onMouseDown"),Ee.add("onMouseUp"),Ee.add("onMouseMove"),Ee.add("onSubmit"),Ee.add("onDblClick"),Ee.add("onKeyDown"),Ee.add("onKeyUp"),Ee.add("onKeyPress");var Fe=ve&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),Oe=new Map,Te=new Map,we=new Map,Ae=new Map,Pe=me.roots,Ne=ve?document.body:null,Re={},Le={EMPTY_OBJ:Re,NO_OP:he,cloneVNode:Jt,createRenderer:lt,createVNode:Zt,findDOMNode:ot,getFlagsForElementVnode:le,internal_DOMNodeMap:Ae,internal_isUnitlessNumber:_e,internal_normalize:fe,internal_patch:ft,linkEvent:de,options:me,render:ct,version:"3.7.0"};e.default=Le,e.EMPTY_OBJ=Re,e.NO_OP=he,e.cloneVNode=Jt,e.createRenderer=lt,e.createVNode=Zt,e.findDOMNode=ot,e.getFlagsForElementVnode=le,e.internal_DOMNodeMap=Ae,e.internal_isUnitlessNumber=_e,e.internal_normalize=fe,e.internal_patch=ft,e.linkEvent=de,e.options=me,e.render=ct,e.version="3.7.0"},function(t,e,n){"use strict";function r(t){return s(t)||i(t)}function a(t){return i(t)||!1===t||u(t)||s(t)}function o(t){return"string"==typeof t}function i(t){return null===t}function u(t){return!0===t}function s(t){return void 0===t}function c(t){return"object"==typeof t}function l(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];if(a(t)||c(t))throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var u,l=n,h=null,p=null,v=null,M=0;if(n&&(1===n.length?l=n[0]:0===n.length&&(l=void 0)),o(t)){if(M=f.getFlagsForElementVnode(t),!r(e)){u={};for(var m in e)"className"===m||"class"===m?v=e[m]:"key"===m?p=e.key:"children"===m&&s(l)?l=e.children:"ref"===m?h=e.ref:u[m]=e[m]}}else if(M=16,s(l)||(e||(e={}),e.children=l,l=null),!r(e)){u={};for(var g in e)d.has(g)?(h||(h={}),h[g]=e[g]):"key"===g?p=e.key:u[g]=e[g]}return f.createVNode(M,t,v,l,u,p,h)}Object.defineProperty(e,"__esModule",{value:!0});var f=n(17),d=new Set;d.add("onComponentWillMount"),d.add("onComponentDidMount"),d.add("onComponentWillUnmount"),d.add("onComponentShouldUpdate"),d.add("onComponentWillUpdate"),d.add("onComponentDidUpdate"),e.default=l},function(t,e,n){var r,a,o;!function(i,u){a=[t,n(61),n(63),n(64)],r=u,void 0!==(o="function"==typeof r?r.apply(e,a):r)&&(t.exports=o)}(0,function(t,e,n,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=a(e),l=a(n),f=a(r),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return u(e,t),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,f.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return s("action",t)}},{key:"defaultTarget",value:function(t){var e=s("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return s("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(l.default);t.exports=p})},function(t,e,n){var r,a,o;!function(i,u){a=[t,n(62)],r=u,void 0!==(o="function"==typeof r?r.apply(e,a):r)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(t){return t&&t.__esModule?t:{default:t}}(e),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":a(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=i})},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),a=document.createRange();a.selectNodeContents(t),r.removeAllRanges(),r.addRange(a),e=r.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){a.off(t,r),e.apply(n,arguments)}var a=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,a=n.length;for(r;r<a;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],a=[];if(r&&e)for(var o=0,i=r.length;o<i;o++)r[o].fn!==e&&r[o].fn._!==e&&a.push(r[o]);return a.length?n[t]=a:delete n[t],this}},t.exports=n},function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!u.string(e))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(t))return a(t,e,n);if(u.nodeList(t))return o(t,e,n);if(u.string(t))return i(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function i(t,e,n){return s(document.body,t,e,n)}var u=n(65),s=n(66);t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){function r(t,e,n,r,o){var i=a.apply(this,arguments);return t.addEventListener(n,i,o),{destroy:function(){t.removeEventListener(n,i,o)}}}function a(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&r.call(t,n)}}var o=n(67);t.exports=r},function(t,e){function n(t,e){for(;t&&t.nodeType!==r;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}t.exports=n},function(t,e,n){function r(t){return n(a(t))}function a(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./events.ts":3,"./state/entity.ts":4,"./state/flow.ts":8,"./state/graph.ts":16,"./state/gui.ts":5,"./state/tree.ts":26,"./state/views.ts":25};r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=68}])})},function(t,e,n){"use strict";function r(t,e){t.addGraph(Object(o.a)(e)),window.entities=a.a(t)}e.a=r;var a=n(28),o=n(29)},function(t,e,n){"use strict";function r(t){function e(t){return function(){for(var e in this)"function"==typeof this[e][t]&&this[e][t]()}}function n(t,n){return void 0===n&&(n={}),t.split(".").reduce(function(t,n){return t[n]=t[n]||{reset:e("reset"),watch:e("watch"),unwatch:e("unwatch")}},n)}function r(e){var r=t.getGraph(),a=r.entities,o=r.arcs,i=r.processes;return Object.keys(a).reduce(function(e,r){var u=n(r,e),s=a[r],c=Object.keys(o).map(function(t){return o[t]}).filter(function(t){return t.entity===r&&!t.port}).map(function(t){return t.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return t.get(r)},set:function(e){return t.set(r,e)}}),u.update=function(e){t.update(r,e)},u.reset=function(){null!=s.value?t.set(r,s.value):null!=s.json&&t.set(r,JSON.parse(s.json))},u.watch=function(){t.on(r,function(t){return console.log(r,t)})},u.unwatch=function(){t.off(r)},u.streams={},c.forEach(function(e){var n=e.split(".").pop();n&&(u.streams[n]={start:function(){t.start(e)}},i[e].async&&(u.streams[n].stop=function(){t.stop(e)}))}),e},e)}return r({update:function(){for(var t in this)"update"!==t&&delete this[t];r(this)}})}e.a=r},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}function a(t,e){var n=t.keys().map(function(n){var a=t(n);return Object.values(Object(o.c)(a,r(n,e))).filter(o.b)}).reduce(function(t,e){return t.concat(e)},[]);return Object(o.a)(n)}e.a=a;var o=n(30)},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}function a(t,e){for(var n in t){var a=t[n];r(a)&&a.id(n,e)}return t}function o(t){var e=[];for(var n in t){var a=t[n];r(a)&&e.push(a)}return e.reduce(function(t,e){return i.b(t,e.getGraph())},i.a())}e.b=r,e.c=a,e.a=o;var i=n(31);n(32),n(9),this&&this.__assign||Object.assign},function(t,e,n){"use strict";function r(){return{entities:{},processes:{},arcs:{},meta:{}}}function a(t,e){return{entities:o({},t.entities,e.entities),processes:o({},t.processes,e.processes),arcs:o({},t.arcs,e.arcs),meta:o({},t.meta,e.meta)}}e.a=r,e.b=a;var o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?Object(i.a)():e,r=t.value,a=t.json,o=t.accept,u=t.reset,c=t.meta;return null==r&&a&&(r=JSON.parse(a)),{id:n,value:r,accept:o,reset:u,meta:s({},c)}}function a(t,e){var n=t.id,r=void 0===n?Object(i.a)():n,a=t.ports,o=void 0===a?[]:a,l=t.procedure,f=t.code,d=t.autostart,h=void 0!==d&&d,p=t.async,v=void 0!==p&&p,M=t.delta,m=void 0!==M&&M,g=t.meta;if(null==l&&null!=f&&(l=Object(u.a)(f,e)),null==l)throw TypeError("Process must have procedure or code set");return m&&!o.length&&o.push(c.HOT),{id:r,ports:o,procedure:l,autostart:h,async:v,delta:m,meta:s({},g)}}function o(t){var e=t.id,n=t.entity,r=t.process,a=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==a?r+"->"+n:n+"->"+r+"::"+a),{id:e,entity:n,process:r,port:a,meta:s({},o)}}e.c=r,e.d=a,e.b=o,n.d(e,"a",function(){return c});var i=n(9),u=n(33),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},c={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,n){"use strict";function r(){return{entities:{},processes:{},arcs:{},meta:{}}}function a(t,e){return{entities:o({},t.entities,e.entities),processes:o({},t.processes,e.processes),arcs:o({},t.arcs,e.arcs),meta:o({},t.meta,e.meta)}}e.a=r,e.b=a;var o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,n){"use strict";function r(t,e){function n(e){l.pressed[e.button]=e,e.button===a.LEFT&&(f=e.clientX,d=e.clientY,h=!0),t(l)}function r(e){delete l.pressed[e.button],delete l.drag.event,l.drag.x=0,l.drag.y=0,h=!1,t(l)}function o(e){h&&(l.drag.event=e,l.drag.x=f-e.clientX,l.drag.y=d-e.clientY,t(l))}function i(t){t.preventDefault()}void 0===e&&(e={});var u=e.element,s=void 0===u?document:u,c=e.enableRightButton,l={pressed:{},drag:{x:0,y:0}},f=0,d=0,h=!1;return s.addEventListener("mousedown",n),document.addEventListener("mouseup",r),document.addEventListener("mousemove",o),c&&s.addEventListener("contextmenu",i),t(l),function(){s.removeEventListener("mousedown",n),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r),c&&s.removeEventListener("contextmenu",i)}}e.a=r;var a={LEFT:0,MIDDLE:1,RIGHT:2}},function(t,e,n){"use strict";function r(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}e.a=r},function(t,e,n){"use strict";function r(t){function e(a){r&&(t(a-(n||a)),n=a,requestAnimationFrame(e))}var n,r=!0;return requestAnimationFrame(e),function(){r=!1}}e.a=r},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},a.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},a.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*o-a*r;return i?(i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-a*i,t[3]=n*i,t):null},a.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},a.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=r*c+o*l,t[3]=a*c+i*l,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=a*s+i*u,t[2]=r*-u+o*s,t[3]=a*-u+i*s,t},a.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=a*u,t[2]=o*s,t[3]=i*s,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},a.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},a.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},a.sub=a.subtract,a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=a},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.fromValues=function(t,e,n,a,o,i){var u=new r.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=a,u[4]=o,u[5]=i,u},a.set=function(t,e,n,r,a,o,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=n*o-r*a;return s?(s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-a*s,t[3]=n*s,t[4]=(a*u-o*i)*s,t[5]=(r*i-n*u)*s,t):null},a.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],l=n[1],f=n[2],d=n[3],h=n[4],p=n[5];return t[0]=r*c+o*l,t[1]=a*c+i*l,t[2]=r*f+o*d,t[3]=a*f+i*d,t[4]=r*h+o*p+u,t[5]=a*h+i*p+s,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*c,t[1]=a*l+i*c,t[2]=r*-c+o*l,t[3]=a*-c+i*l,t[4]=u,t[5]=s,t},a.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=a*c,t[2]=o*l,t[3]=i*l,t[4]=u,t[5]=s,t},a.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=r*c+o*l+u,t[5]=a*c+i*l+s,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},a.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=e[0],l=e[1],f=e[2],d=e[3],h=e[4],p=e[5];return Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-l)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(u-h)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(s-p)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))},t.exports=a},function(t,e,n){var r=n(1),a={scalar:{},SIMD:{}};a.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.fromValues=function(t,e,n,a,o,i,u,s,c,l,f,d,h,p,v,M){var m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=a,m[4]=o,m[5]=i,m[6]=u,m[7]=s,m[8]=c,m[9]=l,m[10]=f,m[11]=d,m[12]=h,m[13]=p,m[14]=v,m[15]=M,m},a.set=function(t,e,n,r,a,o,i,u,s,c,l,f,d,h,p,v,M){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=l,t[10]=f,t[11]=d,t[12]=h,t[13]=p,t[14]=v,t[15]=M,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},a.SIMD.transpose=function(t,e){var n,r,a,o,i,u,s,c,l,f;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4.shuffle(n,r,0,1,4,5),u=SIMD.Float32x4.shuffle(a,o,0,1,4,5),s=SIMD.Float32x4.shuffle(i,u,0,2,4,6),c=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,0,s),SIMD.Float32x4.store(t,4,c),i=SIMD.Float32x4.shuffle(n,r,2,3,6,7),u=SIMD.Float32x4.shuffle(a,o,2,3,6,7),l=SIMD.Float32x4.shuffle(i,u,0,2,4,6),f=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,8,l),SIMD.Float32x4.store(t,12,f),t},a.transpose=r.USE_SIMD?a.SIMD.transpose:a.scalar.transpose,a.scalar.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],M=e[14],m=e[15],g=n*u-r*i,S=n*s-a*i,b=n*c-o*i,y=r*s-a*u,x=r*c-o*u,I=a*c-o*s,_=l*v-f*p,D=l*M-d*p,E=l*m-h*p,F=f*M-d*v,O=f*m-h*v,T=d*m-h*M,w=g*T-S*O+b*F+y*E-x*D+I*_;return w?(w=1/w,t[0]=(u*T-s*O+c*F)*w,t[1]=(a*O-r*T-o*F)*w,t[2]=(v*I-M*x+m*y)*w,t[3]=(d*x-f*I-h*y)*w,t[4]=(s*E-i*T-c*D)*w,t[5]=(n*T-a*E+o*D)*w,t[6]=(M*b-p*I-m*S)*w,t[7]=(l*I-d*b+h*S)*w,t[8]=(i*O-u*E+c*_)*w,t[9]=(r*E-n*O-o*_)*w,t[10]=(p*x-v*b+m*g)*w,t[11]=(f*b-l*x-h*g)*w,t[12]=(u*D-i*F-s*_)*w,t[13]=(n*F-r*D+a*_)*w,t[14]=(v*S-p*y-M*g)*w,t[15]=(l*y-f*S+d*g)*w,t):null},a.SIMD.invert=function(t,e){var n,r,a,o,i,u,s,c,l,f,d=SIMD.Float32x4.load(e,0),h=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),v=SIMD.Float32x4.load(e,12);return i=SIMD.Float32x4.shuffle(d,h,0,1,4,5),r=SIMD.Float32x4.shuffle(p,v,0,1,4,5),n=SIMD.Float32x4.shuffle(i,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,i,1,3,5,7),i=SIMD.Float32x4.shuffle(d,h,2,3,6,7),o=SIMD.Float32x4.shuffle(p,v,2,3,6,7),a=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.mul(r,i),s=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),u),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),i=SIMD.Float32x4.mul(r,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),l=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),u),c=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(n,r),i=SIMD.Float32x4.swizzle(i,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),c),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),l),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),c),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(a,i)),i=SIMD.Float32x4.mul(n,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.mul(n,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,i)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),l),f=SIMD.Float32x4.mul(n,u),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),i=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(i,i))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,c)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,l)),t):null},a.invert=r.USE_SIMD?a.SIMD.invert:a.scalar.invert,a.scalar.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],M=e[14],m=e[15];return t[0]=u*(d*m-h*M)-f*(s*m-c*M)+v*(s*h-c*d),t[1]=-(r*(d*m-h*M)-f*(a*m-o*M)+v*(a*h-o*d)),t[2]=r*(s*m-c*M)-u*(a*m-o*M)+v*(a*c-o*s),t[3]=-(r*(s*h-c*d)-u*(a*h-o*d)+f*(a*c-o*s)),t[4]=-(i*(d*m-h*M)-l*(s*m-c*M)+p*(s*h-c*d)),t[5]=n*(d*m-h*M)-l*(a*m-o*M)+p*(a*h-o*d),t[6]=-(n*(s*m-c*M)-i*(a*m-o*M)+p*(a*c-o*s)),t[7]=n*(s*h-c*d)-i*(a*h-o*d)+l*(a*c-o*s),t[8]=i*(f*m-h*v)-l*(u*m-c*v)+p*(u*h-c*f),t[9]=-(n*(f*m-h*v)-l*(r*m-o*v)+p*(r*h-o*f)),t[10]=n*(u*m-c*v)-i*(r*m-o*v)+p*(r*c-o*u),t[11]=-(n*(u*h-c*f)-i*(r*h-o*f)+l*(r*c-o*u)),t[12]=-(i*(f*M-d*v)-l*(u*M-s*v)+p*(u*d-s*f)),t[13]=n*(f*M-d*v)-l*(r*M-a*v)+p*(r*d-a*f),t[14]=-(n*(u*M-s*v)-i*(r*M-a*v)+p*(r*s-a*u)),t[15]=n*(u*d-s*f)-i*(r*d-a*f)+l*(r*s-a*u),t},a.SIMD.adjoint=function(t,e){var n,r,a,o,i,u,s,c,l,f,d,h,p,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return l=SIMD.Float32x4.shuffle(n,r,0,1,4,5),u=SIMD.Float32x4.shuffle(a,o,0,1,4,5),i=SIMD.Float32x4.shuffle(l,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,l,1,3,5,7),l=SIMD.Float32x4.shuffle(n,r,2,3,6,7),c=SIMD.Float32x4.shuffle(a,o,2,3,6,7),s=SIMD.Float32x4.shuffle(l,c,0,2,4,6),c=SIMD.Float32x4.shuffle(c,l,1,3,5,7),l=SIMD.Float32x4.mul(s,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.mul(u,l),d=SIMD.Float32x4.mul(i,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,l),f),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,l),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),l=SIMD.Float32x4.mul(u,s),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),f),p=SIMD.Float32x4.mul(i,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(c,l)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,l),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),l=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,3,0,1),c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),s=SIMD.Float32x4.swizzle(s,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),f),h=SIMD.Float32x4.mul(i,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,l)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,l),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),l=SIMD.Float32x4.mul(i,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),h),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,l),p),l=SIMD.Float32x4.swizzle(l,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,l),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,l)),l=SIMD.Float32x4.mul(i,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,l)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),h),l=SIMD.Float32x4.swizzle(l,2,3,0,1),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),d),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.mul(i,s),l=SIMD.Float32x4.swizzle(l,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.swizzle(l,2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(c,l)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),p),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,d),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,p),t},a.adjoint=r.USE_SIMD?a.SIMD.adjoint:a.scalar.adjoint,a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],l=t[9],f=t[10],d=t[11],h=t[12],p=t[13],v=t[14],M=t[15];return(e*i-n*o)*(f*M-d*v)-(e*u-r*o)*(l*M-d*p)+(e*s-a*o)*(l*v-f*p)+(n*u-r*i)*(c*M-d*h)-(n*s-a*i)*(c*v-f*h)+(r*s-a*u)*(c*p-l*h)},a.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4.load(n,0),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),i))));SIMD.Float32x4.store(t,0,s);var c=SIMD.Float32x4.load(n,4),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),i))));SIMD.Float32x4.store(t,4,l);var f=SIMD.Float32x4.load(n,8),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),i))));SIMD.Float32x4.store(t,8,d);var h=SIMD.Float32x4.load(n,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,p),t},a.scalar.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],v=e[12],M=e[13],m=e[14],g=e[15],S=n[0],b=n[1],y=n[2],x=n[3];return t[0]=S*r+b*u+y*f+x*v,t[1]=S*a+b*s+y*d+x*M,t[2]=S*o+b*c+y*h+x*m,t[3]=S*i+b*l+y*p+x*g,S=n[4],b=n[5],y=n[6],x=n[7],t[4]=S*r+b*u+y*f+x*v,t[5]=S*a+b*s+y*d+x*M,t[6]=S*o+b*c+y*h+x*m,t[7]=S*i+b*l+y*p+x*g,S=n[8],b=n[9],y=n[10],x=n[11],t[8]=S*r+b*u+y*f+x*v,t[9]=S*a+b*s+y*d+x*M,t[10]=S*o+b*c+y*h+x*m,t[11]=S*i+b*l+y*p+x*g,S=n[12],b=n[13],y=n[14],x=n[15],t[12]=S*r+b*u+y*f+x*v,t[13]=S*a+b*s+y*d+x*M,t[14]=S*o+b*c+y*h+x*m,t[15]=S*i+b*l+y*p+x*g,t},a.multiply=r.USE_SIMD?a.SIMD.multiply:a.scalar.multiply,a.mul=a.multiply,a.scalar.translate=function(t,e,n){var r,a,o,i,u,s,c,l,f,d,h,p,v=n[0],M=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*M+e[8]*m+e[12],t[13]=e[1]*v+e[5]*M+e[9]*m+e[13],t[14]=e[2]*v+e[6]*M+e[10]*m+e[14],t[15]=e[3]*v+e[7]*M+e[11]*m+e[15]):(r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=c,t[7]=l,t[8]=f,t[9]=d,t[10]=h,t[11]=p,t[12]=r*v+u*M+f*m+e[12],t[13]=a*v+s*M+d*m+e[13],t[14]=o*v+c*M+h*m+e[14],t[15]=i*v+l*M+p*m+e[15]),t},a.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,0,0,0,0)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(u,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2));var s=SIMD.Float32x4.add(r,SIMD.Float32x4.add(a,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(t,12,s),t},a.translate=r.USE_SIMD?a.SIMD.translate:a.scalar.translate,a.scalar.scale=function(t,e,n){var r=n[0],a=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.SIMD.scale=function(t,e,n){var r,a,o,i=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,0,0,0,0))),a=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.scale=r.USE_SIMD?a.SIMD.scale:a.scalar.scale,a.rotate=function(t,e,n,a){var o,i,u,s,c,l,f,d,h,p,v,M,m,g,S,b,y,x,I,_,D,E,F,O,T=a[0],w=a[1],A=a[2],P=Math.sqrt(T*T+w*w+A*A);return Math.abs(P)<r.EPSILON?null:(P=1/P,T*=P,w*=P,A*=P,o=Math.sin(n),i=Math.cos(n),u=1-i,s=e[0],c=e[1],l=e[2],f=e[3],d=e[4],h=e[5],p=e[6],v=e[7],M=e[8],m=e[9],g=e[10],S=e[11],b=T*T*u+i,y=w*T*u+A*o,x=A*T*u-w*o,I=T*w*u-A*o,_=w*w*u+i,D=A*w*u+T*o,E=T*A*u+w*o,F=w*A*u-T*o,O=A*A*u+i,t[0]=s*b+d*y+M*x,t[1]=c*b+h*y+m*x,t[2]=l*b+p*y+g*x,t[3]=f*b+v*y+S*x,t[4]=s*I+d*_+M*D,t[5]=c*I+h*_+m*D,t[6]=l*I+p*_+g*D,t[7]=f*I+v*_+S*D,t[8]=s*E+d*F+M*O,t[9]=c*E+h*F+m*O,t[10]=l*E+p*F+g*O,t[11]=f*E+v*F+S*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},a.scalar.rotateX=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[4],i=e[5],u=e[6],s=e[7],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+c*r,t[5]=i*a+l*r,t[6]=u*a+f*r,t[7]=s*a+d*r,t[8]=c*a-o*r,t[9]=l*a-i*r,t[10]=f*a-u*r,t[11]=d*a-s*r,t},a.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),t},a.rotateX=r.USE_SIMD?a.SIMD.rotateX:a.scalar.rotateX,a.scalar.rotateY=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-c*r,t[1]=i*a-l*r,t[2]=u*a-f*r,t[3]=s*a-d*r,t[8]=o*r+c*a,t[9]=i*r+l*a,t[10]=u*r+f*a,t[11]=s*r+d*a,t},a.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,a))),t},a.rotateY=r.USE_SIMD?a.SIMD.rotateY:a.scalar.rotateY,a.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[4],l=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+c*r,t[1]=i*a+l*r,t[2]=u*a+f*r,t[3]=s*a+d*r,t[4]=c*a-o*r,t[5]=l*a-i*r,t[6]=f*a-u*r,t[7]=d*a-s*r,t},a.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),t},a.rotateZ=r.USE_SIMD?a.SIMD.rotateZ:a.scalar.rotateZ,a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotation=function(t,e,n){var a,o,i,u=n[0],s=n[1],c=n[2],l=Math.sqrt(u*u+s*s+c*c);return Math.abs(l)<r.EPSILON?null:(l=1/l,u*=l,s*=l,c*=l,a=Math.sin(e),o=Math.cos(e),i=1-o,t[0]=u*u*i+o,t[1]=s*u*i+c*a,t[2]=c*u*i-s*a,t[3]=0,t[4]=u*s*i-c*a,t[5]=s*s*i+o,t[6]=c*s*i+u*a,t[7]=0,t[8]=u*c*i+s*a,t[9]=s*c*i-u*a,t[10]=c*c*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},a.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotationTranslation=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=r+r,s=a+a,c=o+o,l=r*u,f=r*s,d=r*c,h=a*s,p=a*c,v=o*c,M=i*u,m=i*s,g=i*c;return t[0]=1-(h+v),t[1]=f+g,t[2]=d-m,t[3]=0,t[4]=f-g,t[5]=1-(l+v),t[6]=p+M,t[7]=0,t[8]=d+m,t[9]=p-M,t[10]=1-(l+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},a.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},a.fromRotationTranslationScale=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3],s=a+a,c=o+o,l=i+i,f=a*s,d=a*c,h=a*l,p=o*c,v=o*l,M=i*l,m=u*s,g=u*c,S=u*l,b=r[0],y=r[1],x=r[2];return t[0]=(1-(p+M))*b,t[1]=(d+S)*b,t[2]=(h-g)*b,t[3]=0,t[4]=(d-S)*y,t[5]=(1-(f+M))*y,t[6]=(v+m)*y,t[7]=0,t[8]=(h+g)*x,t[9]=(v-m)*x,t[10]=(1-(f+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.fromRotationTranslationScaleOrigin=function(t,e,n,r,a){var o=e[0],i=e[1],u=e[2],s=e[3],c=o+o,l=i+i,f=u+u,d=o*c,h=o*l,p=o*f,v=i*l,M=i*f,m=u*f,g=s*c,S=s*l,b=s*f,y=r[0],x=r[1],I=r[2],_=a[0],D=a[1],E=a[2];return t[0]=(1-(v+m))*y,t[1]=(h+b)*y,t[2]=(p-S)*y,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(d+m))*x,t[6]=(M+g)*x,t[7]=0,t[8]=(p+S)*I,t[9]=(M-g)*I,t[10]=(1-(d+v))*I,t[11]=0,t[12]=n[0]+_-(t[0]*_+t[4]*D+t[8]*E),t[13]=n[1]+D-(t[1]*_+t[5]*D+t[9]*E),t[14]=n[2]+E-(t[2]*_+t[6]*D+t[10]*E),t[15]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,l=r*i,f=r*u,d=a*i,h=a*u,p=a*s,v=o*i,M=o*u,m=o*s;return t[0]=1-f-p,t[1]=l+m,t[2]=d-M,t[3]=0,t[4]=l-m,t[5]=1-c-p,t[6]=h+v,t[7]=0,t[8]=d+M,t[9]=h-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.frustum=function(t,e,n,r,a,o,i){var u=1/(n-e),s=1/(a-r),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(a+r)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t},a.perspective=function(t,e,n,r,a){var o=1/Math.tan(e/2),i=1/(r-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*i,t[15]=0,t},a.perspectiveFromFieldOfView=function(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(a+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(a-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},a.ortho=function(t,e,n,r,a,o,i){var u=1/(e-n),s=1/(r-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(a+r)*s,t[14]=(i+o)*c,t[15]=1,t},a.lookAt=function(t,e,n,o){var i,u,s,c,l,f,d,h,p,v,M=e[0],m=e[1],g=e[2],S=o[0],b=o[1],y=o[2],x=n[0],I=n[1],_=n[2];return Math.abs(M-x)<r.EPSILON&&Math.abs(m-I)<r.EPSILON&&Math.abs(g-_)<r.EPSILON?a.identity(t):(d=M-x,h=m-I,p=g-_,v=1/Math.sqrt(d*d+h*h+p*p),d*=v,h*=v,p*=v,i=b*p-y*h,u=y*d-S*p,s=S*h-b*d,v=Math.sqrt(i*i+u*u+s*s),v?(v=1/v,i*=v,u*=v,s*=v):(i=0,u=0,s=0),c=h*s-p*u,l=p*i-d*s,f=d*u-h*i,v=Math.sqrt(c*c+l*l+f*f),v?(v=1/v,c*=v,l*=v,f*=v):(c=0,l=0,f=0),t[0]=i,t[1]=c,t[2]=d,t[3]=0,t[4]=u,t[5]=l,t[6]=h,t[7]=0,t[8]=s,t[9]=f,t[10]=p,t[11]=0,t[12]=-(i*M+u*m+s*g),t[13]=-(c*M+l*m+f*g),t[14]=-(d*M+h*m+p*g),t[15]=1,t)},a.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],M=t[13],m=t[14],g=t[15],S=e[0],b=e[1],y=e[2],x=e[3],I=e[4],_=e[5],D=e[6],E=e[7],F=e[8],O=e[9],T=e[10],w=e[11],A=e[12],P=e[13],N=e[14],R=e[15];return Math.abs(n-S)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-y)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(i-x)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(u-I)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(s-_)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(c-D)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(l-E)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(f-F)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(d-O)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-T)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-w)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(v-A)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(M-P)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(P))&&Math.abs(m-N)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-R)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))},t.exports=a},function(t,e,n){var r=n(1),a=n(10),o=n(11),i=n(12),u={};u.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,a,i){var s=o.dot(a,i);return s<-.999999?(o.cross(t,e,a),o.length(t)<1e-6&&o.cross(t,n,a),o.normalize(t,t),u.setAxisAngle(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,u.normalize(r,r))}}(),u.setAxes=function(){var t=a.create();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=i.clone,u.fromValues=i.fromValues,u.copy=i.copy,u.set=i.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},u.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},u.add=i.add,u.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+i*u+a*c-o*s,t[1]=a*l+i*s+o*u-r*c,t[2]=o*l+i*c+r*s-a*u,t[3]=i*l-r*u-a*s-o*c,t},u.mul=u.multiply,u.scale=i.scale,u.rotateX=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=o*s-a*u,t[3]=i*s-r*u,t},u.rotateY=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*u,t[1]=a*s+i*u,t[2]=o*s+r*u,t[3]=i*s-a*u,t},u.rotateZ=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=a*s-r*u,t[2]=o*s+i*u,t[3]=i*s-o*u,t},u.calculateW=function(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},u.dot=i.dot,u.lerp=i.lerp,u.slerp=function(t,e,n,r){var a,o,i,u,s,c=e[0],l=e[1],f=e[2],d=e[3],h=n[0],p=n[1],v=n[2],M=n[3];return o=c*h+l*p+f*v+d*M,o<0&&(o=-o,h=-h,p=-p,v=-v,M=-M),1-o>1e-6?(a=Math.acos(o),i=Math.sin(a),u=Math.sin((1-r)*a)/i,s=Math.sin(r*a)/i):(u=1-r,s=r),t[0]=u*c+s*h,t[1]=u*l+s*p,t[2]=u*f+s*v,t[3]=u*d+s*M,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(n,r,a,o,i,s){return u.slerp(t,r,i,s),u.slerp(e,a,o,s),u.slerp(n,t,e,2*s*(1-s)),n}}(),u.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o,u=i?1/i:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-a*u,t[3]=o*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=i.length,u.len=u.length,u.squaredLength=i.squaredLength,u.sqrLen=u.squaredLength,u.normalize=i.normalize,u.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;n=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*n,n=.5/n,t[3]=(e[3*o+i]-e[3*i+o])*n,t[o]=(e[3*o+a]+e[3*a+o])*n,t[i]=(e[3*i+a]+e[3*a+i])*n}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},u.exactEquals=i.exactEquals,u.equals=i.equals,t.exports=u},function(t,e,n){var r=n(1),a={};a.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},a.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},a.set=function(t,e,n){return t[0]=e,t[1]=n,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},a.lerp=function(t,e,n,r){var a=e[0],o=e[1];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},a.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},a.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var u,s;for(n||(n=2),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],o(t,t,i),e[u]=t[0],e[u+1]=t[1];return e}}(),a.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},a.equals=function(t,e){var n=t[0],a=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))},t.exports=a},function(t,e,n){var r=n(2),a={};a.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},a.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},a.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*o-a*r;return i?(i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-a*i,t[3]=n*i,t):null},a.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},a.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=r*c+o*l,t[3]=a*c+i*l,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=a*s+i*u,t[2]=r*-u+o*s,t[3]=a*-u+i*s,t},a.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=a*u,t[2]=o*s,t[3]=i*s,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},a.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},a.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},a.sub=a.subtract,a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=a},function(t,e,n){var r=n(2),a={};a.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.fromValues=function(t,e,n,a,o,i){var u=new r.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=a,u[4]=o,u[5]=i,u},a.set=function(t,e,n,r,a,o,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t},a.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=n*o-r*a;return s?(s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-a*s,t[3]=n*s,t[4]=(a*u-o*i)*s,t[5]=(r*i-n*u)*s,t):null},a.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},a.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],l=n[1],f=n[2],d=n[3],h=n[4],p=n[5];return t[0]=r*c+o*l,t[1]=a*c+i*l,t[2]=r*f+o*d,t[3]=a*f+i*d,t[4]=r*h+o*p+u,t[5]=a*h+i*p+s,t},a.mul=a.multiply,a.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*c,t[1]=a*l+i*c,t[2]=r*-c+o*l,t[3]=a*-c+i*l,t[4]=u,t[5]=s,t},a.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=a*c,t[2]=o*l,t[3]=i*l,t[4]=u,t[5]=s,t},a.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=r*c+o*l+u,t[5]=a*c+i*l+s,t},a.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},a.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=e[0],l=e[1],f=e[2],d=e[3],h=e[4],p=e[5];return Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-l)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(u-h)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(s-p)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))},t.exports=a},function(t,e,n){var r=n(2),a={scalar:{},SIMD:{}};a.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.fromValues=function(t,e,n,a,o,i,u,s,c,l,f,d,h,p,v,M){var m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=a,m[4]=o,m[5]=i,m[6]=u,m[7]=s,m[8]=c,m[9]=l,m[10]=f,m[11]=d,m[12]=h,m[13]=p,m[14]=v,m[15]=M,m},a.set=function(t,e,n,r,a,o,i,u,s,c,l,f,d,h,p,v,M){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=l,t[10]=f,t[11]=d,t[12]=h,t[13]=p,t[14]=v,t[15]=M,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},a.SIMD.transpose=function(t,e){var n,r,a,o,i,u,s,c,l,f;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4.shuffle(n,r,0,1,4,5),u=SIMD.Float32x4.shuffle(a,o,0,1,4,5),s=SIMD.Float32x4.shuffle(i,u,0,2,4,6),c=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,0,s),SIMD.Float32x4.store(t,4,c),i=SIMD.Float32x4.shuffle(n,r,2,3,6,7),u=SIMD.Float32x4.shuffle(a,o,2,3,6,7),l=SIMD.Float32x4.shuffle(i,u,0,2,4,6),f=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,8,l),SIMD.Float32x4.store(t,12,f),t},a.transpose=r.USE_SIMD?a.SIMD.transpose:a.scalar.transpose,a.scalar.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],M=e[14],m=e[15],g=n*u-r*i,S=n*s-a*i,b=n*c-o*i,y=r*s-a*u,x=r*c-o*u,I=a*c-o*s,_=l*v-f*p,D=l*M-d*p,E=l*m-h*p,F=f*M-d*v,O=f*m-h*v,T=d*m-h*M,w=g*T-S*O+b*F+y*E-x*D+I*_;return w?(w=1/w,t[0]=(u*T-s*O+c*F)*w,t[1]=(a*O-r*T-o*F)*w,t[2]=(v*I-M*x+m*y)*w,t[3]=(d*x-f*I-h*y)*w,t[4]=(s*E-i*T-c*D)*w,t[5]=(n*T-a*E+o*D)*w,t[6]=(M*b-p*I-m*S)*w,t[7]=(l*I-d*b+h*S)*w,t[8]=(i*O-u*E+c*_)*w,t[9]=(r*E-n*O-o*_)*w,t[10]=(p*x-v*b+m*g)*w,t[11]=(f*b-l*x-h*g)*w,t[12]=(u*D-i*F-s*_)*w,t[13]=(n*F-r*D+a*_)*w,t[14]=(v*S-p*y-M*g)*w,t[15]=(l*y-f*S+d*g)*w,t):null},a.SIMD.invert=function(t,e){var n,r,a,o,i,u,s,c,l,f,d=SIMD.Float32x4.load(e,0),h=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),v=SIMD.Float32x4.load(e,12);return i=SIMD.Float32x4.shuffle(d,h,0,1,4,5),r=SIMD.Float32x4.shuffle(p,v,0,1,4,5),n=SIMD.Float32x4.shuffle(i,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,i,1,3,5,7),i=SIMD.Float32x4.shuffle(d,h,2,3,6,7),o=SIMD.Float32x4.shuffle(p,v,2,3,6,7),a=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.mul(r,i),s=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),u),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),i=SIMD.Float32x4.mul(r,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),l=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),u),c=SIMD.Float32x4.mul(n,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(n,r),i=SIMD.Float32x4.swizzle(i,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),c),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),l),i=SIMD.Float32x4.swizzle(i,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),c),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(a,i)),i=SIMD.Float32x4.mul(n,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.mul(n,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,i)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,i),l),f=SIMD.Float32x4.mul(n,u),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),i=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(i,i))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,c)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,l)),t):null},a.invert=r.USE_SIMD?a.SIMD.invert:a.scalar.invert,a.scalar.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],M=e[14],m=e[15];return t[0]=u*(d*m-h*M)-f*(s*m-c*M)+v*(s*h-c*d),t[1]=-(r*(d*m-h*M)-f*(a*m-o*M)+v*(a*h-o*d)),t[2]=r*(s*m-c*M)-u*(a*m-o*M)+v*(a*c-o*s),t[3]=-(r*(s*h-c*d)-u*(a*h-o*d)+f*(a*c-o*s)),t[4]=-(i*(d*m-h*M)-l*(s*m-c*M)+p*(s*h-c*d)),t[5]=n*(d*m-h*M)-l*(a*m-o*M)+p*(a*h-o*d),t[6]=-(n*(s*m-c*M)-i*(a*m-o*M)+p*(a*c-o*s)),t[7]=n*(s*h-c*d)-i*(a*h-o*d)+l*(a*c-o*s),t[8]=i*(f*m-h*v)-l*(u*m-c*v)+p*(u*h-c*f),t[9]=-(n*(f*m-h*v)-l*(r*m-o*v)+p*(r*h-o*f)),t[10]=n*(u*m-c*v)-i*(r*m-o*v)+p*(r*c-o*u),t[11]=-(n*(u*h-c*f)-i*(r*h-o*f)+l*(r*c-o*u)),t[12]=-(i*(f*M-d*v)-l*(u*M-s*v)+p*(u*d-s*f)),t[13]=n*(f*M-d*v)-l*(r*M-a*v)+p*(r*d-a*f),t[14]=-(n*(u*M-s*v)-i*(r*M-a*v)+p*(r*s-a*u)),t[15]=n*(u*d-s*f)-i*(r*d-a*f)+l*(r*s-a*u),t},a.SIMD.adjoint=function(t,e){var n,r,a,o,i,u,s,c,l,f,d,h,p,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return l=SIMD.Float32x4.shuffle(n,r,0,1,4,5),u=SIMD.Float32x4.shuffle(a,o,0,1,4,5),i=SIMD.Float32x4.shuffle(l,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,l,1,3,5,7),l=SIMD.Float32x4.shuffle(n,r,2,3,6,7),c=SIMD.Float32x4.shuffle(a,o,2,3,6,7),s=SIMD.Float32x4.shuffle(l,c,0,2,4,6),c=SIMD.Float32x4.shuffle(c,l,1,3,5,7),l=SIMD.Float32x4.mul(s,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.mul(u,l),d=SIMD.Float32x4.mul(i,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,l),f),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,l),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),l=SIMD.Float32x4.mul(u,s),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),f),p=SIMD.Float32x4.mul(i,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(c,l)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,l),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),l=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,3,0,1),c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),s=SIMD.Float32x4.swizzle(s,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),f),h=SIMD.Float32x4.mul(i,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,l)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,l),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),l=SIMD.Float32x4.mul(i,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),h),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,l),p),l=SIMD.Float32x4.swizzle(l,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,l),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,l)),l=SIMD.Float32x4.mul(i,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,l)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),h),l=SIMD.Float32x4.swizzle(l,2,3,0,1),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),d),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.mul(i,s),l=SIMD.Float32x4.swizzle(l,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.swizzle(l,2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(c,l)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),p),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,d),SIMD.Float32x4.store(t,8,h),SIMD.Float32x4.store(t,12,p),t},a.adjoint=r.USE_SIMD?a.SIMD.adjoint:a.scalar.adjoint,a.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],l=t[9],f=t[10],d=t[11],h=t[12],p=t[13],v=t[14],M=t[15];return(e*i-n*o)*(f*M-d*v)-(e*u-r*o)*(l*M-d*p)+(e*s-a*o)*(l*v-f*p)+(n*u-r*i)*(c*M-d*h)-(n*s-a*i)*(c*v-f*h)+(r*s-a*u)*(c*p-l*h)},a.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4.load(n,0),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),i))));SIMD.Float32x4.store(t,0,s);var c=SIMD.Float32x4.load(n,4),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),i))));SIMD.Float32x4.store(t,4,l);var f=SIMD.Float32x4.load(n,8),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),i))));SIMD.Float32x4.store(t,8,d);var h=SIMD.Float32x4.load(n,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,p),t},a.scalar.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],v=e[12],M=e[13],m=e[14],g=e[15],S=n[0],b=n[1],y=n[2],x=n[3];return t[0]=S*r+b*u+y*f+x*v,t[1]=S*a+b*s+y*d+x*M,t[2]=S*o+b*c+y*h+x*m,t[3]=S*i+b*l+y*p+x*g,S=n[4],b=n[5],y=n[6],x=n[7],t[4]=S*r+b*u+y*f+x*v,t[5]=S*a+b*s+y*d+x*M,t[6]=S*o+b*c+y*h+x*m,t[7]=S*i+b*l+y*p+x*g,S=n[8],b=n[9],y=n[10],x=n[11],t[8]=S*r+b*u+y*f+x*v,t[9]=S*a+b*s+y*d+x*M,t[10]=S*o+b*c+y*h+x*m,t[11]=S*i+b*l+y*p+x*g,S=n[12],b=n[13],y=n[14],x=n[15],t[12]=S*r+b*u+y*f+x*v,t[13]=S*a+b*s+y*d+x*M,t[14]=S*o+b*c+y*h+x*m,t[15]=S*i+b*l+y*p+x*g,t},a.multiply=r.USE_SIMD?a.SIMD.multiply:a.scalar.multiply,a.mul=a.multiply,a.scalar.translate=function(t,e,n){var r,a,o,i,u,s,c,l,f,d,h,p,v=n[0],M=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*M+e[8]*m+e[12],t[13]=e[1]*v+e[5]*M+e[9]*m+e[13],t[14]=e[2]*v+e[6]*M+e[10]*m+e[14],t[15]=e[3]*v+e[7]*M+e[11]*m+e[15]):(r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=e[9],h=e[10],p=e[11],t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=c,t[7]=l,t[8]=f,t[9]=d,t[10]=h,t[11]=p,t[12]=r*v+u*M+f*m+e[12],t[13]=a*v+s*M+d*m+e[13],t[14]=o*v+c*M+h*m+e[14],t[15]=i*v+l*M+p*m+e[15]),t},a.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,0,0,0,0)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(u,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2));var s=SIMD.Float32x4.add(r,SIMD.Float32x4.add(a,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(t,12,s),t},a.translate=r.USE_SIMD?a.SIMD.translate:a.scalar.translate,a.scalar.scale=function(t,e,n){var r=n[0],a=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.SIMD.scale=function(t,e,n){var r,a,o,i=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,0,0,0,0))),a=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.scale=r.USE_SIMD?a.SIMD.scale:a.scalar.scale,a.rotate=function(t,e,n,a){var o,i,u,s,c,l,f,d,h,p,v,M,m,g,S,b,y,x,I,_,D,E,F,O,T=a[0],w=a[1],A=a[2],P=Math.sqrt(T*T+w*w+A*A);return Math.abs(P)<r.EPSILON?null:(P=1/P,T*=P,w*=P,A*=P,o=Math.sin(n),i=Math.cos(n),u=1-i,s=e[0],c=e[1],l=e[2],f=e[3],d=e[4],h=e[5],p=e[6],v=e[7],M=e[8],m=e[9],g=e[10],S=e[11],b=T*T*u+i,y=w*T*u+A*o,x=A*T*u-w*o,I=T*w*u-A*o,_=w*w*u+i,D=A*w*u+T*o,E=T*A*u+w*o,F=w*A*u-T*o,O=A*A*u+i,t[0]=s*b+d*y+M*x,t[1]=c*b+h*y+m*x,t[2]=l*b+p*y+g*x,t[3]=f*b+v*y+S*x,t[4]=s*I+d*_+M*D,t[5]=c*I+h*_+m*D,t[6]=l*I+p*_+g*D,t[7]=f*I+v*_+S*D,t[8]=s*E+d*F+M*O,t[9]=c*E+h*F+m*O,t[10]=l*E+p*F+g*O,t[11]=f*E+v*F+S*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},a.scalar.rotateX=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[4],i=e[5],u=e[6],s=e[7],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+c*r,t[5]=i*a+l*r,t[6]=u*a+f*r,t[7]=s*a+d*r,t[8]=c*a-o*r,t[9]=l*a-i*r,t[10]=f*a-u*r,t[11]=d*a-s*r,t},a.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),t},a.rotateX=r.USE_SIMD?a.SIMD.rotateX:a.scalar.rotateX,a.scalar.rotateY=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-c*r,t[1]=i*a-l*r,t[2]=u*a-f*r,t[3]=s*a-d*r,t[8]=o*r+c*a,t[9]=i*r+l*a,t[10]=u*r+f*a,t[11]=s*r+d*a,t},a.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(i,a))),t},a.rotateY=r.USE_SIMD?a.SIMD.rotateY:a.scalar.rotateY,a.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[4],l=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+c*r,t[1]=i*a+l*r,t[2]=u*a+f*r,t[3]=s*a+d*r,t[4]=c*a-o*r,t[5]=l*a-i*r,t[6]=f*a-u*r,t[7]=d*a-s*r,t},a.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),a=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,r))),t},a.rotateZ=r.USE_SIMD?a.SIMD.rotateZ:a.scalar.rotateZ,a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotation=function(t,e,n){var a,o,i,u=n[0],s=n[1],c=n[2],l=Math.sqrt(u*u+s*s+c*c);return Math.abs(l)<r.EPSILON?null:(l=1/l,u*=l,s*=l,c*=l,a=Math.sin(e),o=Math.cos(e),i=1-o,t[0]=u*u*i+o,t[1]=s*u*i+c*a,t[2]=c*u*i-s*a,t[3]=0,t[4]=u*s*i-c*a,t[5]=s*s*i+o,t[6]=c*s*i+u*a,t[7]=0,t[8]=u*c*i+s*a,t[9]=s*c*i-u*a,t[10]=c*c*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},a.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotationTranslation=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=r+r,s=a+a,c=o+o,l=r*u,f=r*s,d=r*c,h=a*s,p=a*c,v=o*c,M=i*u,m=i*s,g=i*c;return t[0]=1-(h+v),t[1]=f+g,t[2]=d-m,t[3]=0,t[4]=f-g,t[5]=1-(l+v),t[6]=p+M,t[7]=0,t[8]=d+m,t[9]=p-M,t[10]=1-(l+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},a.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},a.fromRotationTranslationScale=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3],s=a+a,c=o+o,l=i+i,f=a*s,d=a*c,h=a*l,p=o*c,v=o*l,M=i*l,m=u*s,g=u*c,S=u*l,b=r[0],y=r[1],x=r[2];return t[0]=(1-(p+M))*b,t[1]=(d+S)*b,t[2]=(h-g)*b,t[3]=0,t[4]=(d-S)*y,t[5]=(1-(f+M))*y,t[6]=(v+m)*y,t[7]=0,t[8]=(h+g)*x,t[9]=(v-m)*x,t[10]=(1-(f+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},a.fromRotationTranslationScaleOrigin=function(t,e,n,r,a){var o=e[0],i=e[1],u=e[2],s=e[3],c=o+o,l=i+i,f=u+u,d=o*c,h=o*l,p=o*f,v=i*l,M=i*f,m=u*f,g=s*c,S=s*l,b=s*f,y=r[0],x=r[1],I=r[2],_=a[0],D=a[1],E=a[2];return t[0]=(1-(v+m))*y,t[1]=(h+b)*y,t[2]=(p-S)*y,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(d+m))*x,t[6]=(M+g)*x,t[7]=0,t[8]=(p+S)*I,t[9]=(M-g)*I,t[10]=(1-(d+v))*I,t[11]=0,t[12]=n[0]+_-(t[0]*_+t[4]*D+t[8]*E),t[13]=n[1]+D-(t[1]*_+t[5]*D+t[9]*E),t[14]=n[2]+E-(t[2]*_+t[6]*D+t[10]*E),t[15]=1,t},a.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,l=r*i,f=r*u,d=a*i,h=a*u,p=a*s,v=o*i,M=o*u,m=o*s;return t[0]=1-f-p,t[1]=l+m,t[2]=d-M,t[3]=0,t[4]=l-m,t[5]=1-c-p,t[6]=h+v,t[7]=0,t[8]=d+M,t[9]=h-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.frustum=function(t,e,n,r,a,o,i){var u=1/(n-e),s=1/(a-r),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(a+r)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t},a.perspective=function(t,e,n,r,a){var o=1/Math.tan(e/2),i=1/(r-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*i,t[15]=0,t},a.perspectiveFromFieldOfView=function(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(a+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(a-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},a.ortho=function(t,e,n,r,a,o,i){var u=1/(e-n),s=1/(r-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(a+r)*s,t[14]=(i+o)*c,t[15]=1,t},a.lookAt=function(t,e,n,o){var i,u,s,c,l,f,d,h,p,v,M=e[0],m=e[1],g=e[2],S=o[0],b=o[1],y=o[2],x=n[0],I=n[1],_=n[2];return Math.abs(M-x)<r.EPSILON&&Math.abs(m-I)<r.EPSILON&&Math.abs(g-_)<r.EPSILON?a.identity(t):(d=M-x,h=m-I,p=g-_,v=1/Math.sqrt(d*d+h*h+p*p),d*=v,h*=v,p*=v,i=b*p-y*h,u=y*d-S*p,s=S*h-b*d,v=Math.sqrt(i*i+u*u+s*s),v?(v=1/v,i*=v,u*=v,s*=v):(i=0,u=0,s=0),c=h*s-p*u,l=p*i-d*s,f=d*u-h*i,v=Math.sqrt(c*c+l*l+f*f),v?(v=1/v,c*=v,l*=v,f*=v):(c=0,l=0,f=0),t[0]=i,t[1]=c,t[2]=d,t[3]=0,t[4]=u,t[5]=l,t[6]=h,t[7]=0,t[8]=s,t[9]=f,t[10]=p,t[11]=0,t[12]=-(i*M+u*m+s*g),t[13]=-(c*M+l*m+f*g),t[14]=-(d*M+h*m+p*g),t[15]=1,t)},a.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},a.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},a.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],M=t[13],m=t[14],g=t[15],S=e[0],b=e[1],y=e[2],x=e[3],I=e[4],_=e[5],D=e[6],E=e[7],F=e[8],O=e[9],T=e[10],w=e[11],A=e[12],P=e[13],N=e[14],R=e[15];return Math.abs(n-S)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(a-b)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-y)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(i-x)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(u-I)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(s-_)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(c-D)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(D))&&Math.abs(l-E)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(f-F)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(d-O)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-T)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-w)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(v-A)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(M-P)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(P))&&Math.abs(m-N)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-R)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))},t.exports=a},function(t,e,n){var r=n(2),a=n(13),o=n(14),i=n(15),u={};u.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,a,i){var s=o.dot(a,i);return s<-.999999?(o.cross(t,e,a),o.length(t)<1e-6&&o.cross(t,n,a),o.normalize(t,t),u.setAxisAngle(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,u.normalize(r,r))}}(),u.setAxes=function(){var t=a.create();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=i.clone,u.fromValues=i.fromValues,u.copy=i.copy,u.set=i.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},u.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},u.add=i.add,u.multiply=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+i*u+a*c-o*s,t[1]=a*l+i*s+o*u-r*c,t[2]=o*l+i*c+r*s-a*u,t[3]=i*l-r*u-a*s-o*c,t},u.mul=u.multiply,u.scale=i.scale,u.rotateX=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=o*s-a*u,t[3]=i*s-r*u,t},u.rotateY=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*u,t[1]=a*s+i*u,t[2]=o*s+r*u,t[3]=i*s-a*u,t},u.rotateZ=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=a*s-r*u,t[2]=o*s+i*u,t[3]=i*s-o*u,t},u.calculateW=function(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},u.dot=i.dot,u.lerp=i.lerp,u.slerp=function(t,e,n,r){var a,o,i,u,s,c=e[0],l=e[1],f=e[2],d=e[3],h=n[0],p=n[1],v=n[2],M=n[3];return o=c*h+l*p+f*v+d*M,o<0&&(o=-o,h=-h,p=-p,v=-v,M=-M),1-o>1e-6?(a=Math.acos(o),i=Math.sin(a),u=Math.sin((1-r)*a)/i,s=Math.sin(r*a)/i):(u=1-r,s=r),t[0]=u*c+s*h,t[1]=u*l+s*p,t[2]=u*f+s*v,t[3]=u*d+s*M,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(n,r,a,o,i,s){return u.slerp(t,r,i,s),u.slerp(e,a,o,s),u.slerp(n,t,e,2*s*(1-s)),n}}(),u.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o,u=i?1/i:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-a*u,t[3]=o*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=i.length,u.len=u.length,u.squaredLength=i.squaredLength,u.sqrLen=u.squaredLength,u.normalize=i.normalize,u.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;n=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*n,n=.5/n,t[3]=(e[3*o+i]-e[3*i+o])*n,t[o]=(e[3*o+a]+e[3*a+o])*n,t[i]=(e[3*i+a]+e[3*a+i])*n}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},u.exactEquals=i.exactEquals,u.equals=i.equals,t.exports=u},function(t,e,n){var r=n(2),a={};a.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},a.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},a.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},a.set=function(t,e,n){return t[0]=e,t[1]=n,t},a.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},a.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},a.sub=a.subtract,a.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},a.mul=a.multiply,a.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},a.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},a.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},a.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},a.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},a.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},a.dist=a.distance,a.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},a.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},a.lerp=function(t,e,n,r){var a=e[0],o=e[1];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t},a.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},a.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},a.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},a.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},a.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},a.forEach=function(){var t=a.create();return function(e,n,r,a,o,i){var u,s;for(n||(n=2),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],o(t,t,i),e[u]=t[0],e[u+1]=t[1];return e}}(),a.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},a.equals=function(t,e){var n=t[0],a=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))},t.exports=a},function(t,e,n){"use strict";function r(t){return Math.floor(Math.random()*t)}function a(){return(Math.random()+Math.random()+Math.random())/3}e.b=r,e.a=a;Math.PI},function(t,e,n){"use strict";function r(t){var e=Object(i.d)({near:.1,far:1e3,fovy:.6*Math.PI,aspect:1}).react([t.HOT],function(t,e){var n=e.width,r=e.height;return t.aspect=n/r,t});return{perspectiveSettings:e,perspective:Object(i.d)(o.mat4.create()).react([e.HOT],function(t,e){return o.mat4.perspective(t,e.fovy,e.aspect,e.near,e.far)})}}function a(){var t=Object(i.d)(o.vec3.fromValues(0,0,0)),e=Object(i.d)(0),n=Object(i.d)(0),r=Object(i.d)({rotX:o.mat4.create(),rotY:o.mat4.create()}).react([e.HOT],function(t,e){return t.rotY=o.mat4.fromYRotation(t.rotY,e),t}).react([n.HOT],function(t,e){return t.rotX=o.mat4.fromXRotation(t.rotX,e),t});return{position:t,rotation:r,view:Object(i.d)(o.mat4.create()).react([r.HOT,t.HOT],function(t,e,n){return o.mat4.fromTranslation(t,n),o.mat4.multiply(t,t,e.rotY),o.mat4.multiply(t,t,e.rotX),o.mat4.invert(t,t),t}),rotY:e,rotX:n}}e.b=r,e.a=a;var o=n(19),i=(n.n(o),n(5))},function(t,e,n){"use strict";function r(){return{entities:{},processes:{},arcs:{},meta:{}}}function a(t,e){return{entities:o({},t.entities,e.entities),processes:o({},t.processes,e.processes),arcs:o({},t.arcs,e.arcs),meta:o({},t.meta,e.meta)}}e.a=r,e.b=a;var o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?Object(i.a)():e,r=t.value,a=t.json,o=t.accept,u=t.reset,c=t.meta;return null==r&&a&&(r=JSON.parse(a)),{id:n,value:r,accept:o,reset:u,meta:s({},c)}}function a(t,e){var n=t.id,r=void 0===n?Object(i.a)():n,a=t.ports,o=void 0===a?[]:a,l=t.procedure,f=t.code,d=t.autostart,h=void 0!==d&&d,p=t.async,v=void 0!==p&&p,M=t.delta,m=void 0!==M&&M,g=t.meta;if(null==l&&null!=f&&(l=Object(u.a)(f,e)),null==l)throw TypeError("Process must have procedure or code set");return m&&!o.length&&o.push(c.HOT),{id:r,ports:o,procedure:l,autostart:h,async:v,delta:m,meta:s({},g)}}function o(t){var e=t.id,n=t.entity,r=t.process,a=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==a?r+"->"+n:n+"->"+r+"::"+a),{id:e,entity:n,process:r,port:a,meta:s({},o)}}e.c=r,e.d=a,e.b=o,n.d(e,"a",function(){return c});var i=n(16),u=n(52),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},c={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,n){"use strict";function r(t){var e={};return e.update=function(n){n.drawType&&(e.drawType=t[n.drawType]),n.itemCount&&(e.itemCount=n.itemCount);var r=e.attribs||{};for(var o in n.attribs){var i=n.attribs[o];null==r[o]&&(r[o]={buffer:t.createBuffer()}),t.bindBuffer(t.ARRAY_BUFFER,r[o].buffer),t.bufferData(t.ARRAY_BUFFER,i.buffer,t[(i.storeType||"STATIC")+"_DRAW"])}if(e.attribs=r,n.elements){var u=n.elements.buffer;null==e.elements&&(e.elements={buffer:t.createBuffer(),glType:null}),e.elements.glType=Object(a.e)(u),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.elements.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,u,t[(n.elements.storeType||"STATIC")+"_DRAW"])}return e},e.destroy=function(){for(var n in e.attribs)t.deleteBuffer(e.attribs[n].buffer);return e.elements&&t.deleteBuffer(e.elements.buffer),e},e}e.a=r;var a=n(3)},function(t,e,n){"use strict";function r(t){var e={program:t.createProgram(),frag:t.createShader(t.FRAGMENT_SHADER),vert:t.createShader(t.VERTEX_SHADER)};return t.attachShader(e.program,e.vert),t.attachShader(e.program,e.frag),e.update=function(n){var r=n.frag&&n.frag.trim()||e.fragSource,i=n.vert&&n.vert.trim()||e.vertSource;if(!r||!i)return e;if(r.indexOf("GL_EXT_draw_buffers")>=0&&t.getExtension("WEBGL_draw_buffers"),t.shaderSource(e.vert,i),t.shaderSource(e.frag,r),t.compileShader(e.vert),t.compileShader(e.frag),t.getShaderParameter(e.vert,t.COMPILE_STATUS)||console.error("Error Compiling Vertex Shader!\n",t.getShaderInfoLog(e.vert),a(i)),t.getShaderParameter(e.frag,t.COMPILE_STATUS)||console.error("Error Compiling Fragment Shader!\n",t.getShaderInfoLog(e.frag),a(r)),t.linkProgram(e.program),!t.getProgramParameter(e.program,t.LINK_STATUS)){var u=t.getProgramInfoLog(e.program);console.error("Error in program linking:",u)}return e.uniformSetters=Object(o.c)(t,e.program),e.attributeSetters=Object(o.b)(t,e.program),e.fragSource=r,e.vertSource=i,e},e.destroy=function(){t.deleteProgram(e.program),t.deleteShader(e.frag),t.deleteShader(e.vert)},e}function a(t){return t.trim().split("\n").map(function(t,e){return e+1+": "+t}).join("\n")}e.a=r;var o=n(3)},function(t,e,n){"use strict";function r(){var t={};return t.update=function(e){return e.drawSettings&&(t.drawSettings=e.drawSettings),e.form&&(t.form=e.form),e.shade&&(t.shade=e.shade),e.uniforms&&(t.uniforms=e.uniforms),t},t.destroy=function(){t.form.destroy(),t.shade.destroy()},t}e.a=r},function(t,e,n){"use strict";function r(t){var e={},n=t.createTexture();return e.textures=[n],e.data={},e.texture=function(){return n},e.update=function(r){return t.bindTexture(t.TEXTURE_2D,n),Object(o.g)(t,r,e.data),r.asset&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r.asset),r.minFilter&&r.minFilter.indexOf("MIPMAP")>0&&t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),Object.assign(e.data,r),e},e.destroy=function(){t.deleteTexture(n)},e}function a(t){var e={};return e.textures=[],e.data={},e.texture=function(t){return void 0===t&&(t=0),e.textures[t]},e.update=function(n){if(n.buffered&&!e.target?(e.target={width:n.width||t.canvas.width,height:n.height||t.canvas.height,frameBuffer:null,textures:[],depthBuffer:null,textureConfig:{type:n.textureConfig&&n.textureConfig.type||t.UNSIGNED_BYTE,count:n.textureConfig&&n.textureConfig.count||1}},Object(o.h)(t,e.target,n,e.data),e.textures=e.target.textures):e.target&&n.width&&n.height&&(e.target.width=n.width,e.target.height=n.height,Object(o.h)(t,e.target,n,e.data)),n.sketches&&(e.sketches=n.sketches),n.frag){var r=e.sketches&&e.sketches[0];r&&r.shade.update({frag:n.frag})}return n.uniforms&&(e.uniforms=n.uniforms),Object.assign(e.data,n),e},e.destroy=function(){if(e.sketches)for(var n=0,r=e.sketches;n<r.length;n++){var a=r[n];a.destroy()}if(e.target)Object(o.d)(t,e.target);else for(var i=0,u=e.textures;i<u.length;i++){var s=u[i];t.deleteTexture(s)}},e}e.b=r,e.a=a;var o=n(3)},function(t,e,n){"use strict";function r(t){return{clearColor:[0,0,0,1],enable:[t.DEPTH_TEST],blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}}n.d(e,"c",function(){return i}),e.d=r,n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s});var a,o=n(17),i={wrap:"CLAMP_TO_EDGE",minFilter:"LINEAR",magFilter:"NEAREST"},u={renderQuad:{attribs:(a={},a[o.a]={buffer:new Float32Array([-1,1,-1,-1,1,1,1,-1]),storeType:"STATIC"},a[o.b]={buffer:new Float32Array([0,1,0,0,1,1,1,0]),storeType:"STATIC"},a),drawType:"TRIANGLE_STRIP",itemCount:4}},s={basicEffect:{vert:"\n\t\t\tattribute vec2 "+o.a+";\n\t\t\tattribute vec2 "+o.b+";\n\t\t\tvarying vec2 "+o.e+";\n\t\t\tvoid main() {\n\t\t\t\t"+o.e+" = "+o.b+";\n\t\t\t\tgl_Position = vec4("+o.a+", 0.0, 1.0);\n\t\t\t}",frag:"precision mediump float;\n\t\t\tuniform sampler2D "+o.d+";\n\t\t\tvarying vec2 "+o.e+";\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D("+o.d+", "+o.e+");\n\t\t\t}"}}},function(t,e,n){"use strict";function r(t,e,n,r){var a,o,i=t/2,u=e/2,s=n||1,c=r||1,l=s+1,f=c+1,d=t/s,h=e/c,p=new Float32Array(l*f*3),v=new Float32Array(l*f*3),M=new Float32Array(l*f*2),m=0,g=0;for(a=0;a<f;a++){var S=a*h-u;for(o=0;o<l;o++){var b=o*d-i;p[m]=b,p[m+1]=-S,v[m+2]=1,M[g]=o/s,M[g+1]=1-a/c,m+=3,g+=2}}m=0;var y=new(p.length/3>65535?Uint32Array:Uint16Array)(s*c*6);for(a=0;a<c;a++)for(o=0;o<s;o++){var x=o+l*a,I=o+l*(a+1),_=o+1+l*(a+1),D=o+1+l*a;y[m]=x,y[m+1]=I,y[m+2]=D,y[m+3]=I,y[m+4]=_,y[m+5]=D,m+=6}return{attribs:{position:{buffer:p},normal:{buffer:v},uv:{buffer:M}},elements:{buffer:y},drawType:"TRIANGLES",itemCount:y.length}}e.a=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"tileSize",function(){return u}),n.d(e,"tileDensity",function(){return s}),n.d(e,"color",function(){return c}),n.d(e,"set",function(){return l}),n.d(e,"images",function(){return f});var r=n(0),a=n(48),o=n(21),i=n(74),u=Object(r.f)(10),s=Object(r.f)(11),c=Object(r.f)([Object(a.a)(),Object(a.a)(),Object(a.a)()]),l=Object(r.d)([i.sets.HOT],o.b),f=Object(r.a)([i.specs.HOT,l.HOT],function(t,e,n){Promise.all(Object.keys(n).map(function(t){return new Promise(function(n){var r=new Image;r.onload=function(){n([t,r])},r.src="img/"+e[t].file+".jpg"})})).then(t)})},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"tick",function(){return c}),n.d(e,"windowSize",function(){return l}),n.d(e,"mouse",function(){return f}),n.d(e,"keys",function(){return d});var r=n(0),a=n(18),o=n(35),i=n(36),u=n(37),s=n(59),c=Object(r.a)([s.images.HOT],u.a),l=Object(r.b)(null,i.a),f=Object(r.b)(null,o.a),d=Object(r.b)(null,a.b)},,,function(t,e,n){"use strict";function r(t,e){var n=-u.vec3.dot(t,e);return u.vec4.fromValues(t[0],t[1],t[2],n)}function a(t){var e=t,n=e[0],r=e[1],a=e[2],o=e[3];return u.mat4.fromValues(1-2*n*n,-2*n*r,-2*n*a,0,-2*n*r,1-2*r*r,-2*r*a,0,-2*n*a,-2*r*a,1-2*a*a,0,-2*n*o,-2*r*o,-2*a*o,1)}function o(t,e){return e*=.5,t[0]=0,t[1]=Math.sin(e),t[2]=0,t[3]=Math.cos(e),t}function i(t,e){return e*=.5,t[0]=0,t[1]=0,t[2]=Math.sin(e),t[3]=Math.cos(e),t}e.d=r,e.c=a,e.b=o,e.a=i;var u=n(19);n.n(u)},,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"specs",function(){return a}),n.d(e,"sets",function(){return o});var r=n(0),a=Object(r.f)({lbA1:{file:"tile_lb_A_1",connections:[0,0,1,1]},lbA2:{file:"tile_lb_A_2",connections:[0,0,1,1]},lbA3:{file:"tile_lb_A_3",connections:[0,0,1,1]},lbB1:{file:"tile_lb_B_1",connections:[0,0,1,1]},lbB2:{file:"tile_lb_B_2",connections:[0,0,1,1]},lbB3:{file:"tile_lb_B_3",connections:[0,0,1,1]},lrA1:{file:"tile_lr_A_1",connections:[0,1,0,1]},lrB1:{file:"tile_lr_B_1",connections:[0,1,0,1]},lrC1:{file:"tile_lr_C_1",connections:[0,1,0,1]},lrD1:{file:"tile_lr_D_1",connections:[0,1,0,1]},lrD2:{file:"tile_lr_D_2",connections:[0,1,0,1]},lrD3:{file:"tile_lr_D_3",connections:[0,1,0,1]},lrE1:{file:"tile_lr_E_1",connections:[0,1,0,1]},lrE2:{file:"tile_lr_E_2",connections:[0,1,0,1]},lrE3:{file:"tile_lr_E_3",connections:[0,1,0,1]},lrtbA1:{file:"tile_lrtb_A_1",connections:[1,1,1,1]},lrtbB1:{file:"tile_lrtb_B_1",connections:[1,1,1,1]},lrtbC1:{file:"tile_lrtb_C_1",connections:[1,1,1,1]},ltbA1:{file:"tile_ltb_A_1",connections:[1,0,1,1]},ltbB1:{file:"tile_ltb_B_1",connections:[1,0,1,1]}}),o=Object(r.f)([{lbA1:1,lbA2:1,lbA3:1,lbB1:1,lbB2:1,lbB3:1,lrD1:1,lrD2:1,lrD3:1,lrE1:1,lrE2:1,lrE3:1,lrtbA1:1,lrtbB1:1,lrtbC1:1,ltbA1:1,ltbB1:1}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"perspectiveSettings",function(){return s}),n.d(e,"perspective",function(){return c}),n.d(e,"distance",function(){return f}),n.d(e,"view",function(){return d});var r=n(76),a=n(4),o=(n.n(a),n(49)),i=n(0),u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},s=(l=Object(o.b)(r.canvasSize),l.perspectiveSettings),c=l.perspective;s.updateVal(function(t){return u({},t,{fovy:.5*Math.PI})});var l,f=Object(i.f)(103),d=Object(i.f)(a.mat4.create()).react([s.HOT,f.HOT],function(t,e,n){return a.mat4.fromTranslation(t,[0,0,n/e.aspect]),a.mat4.invert(t,t),t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"canvas",function(){return i}),n.d(e,"canvasSize",function(){return u}),n.d(e,"painter",function(){return s}),n.d(e,"gl",function(){return c});var r,a=n(22),o=n(62),i=(r=Object(a.c)(o.windowSize),r.canvas),u=r.canvasSize,s=r.painter,c=r.gl},,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return.5*-Math.cos(t*Math.PI*2)+.5}function a(t){return.5*-Math.cos(t*Math.PI)+.5}function o(t){return t*t*t*t}function i(t){return Math.pow(t,.25)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"animationDuration",function(){return g}),n.d(e,"animationChance",function(){return S}),n.d(e,"liftHeight",function(){return b}),n.d(e,"sinkHeight",function(){return y}),n.d(e,"flipped",function(){return x}),n.d(e,"colCount",function(){return I}),n.d(e,"rowCount",function(){return _}),n.d(e,"createTileState",function(){return D}),n.d(e,"grid",function(){return E}),n.d(e,"activeTiles",function(){return F}),n.d(e,"updateActiveTiles",function(){return O});var u=n(0),s=n(48),c=n(4),l=(n.n(c),n(65)),f=n(21),d=n(62),h=n(59),p=n(75),v=n(74),M=n(114),m={UP:0,RIGHT:1,DOWN:2,LEFT:3},g=Object(u.f)(1700),S=Object(u.f)(1e-4),b=Object(u.f)(2),y=Object(u.f)(-50),x=Object(u.f)(!1),I=Object(u.d)([h.tileDensity.HOT,d.windowSize.HOT],function(t,e){return Math.floor(Math.pow(e.width/1e3,.5)*t)}),_=Object(u.d)([I.HOT,p.perspectiveSettings.HOT],function(t,e){return Math.ceil(t/e.aspect)});p.distance.react([I.HOT,h.tileSize.HOT],function(t,e,n){return e*n*.47});var D=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=[r+.25*(Object(s.a)()-.6),a+.25*(Object(s.a)()-.6),o+.25*(Object(s.a)()-.6)],u=Object(s.b)(3),l=Object(f.b)(Object.keys(t));return{gridIndex:[0,0],pos:[0,0],posOffset:[0,0],tileSpecId:l,tileSpec:n[l],turn:u,flipped:!1,yawDirection:0,yawDelay:0,yaw:0,rollDirection:0,roll:u*Math.PI/2,height:0,color:i,transform:c.mat4.create(),rotation:c.quat.create(),updateTransform:!1,neighbours:[],connected:!1,connections:[0,0,0,0],connectionAnimations:[]}},E=Object(u.f)([[]]).react([I.HOT,_.HOT,h.color.HOT,h.set.HOT,v.specs.HOT],function(t,e,n,r,a,o){var i=t.length,u=t[0].length,s=n-u,c=e-i;if(s>0){var l=Math.floor(s/2),d=s-l;t.forEach(function(t){t.unshift.apply(t,Object(f.c)(l,function(){return D(a,r,o)}))}),t.forEach(function(t){Object(f.a)(d,function(){return t.push(D(a,r,o))})})}if(c>0){var h=Math.floor(c/2),p=c-h,v=Math.max(n,u);t.unshift.apply(t,Object(f.c)(h,function(){return Object(f.c)(v,function(){return D(a,r,o)})})),Object(f.a)(p,function(){return t.push(Object(f.c)(v,function(){return D(a,r,o)}))})}if(c>0||s>0)for(var M=0;M<t.length;M++)for(var g=0;g<t[M].length;g++){var S=t[M][g];S.gridIndex=[M,g],S.neighbours[m.LEFT]=t[M-1]&&t[M-1][g],S.neighbours[m.RIGHT]=t[M+1]&&t[M+1][g],S.neighbours[m.UP]=t[M][g-1],S.neighbours[m.DOWN]=t[M][g+1]}return t}),F=Object(u.d)([E.HOT,I.HOT,_.HOT],function(t,e,n){var r=[],a=t.length,o=t[0].length,i=-Math.floor(a/2),u=-Math.floor(o/2),s=a-e,c=Math.floor(s/2);(a+1)%2&&s%2&&c++;var l=Math.floor((o-n)/2),d=(e+1)%2*.5,h=n%2*.5+.5;return Object(f.a)(e,function(e){Object(f.a)(n,function(a){var o=t[e+c][a+l],s=o.gridIndex,f=s[0],p=s[1];o.posOffset=[d,h],o.updateTransform=!0,o.yawDelay=100*(e+(n-a+1)),o.pos=[i+f,u+p],o.connected=!!(o.height<.1&&o.height>-.1),r.push(o)})}),r}),O=Object(u.d)([F.COLD,d.tick.HOT,g.COLD,S.COLD,b.COLD,y.COLD,h.tileSize.COLD,x.COLD],function(t,e,n,u,s,f,d,h){var p=.95*d;for(var v in t)!function(d){var v=t[d];if(!v.rotateAnimation&&Math.random()<u&&(v.rollDirection=1,v.connected=!1,v.rotateAnimation=Object(M.a)({duration:n,easeFn:a,onUpdate:function(t){v.roll+=t*Math.PI/2*v.rollDirection,v.updateTransform=!0},onComplete:function(){v.rotateAnimation=void 0}}),v.riseAnimation=Object(M.a)({duration:n,easeFn:r,onUpdate:function(t){v.height+=t*s,v.updateTransform=!0},onComplete:function(){v.riseAnimation=void 0,v.connected=!0,v.turn=v.rollDirection>0?(v.turn+1)%4:v.rollDirection<0?(v.turn+3)%4:v.turn}})),h===v.flipped||v.flipAnimation||(v.connected=!1,v.flipAnimation=Object(M.a)({duration:n,easeFn:h?o:i,delay:v.yawDelay,onUpdate:function(t){v.yaw+=t*Math.PI,v.height+=t*f*(v.flipped?-1:1),v.updateTransform=!0},onComplete:function(){v.flipAnimation=void 0,v.flipped=!v.flipped,v.connected=!v.rotateAnimation,v.connected=!0}})),v.rotateAnimation&&v.rotateAnimation(e),v.riseAnimation&&v.riseAnimation(e),v.flipAnimation&&v.flipAnimation(e),v.connected)for(var m=0;m<4;m++){var g=(m+4-v.turn)%4,S=v.tileSpec.connections[g],b=v.neighbours[m];if(b&&b.connected){var y=b.tileSpec.connections[(m+6-b.turn)%4];v.connections[g]=S&&y}else v.connections[g]=0}else for(var x=0;x<4;x++)v.connections[x]=0;if(v.updateTransform){v.updateTransform=!1,c.quat.multiply(v.rotation,Object(l.b)(c.quat.create(),v.yaw),Object(l.a)(c.quat.create(),v.roll));var I=v.pos,_=I[0],D=I[1],E=v.posOffset,F=E[0],O=E[1];c.mat4.fromRotationTranslation(v.transform,v.rotation,[(_+F)*p,(D+O)*p,v.height])}}(v);return t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"segments",function(){return i}),n.d(e,"geometry",function(){return u});var r=n(58),a=n(59),o=n(0),i=Object(o.f)(3),u=Object(o.d)([a.tileSize.HOT,i.HOT],function(t,e){return Object(r.a)(t,t,e,e)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"spec",function(){return s});var r=n(116),a=n.n(r),o=n(117),i=n.n(o),u=n(0),s=Object(u.f)({vert:a.a,frag:i.a}).reset()},,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(111)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(112),a=n(27),o=n(113);r.a.setDebug(!0),Object(a.a)(r.a,o),r.b.updateFlow(r.a),setTimeout(function(){r.a.setDebug(!1)},1e3)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n(24),a=n(26),o=(n.n(a),r.a()),i=a.ui.start("tiles");window.flow=o,window.tools=i},function(t,e,n){function r(t){return n(a(t))}function a(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./events.ts":62,"./state/constants.ts":74,"./state/init.ts":59,"./state/tiles.ts":88,"./view/camera.ts":75,"./view/context.ts":76,"./view/geometries/plane.ts":89,"./view/renderer.ts":115,"./view/shaders/base.ts":90};r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=113},function(t,e,n){"use strict";function r(t){var e=t.duration,n=void 0===e?1e3:e,r=t.easeFn,o=void 0===r?a:r,i=t.delay,u=void 0===i?0:i,s=t.onComplete,c=t.onUpdate,l=-u,f=0;return function(t){if(l>=n)return 0;if(l<0)return l+=Math.min(t,-l),0;var e=o(l<n-t?(l+t)/n:1),r=e-f;return l+=t,f=e,c&&c(r),l>=n&&s&&s(),r}}e.a=r;var a=function(t){return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"settings",function(){return d}),n.d(e,"shade",function(){return h}),n.d(e,"form",function(){return p}),n.d(e,"textures",function(){return v}),n.d(e,"tilesData",function(){return M}),n.d(e,"tilesSketch",function(){return m}),n.d(e,"sceneData",function(){return g}),n.d(e,"scene",function(){return S}),n.d(e,"render",function(){return b});var r=n(0),a=n(76),o=n(89),i=n(88),u=n(59),s=n(90),c=n(62),l=n(75),f=n(22),d=Object(r.d)([a.gl.HOT],function(t){return{clearColor:[1,1,1,1],enable:[t.DEPTH_TEST,t.CULL_FACE]}});a.painter.react([d.HOT],function(t,e){return t.updateDrawSettings(e)});var h=Object(f.d)(a.painter,s.spec),p=Object(f.b)(a.painter,o.geometry),v=Object(r.d)([a.painter.HOT,u.images.HOT],function(t,e){return e.reduce(function(e,n){var r=n[0],a=n[1];return e[r]=t.createStaticLayer().update({minFilter:"LINEAR",magFilter:"LINEAR",asset:a}),e},{})}),M=Object(r.d)([p.HOT,h.HOT,v.HOT,i.activeTiles.HOT],function(t,e,n,r){return{form:t,shade:e,uniforms:r.map(function(t){return{transform:t.transform,image:n[t.tileSpecId].texture(),color:t.color,connections:t.connections}})}}),m=Object(f.e)(a.painter,M),g=Object(r.d)([m.HOT,l.view.HOT,l.perspective.HOT],function(t,e,n){return{sketches:[t],uniforms:{view:e,projection:n}}}),S=Object(f.a)(a.painter,g),b=Object(r.d)([a.painter.COLD,S.COLD,c.tick.HOT],function(t,e,n){return t.compose(e)})},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\n\nvarying vec2 vUv;\n\nvoid main() {\n\tvUv = uv;\n\tgl_Position = projection * view * transform * vec4(position, 1.0);\n}\n"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D image;\nuniform vec3 color;\nuniform vec4 connections;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 tex = texture2D(image, vUv);\n  if (tex.r > 0.9) {\n    discard;\n  }\n\n  float up = 0.0;\n  float right = 0.0;\n  float down = 0.0;\n  float left = 0.0;\n  float x = vUv.x - 0.5;\n  float y = vUv.y;\n\n  if (connections[0] > 0.0) {\n    up = x * x * 2.0 + y * y * 2.0;\n    up = 1.0 - up;\n    up = max(0.0, up);\n    up *= up;\n  }\n\n  if (connections[1] > 0.0) {\n    x = vUv.x - 1.0;\n    y = vUv.y - 0.5;\n    right = x * x * 2.0 + y * y * 2.0;\n    right = 1.0 - right;\n    right = max(0.0, right);\n    right *= right;\n  }\n\n  if (connections[2] > 0.0) {\n    x = vUv.x - 0.5;\n    y = vUv.y - 1.0;\n    down = x * x * 2.0 + y * y * 2.0;\n    down = 1.0 - down;\n    down = max(0.0, down);\n    down *= down;\n  }\n\n  if (connections[3] > 0.0) {\n    x = vUv.x;\n    y = vUv.y - 0.5;\n    left = x * x * 2.0 + y * y * 2.0;\n    left = 1.0 - left;\n    left = max(0.0, left);\n    left *= left;\n  }\n\n  // smooth out border\n  /* col /= resolution.x * resolution.y * 0.5; */\n  /* col = sqrt(col); */\n\n\tfloat glow = up + right + left + down;\n\n\tvec3 result = 0.8 - color.rgb * (1.0 - tex.r);\n\tfloat red = result.r;\n\n\tif (abs(tex.g - tex.r) > 0.1 && tex.g > 0.9) {\n\t\tred = mix(red, 1.0, glow);\n\t}\n\n  gl_FragColor = vec4(red, result.gb, 1.0);\n  // gl_FragColor = vec4(color, 1.0);\n  // gl_FragColor = connections;\n}\n"}]);
//# sourceMappingURL=main.js.map