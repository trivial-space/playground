!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=84)}([function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"d",function(){return c});const r="position",i="normal",o="uv",a="source",u="coords",c={FLOAT:5126,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FLOAT_MAT2X3:35685,FLOAT_MAT2X4:35686,FLOAT_MAT3X2:35687,FLOAT_MAT3X4:35688,FLOAT_MAT4X2:35689,FLOAT_MAT4X3:35690,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT:5125,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_3D:32879,TEXTURE_2D_ARRAY:35866,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};var i=n(7),o=n(21);n.d(e,"i",function(){return l}),n.d(e,"g",function(){return h}),n.d(e,"a",function(){return p}),n.d(e,"h",function(){return v}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return m}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return b}),n.d(e,"d",function(){return _});var a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},u="Stream",c="Reaction";function s(t,e){return e?e+"."+t:t}function f(t){var e,n,r,a=t.value,u=Object(o.a)(),f=[],l={};return l.HOT={entity:l,type:i.a.HOT},l.COLD={entity:l,type:i.a.COLD},l.id=function(t,n){return u=s(t,n),e=n,l},l.val=function(t){return a=t,l},l.updateVal=function(t){return a=t(a),l},l.accept=function(t){return n=t,l},l.reset=function(){return r=!0,l},l.getId=function(){return u},t.procedure&&f.push(t),l.react=function(t,e,n){var r=d(t,e,n);r.pidSuffix=c;var o=r.dependencies;return r.dependencies=[{entity:l,type:i.a.ACCUMULATOR}],o&&o.length&&(r.dependencies=r.dependencies.concat(o)),f.push(r),l},l.getGraph=function(){var t={entities:{},processes:{},arcs:{},meta:{}};return t.entities[u]=Object(i.c)({id:u,value:a,accept:n,reset:r}),f.forEach(function(n){var r=n.dependencies,o=n.processId?s(n.processId,e):u+n.pidSuffix+(r&&r.length?":"+r.reduce(function(t,e){var n=e.entity.getId();return n===u?t:t+":"+n},""):""),a=[];r&&r.forEach(function(e,n){if(a[n]=e.type,e.type!==i.a.ACCUMULATOR){var r=Object(i.b)({process:o,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var c=Object(i.b)({process:o,entity:u});t.arcs[c.id]=c,t.processes[o]=Object(i.d)({id:o,ports:a,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},l}function l(t){return f({value:t})}function d(t,e,n){var r={procedure:e};return null!=t&&t.length&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=u,r}var h=function(t,e,n){return f(d(t,e,n))},p=function(t,e,n){return f(a({},d(t,e,n),{async:!0}))},v=function(t,e,n){return f(a({},d(t,e,n),{autostart:!0}))},g=function(t,e,n){return f(a({},d(t,e,n),{async:!0,autostart:!0}))},m=function(t,e,n){return f(a({},d([t.HOT],e,n),{delta:!0}))};function y(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}function b(t,e){for(var n in t){var r=t[n];y(r)&&r.id(n,e)}return t}function _(t){var e=[];for(var n in t){var i=t[n];y(i)&&e.push(i)}return e.reduce(function(t,e){return function(t,e){return{entities:r({},t.entities,e.entities),processes:r({},t.processes,e.processes),arcs:r({},t.arcs,e.arcs),meta:r({},t.meta,e.meta)}}(t,e.getGraph())},{entities:{},processes:{},arcs:{},meta:{}})}},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"create",function(){return s}),n.d(r,"clone",function(){return f}),n.d(r,"copy",function(){return l}),n.d(r,"fromValues",function(){return d}),n.d(r,"set",function(){return h}),n.d(r,"identity",function(){return p}),n.d(r,"transpose",function(){return v}),n.d(r,"invert",function(){return g}),n.d(r,"adjoint",function(){return m}),n.d(r,"determinant",function(){return y}),n.d(r,"multiply",function(){return b}),n.d(r,"translate",function(){return _}),n.d(r,"scale",function(){return T}),n.d(r,"rotate",function(){return O}),n.d(r,"rotateX",function(){return E}),n.d(r,"rotateY",function(){return M}),n.d(r,"rotateZ",function(){return w}),n.d(r,"fromTranslation",function(){return S}),n.d(r,"fromScaling",function(){return A}),n.d(r,"fromRotation",function(){return x}),n.d(r,"fromXRotation",function(){return I}),n.d(r,"fromYRotation",function(){return C}),n.d(r,"fromZRotation",function(){return k}),n.d(r,"fromRotationTranslation",function(){return j}),n.d(r,"fromQuat2",function(){return N}),n.d(r,"getTranslation",function(){return R}),n.d(r,"getScaling",function(){return P}),n.d(r,"getRotation",function(){return D}),n.d(r,"fromRotationTranslationScale",function(){return L}),n.d(r,"fromRotationTranslationScaleOrigin",function(){return U}),n.d(r,"fromQuat",function(){return F}),n.d(r,"frustum",function(){return H}),n.d(r,"perspective",function(){return z}),n.d(r,"perspectiveFromFieldOfView",function(){return V}),n.d(r,"ortho",function(){return B}),n.d(r,"lookAt",function(){return G}),n.d(r,"targetTo",function(){return Y}),n.d(r,"str",function(){return W}),n.d(r,"frob",function(){return q}),n.d(r,"add",function(){return X}),n.d(r,"subtract",function(){return $}),n.d(r,"multiplyScalar",function(){return K}),n.d(r,"multiplyScalarAndAdd",function(){return Q}),n.d(r,"exactEquals",function(){return J}),n.d(r,"equals",function(){return Z}),n.d(r,"mul",function(){return tt}),n.d(r,"sub",function(){return et});var i={};n.r(i),n.d(i,"create",function(){return nt}),n.d(i,"clone",function(){return rt}),n.d(i,"length",function(){return it}),n.d(i,"fromValues",function(){return ot}),n.d(i,"copy",function(){return at}),n.d(i,"set",function(){return ut}),n.d(i,"add",function(){return ct}),n.d(i,"subtract",function(){return st}),n.d(i,"multiply",function(){return ft}),n.d(i,"divide",function(){return lt}),n.d(i,"ceil",function(){return dt}),n.d(i,"floor",function(){return ht}),n.d(i,"min",function(){return pt}),n.d(i,"max",function(){return vt}),n.d(i,"round",function(){return gt}),n.d(i,"scale",function(){return mt}),n.d(i,"scaleAndAdd",function(){return yt}),n.d(i,"distance",function(){return bt}),n.d(i,"squaredDistance",function(){return _t}),n.d(i,"squaredLength",function(){return Tt}),n.d(i,"negate",function(){return Ot}),n.d(i,"inverse",function(){return Et}),n.d(i,"normalize",function(){return Mt}),n.d(i,"dot",function(){return wt}),n.d(i,"cross",function(){return St}),n.d(i,"lerp",function(){return At}),n.d(i,"hermite",function(){return xt}),n.d(i,"bezier",function(){return It}),n.d(i,"random",function(){return Ct}),n.d(i,"transformMat4",function(){return kt}),n.d(i,"transformMat3",function(){return jt}),n.d(i,"transformQuat",function(){return Nt}),n.d(i,"rotateX",function(){return Rt}),n.d(i,"rotateY",function(){return Pt}),n.d(i,"rotateZ",function(){return Dt}),n.d(i,"angle",function(){return Lt}),n.d(i,"str",function(){return Ut}),n.d(i,"exactEquals",function(){return Ft}),n.d(i,"equals",function(){return Ht}),n.d(i,"sub",function(){return zt}),n.d(i,"mul",function(){return Vt}),n.d(i,"div",function(){return Bt}),n.d(i,"dist",function(){return Gt}),n.d(i,"sqrDist",function(){return Yt}),n.d(i,"len",function(){return Wt}),n.d(i,"sqrLen",function(){return qt}),n.d(i,"forEach",function(){return Xt});var o={};n.r(o),n.d(o,"create",function(){return Qt}),n.d(o,"identity",function(){return Jt}),n.d(o,"setAxisAngle",function(){return Zt}),n.d(o,"getAxisAngle",function(){return te}),n.d(o,"multiply",function(){return ee}),n.d(o,"rotateX",function(){return ne}),n.d(o,"rotateY",function(){return re}),n.d(o,"rotateZ",function(){return ie}),n.d(o,"calculateW",function(){return oe}),n.d(o,"slerp",function(){return ae}),n.d(o,"random",function(){return ue}),n.d(o,"invert",function(){return ce}),n.d(o,"conjugate",function(){return se}),n.d(o,"fromMat3",function(){return fe}),n.d(o,"fromEuler",function(){return le}),n.d(o,"str",function(){return de}),n.d(o,"clone",function(){return he}),n.d(o,"fromValues",function(){return pe}),n.d(o,"copy",function(){return ve}),n.d(o,"set",function(){return ge}),n.d(o,"add",function(){return me}),n.d(o,"mul",function(){return ye}),n.d(o,"scale",function(){return be}),n.d(o,"dot",function(){return _e}),n.d(o,"lerp",function(){return Te}),n.d(o,"length",function(){return Oe}),n.d(o,"len",function(){return Ee}),n.d(o,"squaredLength",function(){return Me}),n.d(o,"sqrLen",function(){return we}),n.d(o,"normalize",function(){return Se}),n.d(o,"exactEquals",function(){return Ae}),n.d(o,"equals",function(){return xe}),n.d(o,"rotationTo",function(){return Ie}),n.d(o,"sqlerp",function(){return Ce}),n.d(o,"setAxes",function(){return ke});var a=1e-6,u="undefined"!=typeof Float32Array?Float32Array:Array,c=Math.random;Math.PI;function s(){var t=new u(16);return u!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function f(t){var e=new u(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,n,r,i,o,a,c,s,f,l,d,h,p,v,g){var m=new u(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=o,m[6]=a,m[7]=c,m[8]=s,m[9]=f,m[10]=l,m[11]=d,m[12]=h,m[13]=p,m[14]=v,m[15]=g,m}function h(t,e,n,r,i,o,a,u,c,s,f,l,d,h,p,v,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=c,t[8]=s,t[9]=f,t[10]=l,t[11]=d,t[12]=h,t[13]=p,t[14]=v,t[15]=g,t}function p(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function g(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=n*u-r*a,b=n*c-i*a,_=n*s-o*a,T=r*c-i*u,O=r*s-o*u,E=i*s-o*c,M=f*v-l*p,w=f*g-d*p,S=f*m-h*p,A=l*g-d*v,x=l*m-h*v,I=d*m-h*g,C=y*I-b*x+_*A+T*S-O*w+E*M;return C?(C=1/C,t[0]=(u*I-c*x+s*A)*C,t[1]=(i*x-r*I-o*A)*C,t[2]=(v*E-g*O+m*T)*C,t[3]=(d*O-l*E-h*T)*C,t[4]=(c*S-a*I-s*w)*C,t[5]=(n*I-i*S+o*w)*C,t[6]=(g*_-p*E-m*b)*C,t[7]=(f*E-d*_+h*b)*C,t[8]=(a*x-u*S+s*M)*C,t[9]=(r*S-n*x-o*M)*C,t[10]=(p*O-v*_+m*y)*C,t[11]=(l*_-f*O-h*y)*C,t[12]=(u*w-a*A-c*M)*C,t[13]=(n*A-r*w+i*M)*C,t[14]=(v*b-p*T-g*y)*C,t[15]=(f*T-l*b+d*y)*C,t):null}function m(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15];return t[0]=u*(d*m-h*g)-l*(c*m-s*g)+v*(c*h-s*d),t[1]=-(r*(d*m-h*g)-l*(i*m-o*g)+v*(i*h-o*d)),t[2]=r*(c*m-s*g)-u*(i*m-o*g)+v*(i*s-o*c),t[3]=-(r*(c*h-s*d)-u*(i*h-o*d)+l*(i*s-o*c)),t[4]=-(a*(d*m-h*g)-f*(c*m-s*g)+p*(c*h-s*d)),t[5]=n*(d*m-h*g)-f*(i*m-o*g)+p*(i*h-o*d),t[6]=-(n*(c*m-s*g)-a*(i*m-o*g)+p*(i*s-o*c)),t[7]=n*(c*h-s*d)-a*(i*h-o*d)+f*(i*s-o*c),t[8]=a*(l*m-h*v)-f*(u*m-s*v)+p*(u*h-s*l),t[9]=-(n*(l*m-h*v)-f*(r*m-o*v)+p*(r*h-o*l)),t[10]=n*(u*m-s*v)-a*(r*m-o*v)+p*(r*s-o*u),t[11]=-(n*(u*h-s*l)-a*(r*h-o*l)+f*(r*s-o*u)),t[12]=-(a*(l*g-d*v)-f*(u*g-c*v)+p*(u*d-c*l)),t[13]=n*(l*g-d*v)-f*(r*g-i*v)+p*(r*d-i*l),t[14]=-(n*(u*g-c*v)-a*(r*g-i*v)+p*(r*c-i*u)),t[15]=n*(u*d-c*l)-a*(r*d-i*l)+f*(r*c-i*u),t}function y(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],c=t[7],s=t[8],f=t[9],l=t[10],d=t[11],h=t[12],p=t[13],v=t[14],g=t[15];return(e*a-n*o)*(l*g-d*v)-(e*u-r*o)*(f*g-d*p)+(e*c-i*o)*(f*v-l*p)+(n*u-r*a)*(s*g-d*h)-(n*c-i*a)*(s*v-l*h)+(r*c-i*u)*(s*p-f*h)}function b(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=e[8],d=e[9],h=e[10],p=e[11],v=e[12],g=e[13],m=e[14],y=e[15],b=n[0],_=n[1],T=n[2],O=n[3];return t[0]=b*r+_*u+T*l+O*v,t[1]=b*i+_*c+T*d+O*g,t[2]=b*o+_*s+T*h+O*m,t[3]=b*a+_*f+T*p+O*y,b=n[4],_=n[5],T=n[6],O=n[7],t[4]=b*r+_*u+T*l+O*v,t[5]=b*i+_*c+T*d+O*g,t[6]=b*o+_*s+T*h+O*m,t[7]=b*a+_*f+T*p+O*y,b=n[8],_=n[9],T=n[10],O=n[11],t[8]=b*r+_*u+T*l+O*v,t[9]=b*i+_*c+T*d+O*g,t[10]=b*o+_*s+T*h+O*m,t[11]=b*a+_*f+T*p+O*y,b=n[12],_=n[13],T=n[14],O=n[15],t[12]=b*r+_*u+T*l+O*v,t[13]=b*i+_*c+T*d+O*g,t[14]=b*o+_*s+T*h+O*m,t[15]=b*a+_*f+T*p+O*y,t}function _(t,e,n){var r=n[0],i=n[1],o=n[2],a=void 0,u=void 0,c=void 0,s=void 0,f=void 0,l=void 0,d=void 0,h=void 0,p=void 0,v=void 0,g=void 0,m=void 0;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(a=e[0],u=e[1],c=e[2],s=e[3],f=e[4],l=e[5],d=e[6],h=e[7],p=e[8],v=e[9],g=e[10],m=e[11],t[0]=a,t[1]=u,t[2]=c,t[3]=s,t[4]=f,t[5]=l,t[6]=d,t[7]=h,t[8]=p,t[9]=v,t[10]=g,t[11]=m,t[12]=a*r+f*i+p*o+e[12],t[13]=u*r+l*i+v*o+e[13],t[14]=c*r+d*i+g*o+e[14],t[15]=s*r+h*i+m*o+e[15]),t}function T(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function O(t,e,n,r){var i,o,u,c,s,f,l,d,h,p,v,g,m,y,b,_,T,O,E,M,w,S,A,x,I=r[0],C=r[1],k=r[2],j=Math.sqrt(I*I+C*C+k*k);return j<a?null:(I*=j=1/j,C*=j,k*=j,i=Math.sin(n),u=1-(o=Math.cos(n)),c=e[0],s=e[1],f=e[2],l=e[3],d=e[4],h=e[5],p=e[6],v=e[7],g=e[8],m=e[9],y=e[10],b=e[11],_=I*I*u+o,T=C*I*u+k*i,O=k*I*u-C*i,E=I*C*u-k*i,M=C*C*u+o,w=k*C*u+I*i,S=I*k*u+C*i,A=C*k*u-I*i,x=k*k*u+o,t[0]=c*_+d*T+g*O,t[1]=s*_+h*T+m*O,t[2]=f*_+p*T+y*O,t[3]=l*_+v*T+b*O,t[4]=c*E+d*M+g*w,t[5]=s*E+h*M+m*w,t[6]=f*E+p*M+y*w,t[7]=l*E+v*M+b*w,t[8]=c*S+d*A+g*x,t[9]=s*S+h*A+m*x,t[10]=f*S+p*A+y*x,t[11]=l*S+v*A+b*x,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function E(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],u=e[6],c=e[7],s=e[8],f=e[9],l=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+s*r,t[5]=a*i+f*r,t[6]=u*i+l*r,t[7]=c*i+d*r,t[8]=s*i-o*r,t[9]=f*i-a*r,t[10]=l*i-u*r,t[11]=d*i-c*r,t}function M(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],c=e[3],s=e[8],f=e[9],l=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-s*r,t[1]=a*i-f*r,t[2]=u*i-l*r,t[3]=c*i-d*r,t[8]=o*r+s*i,t[9]=a*r+f*i,t[10]=u*r+l*i,t[11]=c*r+d*i,t}function w(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],c=e[3],s=e[4],f=e[5],l=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+s*r,t[1]=a*i+f*r,t[2]=u*i+l*r,t[3]=c*i+d*r,t[4]=s*i-o*r,t[5]=f*i-a*r,t[6]=l*i-u*r,t[7]=d*i-c*r,t}function S(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function A(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,e,n){var r,i,o,u=n[0],c=n[1],s=n[2],f=Math.sqrt(u*u+c*c+s*s);return f<a?null:(u*=f=1/f,c*=f,s*=f,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=u*u*o+i,t[1]=c*u*o+s*r,t[2]=s*u*o-c*r,t[3]=0,t[4]=u*c*o-s*r,t[5]=c*c*o+i,t[6]=s*c*o+u*r,t[7]=0,t[8]=u*s*o+c*r,t[9]=c*s*o-u*r,t[10]=s*s*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function I(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function j(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=r+r,c=i+i,s=o+o,f=r*u,l=r*c,d=r*s,h=i*c,p=i*s,v=o*s,g=a*u,m=a*c,y=a*s;return t[0]=1-(h+v),t[1]=l+y,t[2]=d-m,t[3]=0,t[4]=l-y,t[5]=1-(f+v),t[6]=p+g,t[7]=0,t[8]=d+m,t[9]=p-g,t[10]=1-(f+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function N(t,e){var n=new u(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],c=e[4],s=e[5],f=e[6],l=e[7],d=r*r+i*i+o*o+a*a;return d>0?(n[0]=2*(c*a+l*r+s*o-f*i)/d,n[1]=2*(s*a+l*i+f*r-c*o)/d,n[2]=2*(f*a+l*o+c*i-s*r)/d):(n[0]=2*(c*a+l*r+s*o-f*i),n[1]=2*(s*a+l*i+f*r-c*o),n[2]=2*(f*a+l*o+c*i-s*r)),j(t,e,n),t}function R(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function P(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],u=e[6],c=e[8],s=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+u*u),t[2]=Math.sqrt(c*c+s*s+f*f),t}function D(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function L(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=e[3],c=i+i,s=o+o,f=a+a,l=i*c,d=i*s,h=i*f,p=o*s,v=o*f,g=a*f,m=u*c,y=u*s,b=u*f,_=r[0],T=r[1],O=r[2];return t[0]=(1-(p+g))*_,t[1]=(d+b)*_,t[2]=(h-y)*_,t[3]=0,t[4]=(d-b)*T,t[5]=(1-(l+g))*T,t[6]=(v+m)*T,t[7]=0,t[8]=(h+y)*O,t[9]=(v-m)*O,t[10]=(1-(l+p))*O,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function U(t,e,n,r,i){var o=e[0],a=e[1],u=e[2],c=e[3],s=o+o,f=a+a,l=u+u,d=o*s,h=o*f,p=o*l,v=a*f,g=a*l,m=u*l,y=c*s,b=c*f,_=c*l,T=r[0],O=r[1],E=r[2],M=i[0],w=i[1],S=i[2],A=(1-(v+m))*T,x=(h+_)*T,I=(p-b)*T,C=(h-_)*O,k=(1-(d+m))*O,j=(g+y)*O,N=(p+b)*E,R=(g-y)*E,P=(1-(d+v))*E;return t[0]=A,t[1]=x,t[2]=I,t[3]=0,t[4]=C,t[5]=k,t[6]=j,t[7]=0,t[8]=N,t[9]=R,t[10]=P,t[11]=0,t[12]=n[0]+M-(A*M+C*w+N*S),t[13]=n[1]+w-(x*M+k*w+R*S),t[14]=n[2]+S-(I*M+j*w+P*S),t[15]=1,t}function F(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,c=i+i,s=n*a,f=r*a,l=r*u,d=i*a,h=i*u,p=i*c,v=o*a,g=o*u,m=o*c;return t[0]=1-l-p,t[1]=f+m,t[2]=d-g,t[3]=0,t[4]=f-m,t[5]=1-s-p,t[6]=h+v,t[7]=0,t[8]=d+g,t[9]=h-v,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function H(t,e,n,r,i,o,a){var u=1/(n-e),c=1/(i-r),s=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*c,t[10]=(a+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*s,t[15]=0,t}function z(t,e,n,r,i){var o=1/Math.tan(e/2),a=void 0;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(r-i),t[10]=(i+r)*a,t[14]=2*i*r*a):(t[10]=-1,t[14]=-2*r),t}function V(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(a+u),s=2/(i+o);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(a-u)*c*.5,t[9]=(i-o)*s*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function B(t,e,n,r,i,o,a){var u=1/(e-n),c=1/(r-i),s=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*c,t[14]=(a+o)*s,t[15]=1,t}function G(t,e,n,r){var i=void 0,o=void 0,u=void 0,c=void 0,s=void 0,f=void 0,l=void 0,d=void 0,h=void 0,v=void 0,g=e[0],m=e[1],y=e[2],b=r[0],_=r[1],T=r[2],O=n[0],E=n[1],M=n[2];return Math.abs(g-O)<a&&Math.abs(m-E)<a&&Math.abs(y-M)<a?p(t):(l=g-O,d=m-E,h=y-M,i=_*(h*=v=1/Math.sqrt(l*l+d*d+h*h))-T*(d*=v),o=T*(l*=v)-b*h,u=b*d-_*l,(v=Math.sqrt(i*i+o*o+u*u))?(i*=v=1/v,o*=v,u*=v):(i=0,o=0,u=0),c=d*u-h*o,s=h*i-l*u,f=l*o-d*i,(v=Math.sqrt(c*c+s*s+f*f))?(c*=v=1/v,s*=v,f*=v):(c=0,s=0,f=0),t[0]=i,t[1]=c,t[2]=l,t[3]=0,t[4]=o,t[5]=s,t[6]=d,t[7]=0,t[8]=u,t[9]=f,t[10]=h,t[11]=0,t[12]=-(i*g+o*m+u*y),t[13]=-(c*g+s*m+f*y),t[14]=-(l*g+d*m+h*y),t[15]=1,t)}function Y(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=r[0],c=r[1],s=r[2],f=i-n[0],l=o-n[1],d=a-n[2],h=f*f+l*l+d*d;h>0&&(f*=h=1/Math.sqrt(h),l*=h,d*=h);var p=c*d-s*l,v=s*f-u*d,g=u*l-c*f;return(h=p*p+v*v+g*g)>0&&(p*=h=1/Math.sqrt(h),v*=h,g*=h),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=l*g-d*v,t[5]=d*p-f*g,t[6]=f*v-l*p,t[7]=0,t[8]=f,t[9]=l,t[10]=d,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function q(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function X(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function $(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function K(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Q(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function J(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Z(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=t[4],c=t[5],s=t[6],f=t[7],l=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],b=e[0],_=e[1],T=e[2],O=e[3],E=e[4],M=e[5],w=e[6],S=e[7],A=e[8],x=e[9],I=e[10],C=e[11],k=e[12],j=e[13],N=e[14],R=e[15];return Math.abs(n-b)<=a*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=a*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-T)<=a*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(o-O)<=a*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(u-E)<=a*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-M)<=a*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(s-w)<=a*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(f-S)<=a*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(l-A)<=a*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(d-x)<=a*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(h-I)<=a*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(p-C)<=a*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(v-k)<=a*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(g-j)<=a*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(m-N)<=a*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(y-R)<=a*Math.max(1,Math.abs(y),Math.abs(R))}var tt=b,et=$;function nt(){var t=new u(3);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function rt(t){var e=new u(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function it(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function ot(t,e,n){var r=new u(3);return r[0]=t,r[1]=e,r[2]=n,r}function at(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ut(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function st(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function ft(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function lt(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function dt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function ht(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function pt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function vt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function gt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function mt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function yt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function bt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function _t(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function Tt(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function Ot(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Et(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Mt(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function wt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function St(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],c=n[2];return t[0]=i*c-o*u,t[1]=o*a-r*c,t[2]=r*u-i*a,t}function At(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function xt(t,e,n,r,i,o){var a=o*o,u=a*(2*o-3)+1,c=a*(o-2)+o,s=a*(o-1),f=a*(3-2*o);return t[0]=e[0]*u+n[0]*c+r[0]*s+i[0]*f,t[1]=e[1]*u+n[1]*c+r[1]*s+i[1]*f,t[2]=e[2]*u+n[2]*c+r[2]*s+i[2]*f,t}function It(t,e,n,r,i,o){var a=1-o,u=a*a,c=o*o,s=u*a,f=3*o*u,l=3*c*a,d=c*o;return t[0]=e[0]*s+n[0]*f+r[0]*l+i[0]*d,t[1]=e[1]*s+n[1]*f+r[1]*l+i[1]*d,t[2]=e[2]*s+n[2]*f+r[2]*l+i[2]*d,t}function Ct(t,e){e=e||1;var n=2*c()*Math.PI,r=2*c()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function kt(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function jt(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function Nt(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],c=e[1],s=e[2],f=i*s-o*c,l=o*u-r*s,d=r*c-i*u,h=i*d-o*l,p=o*f-r*d,v=r*l-i*f,g=2*a;return f*=g,l*=g,d*=g,h*=2,p*=2,v*=2,t[0]=u+f+h,t[1]=c+l+p,t[2]=s+d+v,t}function Rt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Pt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Dt(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Lt(t,e){var n=ot(t[0],t[1],t[2]),r=ot(e[0],e[1],e[2]);Mt(n,n),Mt(r,r);var i=wt(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Ut(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ft(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Ht(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],u=e[1],c=e[2];return Math.abs(n-o)<=a*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=a*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=a*Math.max(1,Math.abs(i),Math.abs(c))}var zt=st,Vt=ft,Bt=lt,Gt=bt,Yt=_t,Wt=it,qt=Tt,Xt=function(){var t=nt();return function(e,n,r,i,o,a){var u=void 0,c=void 0;for(n||(n=3),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,u=r;u<c;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}();function $t(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function Kt(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}!function(){var t=function(){var t=new u(4);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}()}();function Qt(){var t=new u(4);return u!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Jt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Zt(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function te(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>a?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function ee(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=n[0],c=n[1],s=n[2],f=n[3];return t[0]=r*f+a*u+i*s-o*c,t[1]=i*f+a*c+o*u-r*s,t[2]=o*f+a*s+r*c-i*u,t[3]=a*f-r*u-i*c-o*s,t}function ne(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*u,t[1]=i*c+o*u,t[2]=o*c-i*u,t[3]=a*c-r*u,t}function re(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c-o*u,t[1]=i*c+a*u,t[2]=o*c+r*u,t[3]=a*c-i*u,t}function ie(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*u,t[1]=i*c-r*u,t[2]=o*c+a*u,t[3]=a*c-o*u,t}function oe(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function ae(t,e,n,r){var i=e[0],o=e[1],u=e[2],c=e[3],s=n[0],f=n[1],l=n[2],d=n[3],h=void 0,p=void 0,v=void 0,g=void 0,m=void 0;return(p=i*s+o*f+u*l+c*d)<0&&(p=-p,s=-s,f=-f,l=-l,d=-d),1-p>a?(h=Math.acos(p),v=Math.sin(h),g=Math.sin((1-r)*h)/v,m=Math.sin(r*h)/v):(g=1-r,m=r),t[0]=g*i+m*s,t[1]=g*o+m*f,t[2]=g*u+m*l,t[3]=g*c+m*d,t}function ue(t){var e=c(),n=c(),r=c(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function ce(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,u=a?1/a:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=o*u,t}function se(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function fe(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*o+a]-e[3*a+o])*r,t[o]=(e[3*o+i]+e[3*i+o])*r,t[a]=(e[3*a+i]+e[3*i+a])*r}return t}function le(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),u=Math.sin(n),c=Math.cos(n),s=Math.sin(r),f=Math.cos(r);return t[0]=o*c*f-a*u*s,t[1]=a*u*f+o*c*s,t[2]=a*c*s-o*u*f,t[3]=a*c*f+o*u*s,t}function de(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var he=function(t){var e=new u(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},pe=function(t,e,n,r){var i=new u(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},ve=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},ge=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},me=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},ye=ee,be=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},_e=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},Te=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],u=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=u+r*(n[3]-u),t},Oe=$t,Ee=Oe,Me=Kt,we=Me,Se=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},Ae=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},xe=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=e[0],c=e[1],s=e[2],f=e[3];return Math.abs(n-u)<=a*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-c)<=a*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-f)<=a*Math.max(1,Math.abs(o),Math.abs(f))},Ie=function(){var t=nt(),e=ot(1,0,0),n=ot(0,1,0);return function(r,i,o){var a=wt(i,o);return a<-.999999?(St(t,e,i),Wt(t)<1e-6&&St(t,n,i),Mt(t,t),Zt(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(St(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,Se(r,r))}}(),Ce=function(){var t=Qt(),e=Qt();return function(n,r,i,o,a,u){return ae(t,r,a,u),ae(e,i,o,u),ae(n,t,e,2*u*(1-u)),n}}(),ke=function(){var t=function(){var t=new u(9);return u!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Se(e,fe(e,t))}}();n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i})},function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return f}),n.d(e,"b",function(){return l});var r=n(8);function i(t){return t[Object(r.b)(t.length)]}function o(t,e){for(let n=0;n<e;n++)t(n)}function a(t,e,n=[]){for(let r=0;r<e;r++)n[r]=t(r);return n}function u(t,e,n,r=[]){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++)r[o]=t(e[o],n[o]);return r}function c(t,e=[]){for(const n of t){const t=e.length;for(let r=0;r<n.length;r++)e[r+t]=n[r]}return e}function s(t,e,n=[]){return c(e.map(t),n)}function f(t,e){if(Array.isArray(e))return e.map(t);{const n={};for(const r in e)n[r]=t(e[r],r);return n}}function l(t,e){for(const n in e)t(e[n],n)}},,function(t,e,n){"use strict";var r;function i(t,e){const n=e||t,{element:r=window}=t,i={};function o(t){i[t.keyCode]=Date.now(),n(i)}function a(t){delete i[t.keyCode],n(i)}return r.addEventListener("keyup",a,!1),r.addEventListener("keydown",o,!1),n(i),function(){r.removeEventListener("keyup",a),r.removeEventListener("keydown",o)}}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),function(t){t[t.CANCEL=3]="CANCEL",t[t.HELP=6]="HELP",t[t.BACK_SPACE=8]="BACK_SPACE",t[t.TAB=9]="TAB",t[t.CLEAR=12]="CLEAR",t[t.RETURN=13]="RETURN",t[t.ENTER=14]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CONTROL=17]="CONTROL",t[t.ALT=18]="ALT",t[t.PAUSE=19]="PAUSE",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.ESCAPE=27]="ESCAPE",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.PRINTSCREEN=44]="PRINTSCREEN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_1=49]="DIGIT_1",t[t.DIGIT_2=50]="DIGIT_2",t[t.DIGIT_3=51]="DIGIT_3",t[t.DIGIT_4=52]="DIGIT_4",t[t.DIGIT_5=53]="DIGIT_5",t[t.DIGIT_6=54]="DIGIT_6",t[t.DIGIT_7=55]="DIGIT_7",t[t.DIGIT_8=56]="DIGIT_8",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.EQUALS=61]="EQUALS",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.CONTEXT_MENU=93]="CONTEXT_MENU",t[t.NUMPAD0=96]="NUMPAD0",t[t.NUMPAD1=97]="NUMPAD1",t[t.NUMPAD2=98]="NUMPAD2",t[t.NUMPAD3=99]="NUMPAD3",t[t.NUMPAD4=100]="NUMPAD4",t[t.NUMPAD5=101]="NUMPAD5",t[t.NUMPAD6=102]="NUMPAD6",t[t.NUMPAD7=103]="NUMPAD7",t[t.NUMPAD8=104]="NUMPAD8",t[t.NUMPAD9=105]="NUMPAD9",t[t.MULTIPLY=106]="MULTIPLY",t[t.ADD=107]="ADD",t[t.SEPARATOR=108]="SEPARATOR",t[t.SUBTRACT=109]="SUBTRACT",t[t.DECIMAL=110]="DECIMAL",t[t.DIVIDE=111]="DIVIDE",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.F13=124]="F13",t[t.F14=125]="F14",t[t.F15=126]="F15",t[t.F16=127]="F16",t[t.F17=128]="F17",t[t.F18=129]="F18",t[t.F19=130]="F19",t[t.F20=131]="F20",t[t.F21=132]="F21",t[t.F22=133]="F22",t[t.F23=134]="F23",t[t.F24=135]="F24",t[t.NUM_LOCK=144]="NUM_LOCK",t[t.SCROLL_LOCK=145]="SCROLL_LOCK",t[t.COMMA=188]="COMMA",t[t.PERIOD=190]="PERIOD",t[t.SLASH=191]="SLASH",t[t.BACK_QUOTE=192]="BACK_QUOTE",t[t.OPEN_BRACKET=219]="OPEN_BRACKET",t[t.BACK_SLASH=220]="BACK_SLASH",t[t.CLOSE_BRACKET=221]="CLOSE_BRACKET",t[t.QUOTE=222]="QUOTE",t[t.META=224]="META"}(r||(r={}))},,function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n(21),i=n(35);function o(t){var e=t.id,n=void 0===e?Object(r.a)():e,i=t.value,o=t.json,a=t.accept,u=t.reset,c=t.meta;return void 0===i&&o&&(i=JSON.parse(o)),{id:n,value:i,accept:a,reset:u,meta:c}}function a(t,e){var n=t.id,o=void 0===n?Object(r.a)():n,a=t.ports,u=void 0===a?[]:a,s=t.procedure,f=t.code,l=t.autostart,d=void 0!==l&&l,h=t.async,p=void 0!==h&&h,v=t.delta,g=void 0!==v&&v,m=t.meta;if(null==s&&null!=f&&(s=Object(i.a)(f,e)),null==s)throw TypeError("Process must have procedure or code set");return g&&!u.length&&u.push(c.HOT),{id:o,ports:u,procedure:s,autostart:d,async:p,delta:g,meta:m}}function u(t){var e=t.id,n=t.entity,r=t.process,i=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:e,entity:n,process:r,port:i,meta:o}}var c={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";function r(t){return Math.floor(Math.random()*t)}function i(t,e){return r(e-t)+t}function o(){return(Math.random()+Math.random()+Math.random())/3}n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){const e=t.getContext("webgl")||t.getContext("experimental-webgl");if(null==e)throw Error("Webgl context cannot be initialized");return e}function i(t,...e){return e.reduce((e,n)=>e|t[n.toUpperCase()+"_BUFFER_BIT"],0)}function o(t,e=1){e=Math.max(1,e);const n=t.clientWidth*e|0,r=t.clientHeight*e|0;return(t.width!==n||t.height!==r)&&(t.width=n,t.height=r,!0)}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"create",function(){return c}),n.d(r,"clone",function(){return s}),n.d(r,"copy",function(){return f}),n.d(r,"fromValues",function(){return l}),n.d(r,"set",function(){return d}),n.d(r,"identity",function(){return h}),n.d(r,"transpose",function(){return p}),n.d(r,"invert",function(){return v}),n.d(r,"adjoint",function(){return g}),n.d(r,"determinant",function(){return m}),n.d(r,"multiply",function(){return y}),n.d(r,"translate",function(){return b}),n.d(r,"scale",function(){return _}),n.d(r,"rotate",function(){return T}),n.d(r,"rotateX",function(){return O}),n.d(r,"rotateY",function(){return E}),n.d(r,"rotateZ",function(){return M}),n.d(r,"fromTranslation",function(){return w}),n.d(r,"fromScaling",function(){return S}),n.d(r,"fromRotation",function(){return A}),n.d(r,"fromXRotation",function(){return x}),n.d(r,"fromYRotation",function(){return I}),n.d(r,"fromZRotation",function(){return C}),n.d(r,"fromRotationTranslation",function(){return k}),n.d(r,"fromQuat2",function(){return j}),n.d(r,"getTranslation",function(){return N}),n.d(r,"getScaling",function(){return R}),n.d(r,"getRotation",function(){return P}),n.d(r,"fromRotationTranslationScale",function(){return D}),n.d(r,"fromRotationTranslationScaleOrigin",function(){return L}),n.d(r,"fromQuat",function(){return U}),n.d(r,"frustum",function(){return F}),n.d(r,"perspective",function(){return H}),n.d(r,"perspectiveFromFieldOfView",function(){return z}),n.d(r,"ortho",function(){return V}),n.d(r,"lookAt",function(){return B}),n.d(r,"targetTo",function(){return G}),n.d(r,"str",function(){return Y}),n.d(r,"frob",function(){return W}),n.d(r,"add",function(){return q}),n.d(r,"subtract",function(){return X}),n.d(r,"multiplyScalar",function(){return $}),n.d(r,"multiplyScalarAndAdd",function(){return K}),n.d(r,"exactEquals",function(){return Q}),n.d(r,"equals",function(){return J}),n.d(r,"mul",function(){return Z}),n.d(r,"sub",function(){return tt});var i={};n.r(i),n.d(i,"create",function(){return et}),n.d(i,"clone",function(){return nt}),n.d(i,"length",function(){return rt}),n.d(i,"fromValues",function(){return it}),n.d(i,"copy",function(){return ot}),n.d(i,"set",function(){return at}),n.d(i,"add",function(){return ut}),n.d(i,"subtract",function(){return ct}),n.d(i,"multiply",function(){return st}),n.d(i,"divide",function(){return ft}),n.d(i,"ceil",function(){return lt}),n.d(i,"floor",function(){return dt}),n.d(i,"min",function(){return ht}),n.d(i,"max",function(){return pt}),n.d(i,"round",function(){return vt}),n.d(i,"scale",function(){return gt}),n.d(i,"scaleAndAdd",function(){return mt}),n.d(i,"distance",function(){return yt}),n.d(i,"squaredDistance",function(){return bt}),n.d(i,"squaredLength",function(){return _t}),n.d(i,"negate",function(){return Tt}),n.d(i,"inverse",function(){return Ot}),n.d(i,"normalize",function(){return Et}),n.d(i,"dot",function(){return Mt}),n.d(i,"cross",function(){return wt}),n.d(i,"lerp",function(){return St}),n.d(i,"hermite",function(){return At}),n.d(i,"bezier",function(){return xt}),n.d(i,"random",function(){return It}),n.d(i,"transformMat4",function(){return Ct}),n.d(i,"transformMat3",function(){return kt}),n.d(i,"transformQuat",function(){return jt}),n.d(i,"rotateX",function(){return Nt}),n.d(i,"rotateY",function(){return Rt}),n.d(i,"rotateZ",function(){return Pt}),n.d(i,"angle",function(){return Dt}),n.d(i,"str",function(){return Lt}),n.d(i,"exactEquals",function(){return Ut}),n.d(i,"equals",function(){return Ft}),n.d(i,"sub",function(){return Ht}),n.d(i,"mul",function(){return zt}),n.d(i,"div",function(){return Vt}),n.d(i,"dist",function(){return Bt}),n.d(i,"sqrDist",function(){return Gt}),n.d(i,"len",function(){return Yt}),n.d(i,"sqrLen",function(){return Wt}),n.d(i,"forEach",function(){return qt});const o=1e-6;let a="undefined"!=typeof Float32Array?Float32Array:Array;const u=Math.random;Math.PI;function c(){let t=new a(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s(t){let e=new a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function l(t,e,n,r,i,o,u,c,s,f,l,d,h,p,v,g){let m=new a(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=o,m[6]=u,m[7]=c,m[8]=s,m[9]=f,m[10]=l,m[11]=d,m[12]=h,m[13]=p,m[14]=v,m[15]=g,m}function d(t,e,n,r,i,o,a,u,c,s,f,l,d,h,p,v,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=c,t[8]=s,t[9]=f,t[10]=l,t[11]=d,t[12]=h,t[13]=p,t[14]=v,t[15]=g,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function p(t,e){if(t===e){let n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function v(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15],y=n*u-r*a,b=n*c-i*a,_=n*s-o*a,T=r*c-i*u,O=r*s-o*u,E=i*s-o*c,M=f*v-l*p,w=f*g-d*p,S=f*m-h*p,A=l*g-d*v,x=l*m-h*v,I=d*m-h*g,C=y*I-b*x+_*A+T*S-O*w+E*M;return C?(C=1/C,t[0]=(u*I-c*x+s*A)*C,t[1]=(i*x-r*I-o*A)*C,t[2]=(v*E-g*O+m*T)*C,t[3]=(d*O-l*E-h*T)*C,t[4]=(c*S-a*I-s*w)*C,t[5]=(n*I-i*S+o*w)*C,t[6]=(g*_-p*E-m*b)*C,t[7]=(f*E-d*_+h*b)*C,t[8]=(a*x-u*S+s*M)*C,t[9]=(r*S-n*x-o*M)*C,t[10]=(p*O-v*_+m*y)*C,t[11]=(l*_-f*O-h*y)*C,t[12]=(u*w-a*A-c*M)*C,t[13]=(n*A-r*w+i*M)*C,t[14]=(v*b-p*T-g*y)*C,t[15]=(f*T-l*b+d*y)*C,t):null}function g(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],s=e[7],f=e[8],l=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15];return t[0]=u*(d*m-h*g)-l*(c*m-s*g)+v*(c*h-s*d),t[1]=-(r*(d*m-h*g)-l*(i*m-o*g)+v*(i*h-o*d)),t[2]=r*(c*m-s*g)-u*(i*m-o*g)+v*(i*s-o*c),t[3]=-(r*(c*h-s*d)-u*(i*h-o*d)+l*(i*s-o*c)),t[4]=-(a*(d*m-h*g)-f*(c*m-s*g)+p*(c*h-s*d)),t[5]=n*(d*m-h*g)-f*(i*m-o*g)+p*(i*h-o*d),t[6]=-(n*(c*m-s*g)-a*(i*m-o*g)+p*(i*s-o*c)),t[7]=n*(c*h-s*d)-a*(i*h-o*d)+f*(i*s-o*c),t[8]=a*(l*m-h*v)-f*(u*m-s*v)+p*(u*h-s*l),t[9]=-(n*(l*m-h*v)-f*(r*m-o*v)+p*(r*h-o*l)),t[10]=n*(u*m-s*v)-a*(r*m-o*v)+p*(r*s-o*u),t[11]=-(n*(u*h-s*l)-a*(r*h-o*l)+f*(r*s-o*u)),t[12]=-(a*(l*g-d*v)-f*(u*g-c*v)+p*(u*d-c*l)),t[13]=n*(l*g-d*v)-f*(r*g-i*v)+p*(r*d-i*l),t[14]=-(n*(u*g-c*v)-a*(r*g-i*v)+p*(r*c-i*u)),t[15]=n*(u*d-c*l)-a*(r*d-i*l)+f*(r*c-i*u),t}function m(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],c=t[7],s=t[8],f=t[9],l=t[10],d=t[11],h=t[12],p=t[13],v=t[14],g=t[15];return(e*a-n*o)*(l*g-d*v)-(e*u-r*o)*(f*g-d*p)+(e*c-i*o)*(f*v-l*p)+(n*u-r*a)*(s*g-d*h)-(n*c-i*a)*(s*v-l*h)+(r*c-i*u)*(s*p-f*h)}function y(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=e[8],d=e[9],h=e[10],p=e[11],v=e[12],g=e[13],m=e[14],y=e[15],b=n[0],_=n[1],T=n[2],O=n[3];return t[0]=b*r+_*u+T*l+O*v,t[1]=b*i+_*c+T*d+O*g,t[2]=b*o+_*s+T*h+O*m,t[3]=b*a+_*f+T*p+O*y,b=n[4],_=n[5],T=n[6],O=n[7],t[4]=b*r+_*u+T*l+O*v,t[5]=b*i+_*c+T*d+O*g,t[6]=b*o+_*s+T*h+O*m,t[7]=b*a+_*f+T*p+O*y,b=n[8],_=n[9],T=n[10],O=n[11],t[8]=b*r+_*u+T*l+O*v,t[9]=b*i+_*c+T*d+O*g,t[10]=b*o+_*s+T*h+O*m,t[11]=b*a+_*f+T*p+O*y,b=n[12],_=n[13],T=n[14],O=n[15],t[12]=b*r+_*u+T*l+O*v,t[13]=b*i+_*c+T*d+O*g,t[14]=b*o+_*s+T*h+O*m,t[15]=b*a+_*f+T*p+O*y,t}function b(t,e,n){let r,i,o,a,u,c,s,f,l,d,h,p,v=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],c=e[5],s=e[6],f=e[7],l=e[8],d=e[9],h=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=c,t[6]=s,t[7]=f,t[8]=l,t[9]=d,t[10]=h,t[11]=p,t[12]=r*v+u*g+l*m+e[12],t[13]=i*v+c*g+d*m+e[13],t[14]=o*v+s*g+h*m+e[14],t[15]=a*v+f*g+p*m+e[15]),t}function _(t,e,n){let r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function T(t,e,n,r){let i,a,u,c,s,f,l,d,h,p,v,g,m,y,b,_,T,O,E,M,w,S,A,x,I=r[0],C=r[1],k=r[2],j=Math.sqrt(I*I+C*C+k*k);return j<o?null:(I*=j=1/j,C*=j,k*=j,i=Math.sin(n),u=1-(a=Math.cos(n)),c=e[0],s=e[1],f=e[2],l=e[3],d=e[4],h=e[5],p=e[6],v=e[7],g=e[8],m=e[9],y=e[10],b=e[11],_=I*I*u+a,T=C*I*u+k*i,O=k*I*u-C*i,E=I*C*u-k*i,M=C*C*u+a,w=k*C*u+I*i,S=I*k*u+C*i,A=C*k*u-I*i,x=k*k*u+a,t[0]=c*_+d*T+g*O,t[1]=s*_+h*T+m*O,t[2]=f*_+p*T+y*O,t[3]=l*_+v*T+b*O,t[4]=c*E+d*M+g*w,t[5]=s*E+h*M+m*w,t[6]=f*E+p*M+y*w,t[7]=l*E+v*M+b*w,t[8]=c*S+d*A+g*x,t[9]=s*S+h*A+m*x,t[10]=f*S+p*A+y*x,t[11]=l*S+v*A+b*x,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function O(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],u=e[6],c=e[7],s=e[8],f=e[9],l=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+s*r,t[5]=a*i+f*r,t[6]=u*i+l*r,t[7]=c*i+d*r,t[8]=s*i-o*r,t[9]=f*i-a*r,t[10]=l*i-u*r,t[11]=d*i-c*r,t}function E(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],c=e[3],s=e[8],f=e[9],l=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-s*r,t[1]=a*i-f*r,t[2]=u*i-l*r,t[3]=c*i-d*r,t[8]=o*r+s*i,t[9]=a*r+f*i,t[10]=u*r+l*i,t[11]=c*r+d*i,t}function M(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],u=e[2],c=e[3],s=e[4],f=e[5],l=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+s*r,t[1]=a*i+f*r,t[2]=u*i+l*r,t[3]=c*i+d*r,t[4]=s*i-o*r,t[5]=f*i-a*r,t[6]=l*i-u*r,t[7]=d*i-c*r,t}function w(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function S(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e,n){let r,i,a,u=n[0],c=n[1],s=n[2],f=Math.sqrt(u*u+c*c+s*s);return f<o?null:(u*=f=1/f,c*=f,s*=f,r=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=u*u*a+i,t[1]=c*u*a+s*r,t[2]=s*u*a-c*r,t[3]=0,t[4]=u*c*a-s*r,t[5]=c*c*a+i,t[6]=s*c*a+u*r,t[7]=0,t[8]=u*s*a+c*r,t[9]=c*s*a-u*r,t[10]=s*s*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function x(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],u=r+r,c=i+i,s=o+o,f=r*u,l=r*c,d=r*s,h=i*c,p=i*s,v=o*s,g=a*u,m=a*c,y=a*s;return t[0]=1-(h+v),t[1]=l+y,t[2]=d-m,t[3]=0,t[4]=l-y,t[5]=1-(f+v),t[6]=p+g,t[7]=0,t[8]=d+m,t[9]=p-g,t[10]=1-(f+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function j(t,e){let n=new a(3),r=-e[0],i=-e[1],o=-e[2],u=e[3],c=e[4],s=e[5],f=e[6],l=e[7],d=r*r+i*i+o*o+u*u;return d>0?(n[0]=2*(c*u+l*r+s*o-f*i)/d,n[1]=2*(s*u+l*i+f*r-c*o)/d,n[2]=2*(f*u+l*o+c*i-s*r)/d):(n[0]=2*(c*u+l*r+s*o-f*i),n[1]=2*(s*u+l*i+f*r-c*o),n[2]=2*(f*u+l*o+c*i-s*r)),k(t,e,n),t}function N(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function R(t,e){let n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],u=e[6],c=e[8],s=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+u*u),t[2]=Math.sqrt(c*c+s*s+f*f),t}function P(t,e){let n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function D(t,e,n,r){let i=e[0],o=e[1],a=e[2],u=e[3],c=i+i,s=o+o,f=a+a,l=i*c,d=i*s,h=i*f,p=o*s,v=o*f,g=a*f,m=u*c,y=u*s,b=u*f,_=r[0],T=r[1],O=r[2];return t[0]=(1-(p+g))*_,t[1]=(d+b)*_,t[2]=(h-y)*_,t[3]=0,t[4]=(d-b)*T,t[5]=(1-(l+g))*T,t[6]=(v+m)*T,t[7]=0,t[8]=(h+y)*O,t[9]=(v-m)*O,t[10]=(1-(l+p))*O,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e,n,r,i){let o=e[0],a=e[1],u=e[2],c=e[3],s=o+o,f=a+a,l=u+u,d=o*s,h=o*f,p=o*l,v=a*f,g=a*l,m=u*l,y=c*s,b=c*f,_=c*l,T=r[0],O=r[1],E=r[2],M=i[0],w=i[1],S=i[2],A=(1-(v+m))*T,x=(h+_)*T,I=(p-b)*T,C=(h-_)*O,k=(1-(d+m))*O,j=(g+y)*O,N=(p+b)*E,R=(g-y)*E,P=(1-(d+v))*E;return t[0]=A,t[1]=x,t[2]=I,t[3]=0,t[4]=C,t[5]=k,t[6]=j,t[7]=0,t[8]=N,t[9]=R,t[10]=P,t[11]=0,t[12]=n[0]+M-(A*M+C*w+N*S),t[13]=n[1]+w-(x*M+k*w+R*S),t[14]=n[2]+S-(I*M+j*w+P*S),t[15]=1,t}function U(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,c=i+i,s=n*a,f=r*a,l=r*u,d=i*a,h=i*u,p=i*c,v=o*a,g=o*u,m=o*c;return t[0]=1-l-p,t[1]=f+m,t[2]=d-g,t[3]=0,t[4]=f-m,t[5]=1-s-p,t[6]=h+v,t[7]=0,t[8]=d+g,t[9]=h-v,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,e,n,r,i,o,a){let u=1/(n-e),c=1/(i-r),s=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*c,t[10]=(a+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*s,t[15]=0,t}function H(t,e,n,r,i){let o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function z(t,e,n,r){let i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(a+u),s=2/(i+o);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(a-u)*c*.5,t[9]=(i-o)*s*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function V(t,e,n,r,i,o,a){let u=1/(e-n),c=1/(r-i),s=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*c,t[14]=(a+o)*s,t[15]=1,t}function B(t,e,n,r){let i,a,u,c,s,f,l,d,p,v,g=e[0],m=e[1],y=e[2],b=r[0],_=r[1],T=r[2],O=n[0],E=n[1],M=n[2];return Math.abs(g-O)<o&&Math.abs(m-E)<o&&Math.abs(y-M)<o?h(t):(l=g-O,d=m-E,p=y-M,i=_*(p*=v=1/Math.sqrt(l*l+d*d+p*p))-T*(d*=v),a=T*(l*=v)-b*p,u=b*d-_*l,(v=Math.sqrt(i*i+a*a+u*u))?(i*=v=1/v,a*=v,u*=v):(i=0,a=0,u=0),c=d*u-p*a,s=p*i-l*u,f=l*a-d*i,(v=Math.sqrt(c*c+s*s+f*f))?(c*=v=1/v,s*=v,f*=v):(c=0,s=0,f=0),t[0]=i,t[1]=c,t[2]=l,t[3]=0,t[4]=a,t[5]=s,t[6]=d,t[7]=0,t[8]=u,t[9]=f,t[10]=p,t[11]=0,t[12]=-(i*g+a*m+u*y),t[13]=-(c*g+s*m+f*y),t[14]=-(l*g+d*m+p*y),t[15]=1,t)}function G(t,e,n,r){let i=e[0],o=e[1],a=e[2],u=r[0],c=r[1],s=r[2],f=i-n[0],l=o-n[1],d=a-n[2],h=f*f+l*l+d*d;h>0&&(f*=h=1/Math.sqrt(h),l*=h,d*=h);let p=c*d-s*l,v=s*f-u*d,g=u*l-c*f;return(h=p*p+v*v+g*g)>0&&(p*=h=1/Math.sqrt(h),v*=h,g*=h),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=l*g-d*v,t[5]=d*p-f*g,t[6]=f*v-l*p,t[7]=0,t[8]=f,t[9]=l,t[10]=d,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Y(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function W(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function q(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function X(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function $(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function K(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function J(t,e){let n=t[0],r=t[1],i=t[2],a=t[3],u=t[4],c=t[5],s=t[6],f=t[7],l=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],b=e[0],_=e[1],T=e[2],O=e[3],E=e[4],M=e[5],w=e[6],S=e[7],A=e[8],x=e[9],I=e[10],C=e[11],k=e[12],j=e[13],N=e[14],R=e[15];return Math.abs(n-b)<=o*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=o*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-T)<=o*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(a-O)<=o*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(u-E)<=o*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-M)<=o*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(s-w)<=o*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(f-S)<=o*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(l-A)<=o*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(d-x)<=o*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(h-I)<=o*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(p-C)<=o*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(v-k)<=o*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(g-j)<=o*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(m-N)<=o*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(y-R)<=o*Math.max(1,Math.abs(y),Math.abs(R))}const Z=y,tt=X;function et(){let t=new a(3);return t[0]=0,t[1]=0,t[2]=0,t}function nt(t){var e=new a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function rt(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function it(t,e,n){let r=new a(3);return r[0]=t,r[1]=e,r[2]=n,r}function ot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function at(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function ut(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function ct(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function st(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function ft(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function lt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function dt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function ht(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function pt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function vt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function gt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function mt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function yt(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function bt(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function _t(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function Tt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Ot(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Et(t,e){let n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function Mt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function wt(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],c=n[2];return t[0]=i*c-o*u,t[1]=o*a-r*c,t[2]=r*u-i*a,t}function St(t,e,n,r){let i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function At(t,e,n,r,i,o){let a=o*o,u=a*(2*o-3)+1,c=a*(o-2)+o,s=a*(o-1),f=a*(3-2*o);return t[0]=e[0]*u+n[0]*c+r[0]*s+i[0]*f,t[1]=e[1]*u+n[1]*c+r[1]*s+i[1]*f,t[2]=e[2]*u+n[2]*c+r[2]*s+i[2]*f,t}function xt(t,e,n,r,i,o){let a=1-o,u=a*a,c=o*o,s=u*a,f=3*o*u,l=3*c*a,d=c*o;return t[0]=e[0]*s+n[0]*f+r[0]*l+i[0]*d,t[1]=e[1]*s+n[1]*f+r[1]*l+i[1]*d,t[2]=e[2]*s+n[2]*f+r[2]*l+i[2]*d,t}function It(t,e){e=e||1;let n=2*u()*Math.PI,r=2*u()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function Ct(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function kt(t,e,n){let r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function jt(t,e,n){let r=n[0],i=n[1],o=n[2],a=n[3],u=e[0],c=e[1],s=e[2],f=i*s-o*c,l=o*u-r*s,d=r*c-i*u,h=i*d-o*l,p=o*f-r*d,v=r*l-i*f,g=2*a;return f*=g,l*=g,d*=g,h*=2,p*=2,v*=2,t[0]=u+f+h,t[1]=c+l+p,t[2]=s+d+v,t}function Nt(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Rt(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Pt(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function Dt(t,e){let n=it(t[0],t[1],t[2]),r=it(e[0],e[1],e[2]);Et(n,n),Et(r,r);let i=Mt(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Lt(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ut(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Ft(t,e){let n=t[0],r=t[1],i=t[2],a=e[0],u=e[1],c=e[2];return Math.abs(n-a)<=o*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=o*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-c)<=o*Math.max(1,Math.abs(i),Math.abs(c))}const Ht=ct,zt=st,Vt=ft,Bt=yt,Gt=bt,Yt=rt,Wt=_t,qt=function(){let t=et();return function(e,n,r,i,o,a){let u,c;for(n||(n=3),r||(r=0),c=i?Math.min(i*n+r,e.length):e.length,u=r;u<c;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}();!function(){let t=function(){let t=new a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}()}();function Xt(){let t=new a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function $t(t,e,n,r){let i,o,a,u,c,s=e[0],f=e[1],l=e[2],d=e[3],h=n[0],p=n[1],v=n[2],g=n[3];return(o=s*h+f*p+l*v+d*g)<0&&(o=-o,h=-h,p=-p,v=-v,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-r)*i)/a,c=Math.sin(r*i)/a):(u=1-r,c=r),t[0]=u*s+c*h,t[1]=u*f+c*p,t[2]=u*l+c*v,t[3]=u*d+c*g,t}const Kt=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t};(function(){let t=et(),e=it(1,0,0),n=it(0,1,0)})(),function(){let t=Xt(),e=Xt()}(),function(){let t=function(){let t=new a(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}()}();!function(){let t=function(){let t=new a(2);return t[0]=0,t[1]=0,t}()}();n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});const r=(t,e)=>t!==e;function i(t,e){if(t===e)return!0;if(!e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}},function(t,e,n){"use strict";n.d(e,"g",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return s}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return l}),n.d(e,"a",function(){return d}),n.d(e,"b",function(){return h});var r=n(1),i=n(9),o=n(14),a=n(11);function u(t,e,n){var u=Object(r.g)([t.HOT],i.a),c=Object(r.a)([u.HOT],function(t,e){var n=new o.a(e);return t(n),n.destroy}).accept(a.b),s=Object(r.g)([t.HOT,e.HOT],function(t){return{width:t.clientWidth,height:t.clientHeight}});return c.react([s.HOT],function(t,e){return t.resize()},"updateSize"),n&&c.react([n.HOT],function(t,e){return t.updateDrawSettings(e)}),{painter:c,gl:u,canvasSize:s}}function c(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createShade();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function s(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createForm();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function f(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createSketch();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function l(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createStaticLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function d(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createDrawingLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function h(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createEffectLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}},,function(t,e,n){"use strict";var r=n(0);function i(t){return d[t].bindPoint}function o(t,e){return function(n){t.uniform1i(e,n)}}function a(t,e){return function(n){t.uniform1iv(e,n)}}function u(t,e){return function(n){t.uniform2iv(e,n)}}function c(t,e){return function(n){t.uniform3iv(e,n)}}function s(t,e){return function(n){t.uniform4iv(e,n)}}function f(t,e,n,r){const o=i(e);return function(e){t.uniform1i(r,n),t.activeTexture(t.TEXTURE0+n),t.bindTexture(o,e)}}function l(t,e,n,r,o){const a=i(e),u=new Int32Array(o);for(let t=0;t<o;++t)u[t]=n+t;return function(e){t.uniform1iv(r,u);for(const n in e)t.activeTexture(t.TEXTURE0+u[n]),t.bindTexture(a,e[n])}}const d={[r.d.FLOAT]:{Type:Float32Array,size:4,setter:function(t,e){return function(n){t.uniform1f(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1fv(e,n)}}},[r.d.FLOAT_VEC2]:{Type:Float32Array,size:8,setter:function(t,e){return function(n){t.uniform2fv(e,n)}}},[r.d.FLOAT_VEC3]:{Type:Float32Array,size:12,setter:function(t,e){return function(n){t.uniform3fv(e,n)}}},[r.d.FLOAT_VEC4]:{Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniform4fv(e,n)}}},[r.d.INT]:{Type:Int32Array,size:4,setter:o,arraySetter:a},[r.d.INT_VEC2]:{Type:Int32Array,size:8,setter:u},[r.d.INT_VEC3]:{Type:Int32Array,size:12,setter:c},[r.d.INT_VEC4]:{Type:Int32Array,size:16,setter:s},[r.d.UNSIGNED_INT]:{Type:Uint32Array,size:4,setter:function(t,e){return function(n){t.uniform1ui(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1uiv(e,n)}}},[r.d.UNSIGNED_INT_VEC2]:{Type:Uint32Array,size:8,setter:function(t,e){return function(n){t.uniform2uiv(e,n)}}},[r.d.UNSIGNED_INT_VEC3]:{Type:Uint32Array,size:12,setter:function(t,e){return function(n){t.uniform3uiv(e,n)}}},[r.d.UNSIGNED_INT_VEC4]:{Type:Uint32Array,size:16,setter:function(t,e){return function(n){t.uniform4uiv(e,n)}}},[r.d.BOOL]:{Type:Uint32Array,size:4,setter:o,arraySetter:a},[r.d.BOOL_VEC2]:{Type:Uint32Array,size:8,setter:u},[r.d.BOOL_VEC3]:{Type:Uint32Array,size:12,setter:c},[r.d.BOOL_VEC4]:{Type:Uint32Array,size:16,setter:s},[r.d.FLOAT_MAT2]:{Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}},[r.d.FLOAT_MAT3]:{Type:Float32Array,size:36,setter:function(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}},[r.d.FLOAT_MAT4]:{Type:Float32Array,size:64,setter:function(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}},[r.d.FLOAT_MAT2X3]:{Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}},[r.d.FLOAT_MAT2X4]:{Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}},[r.d.FLOAT_MAT3X2]:{Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}},[r.d.FLOAT_MAT3X4]:{Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}},[r.d.FLOAT_MAT4X2]:{Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}},[r.d.FLOAT_MAT4X3]:{Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}},[r.d.SAMPLER_2D]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D},[r.d.SAMPLER_CUBE]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.SAMPLER_3D]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_3D},[r.d.SAMPLER_2D_SHADOW]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D},[r.d.SAMPLER_2D_ARRAY]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D_ARRAY},[r.d.SAMPLER_2D_ARRAY_SHADOW]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D_ARRAY},[r.d.SAMPLER_CUBE_SHADOW]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.INT_SAMPLER_2D]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D},[r.d.INT_SAMPLER_3D]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_3D},[r.d.INT_SAMPLER_CUBE]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.INT_SAMPLER_2D_ARRAY]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D_ARRAY},[r.d.UNSIGNED_INT_SAMPLER_2D]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D},[r.d.UNSIGNED_INT_SAMPLER_3D]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_3D},[r.d.UNSIGNED_INT_SAMPLER_CUBE]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.UNSIGNED_INT_SAMPLER_2D_ARRAY]:{Type:null,size:0,setter:f,arraySetter:l,bindPoint:r.d.TEXTURE_2D_ARRAY}};function h(t,e,n){return function(i){t.bindBuffer(t.ARRAY_BUFFER,i.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.itemSize,r.d.FLOAT,i.normalize||!1,i.stride||0,i.offset||0)}}function p(t,e,n){return function(i){t.bindBuffer(t.ARRAY_BUFFER,i.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.itemSize,r.d.INT,i.stride||0,i.offset||0)}}function v(t,e,n){const i=n.size,o=n.count;return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer);const a=i,u=a/o,c=d[r.d.FLOAT].size*a,s=n.normalize||!1,f=n.offset||0,l=c/o;for(let n=0;n<o;++n)t.enableVertexAttribArray(e+n),t.vertexAttribPointer(e+n,u,r.d.FLOAT,s,c,f+l*n)}}const g={[r.d.FLOAT]:{size:4,setter:h,itemSize:1},[r.d.FLOAT_VEC2]:{size:8,setter:h,itemSize:2},[r.d.FLOAT_VEC3]:{size:12,setter:h,itemSize:3},[r.d.FLOAT_VEC4]:{size:16,setter:h,itemSize:4},[r.d.INT]:{size:4,setter:p,itemSize:1},[r.d.INT_VEC2]:{size:8,setter:p,itemSize:2},[r.d.INT_VEC3]:{size:12,setter:p,itemSize:3},[r.d.INT_VEC4]:{size:16,setter:p,itemSize:4},[r.d.UNSIGNED_INT]:{size:4,setter:p,itemSize:1},[r.d.UNSIGNED_INT_VEC2]:{size:8,setter:p,itemSize:2},[r.d.UNSIGNED_INT_VEC3]:{size:12,setter:p,itemSize:3},[r.d.UNSIGNED_INT_VEC4]:{size:16,setter:p,itemSize:4},[r.d.BOOL]:{size:4,setter:p,itemSize:1},[r.d.BOOL_VEC2]:{size:8,setter:p,itemSize:2},[r.d.BOOL_VEC3]:{size:12,setter:p,itemSize:3},[r.d.BOOL_VEC4]:{size:16,setter:p,itemSize:4},[r.d.FLOAT_MAT2]:{size:4,setter:v,count:2},[r.d.FLOAT_MAT3]:{size:9,setter:v,count:3},[r.d.FLOAT_MAT4]:{size:16,setter:v,count:4}};Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array,Uint16Array,Uint16Array,Uint16Array,Uint32Array,Uint32Array,Uint32Array,Uint32Array,Uint32Array;function m(t,e={},n={}){if(null!=e.flipY&&e.flipY!==n.flipY&&t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY),e.wrap&&e.wrap!==n.wrap||e.wrapS&&e.wrapS!==n.wrapS||e.wrapT&&e.wrapT!==n.wrapT){let n,r;e.wrap?n=r=e.wrap:(r=e.wrapT||"CLAMP_TO_EDGE",n=e.wrapS||"CLAMP_TO_EDGE"),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t[n]),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t[r])}e.magFilter&&e.magFilter!==n.magFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t[e.magFilter]),e.minFilter&&e.minFilter!==n.minFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t[e.minFilter])}function y(t,e,n,r){if(null==e.width||null==e.height)return;null==e.frameBuffer&&(e.frameBuffer=t.createFramebuffer()),e.textures||(e.textures=[]),t.bindFramebuffer(t.FRAMEBUFFER,e.frameBuffer),e.textureConfig.type===t.FLOAT&&t.getExtension("OES_texture_float");const i=e.textureConfig.count;if(i>1){const o=t.getExtension("WEBGL_draw_buffers")||{drawBuffersWEBGL(){}},a=[];for(let t=0;t<i;t++)a.push(o[`COLOR_ATTACHMENT${t}_WEBGL`]);o.drawBuffersWEBGL(a);for(let o=0;o<i;o++){null==e.textures[o]&&(e.textures[o]=t.createTexture());const i=e.textures[o];t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),m(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,a[o],t.TEXTURE_2D,i,0)}}else{null==e.textures[0]&&(e.textures[0]=t.createTexture());const i=e.textures[0];t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),m(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0)}null==e.depthBuffer&&(e.depthBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e.depthBuffer);const o=t.checkFramebufferStatus(t.FRAMEBUFFER);o!==t.FRAMEBUFFER_COMPLETE&&console.error("framebuffer error",o,n),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null)}function b(t,e){t.deleteFramebuffer(e.frameBuffer),t.deleteRenderbuffer(e.depthBuffer);for(const n of e.textures)t.deleteTexture(n)}function _(t,e){if(e.enable)for(const n of e.enable)t.enable(n);if(e.disable)for(const n of e.disable)t.disable(n);e.blendFunc&&t.blendFunc.apply(t,e.blendFunc),null!=e.depthFunc&&t.depthFunc(e.depthFunc),null!=e.cullFace&&t.cullFace(e.cullFace),null!=e.frontFace&&t.frontFace(e.frontFace),null!=e.lineWidth&&t.lineWidth(e.lineWidth),e.colorMask&&t.colorMask.apply(t,e.colorMask),null!=e.depthMask&&t.depthMask(e.depthMask),e.clearColor&&t.clearColor.apply(t,e.clearColor),null!=e.clearDepth&&t.clearDepth(e.clearDepth),null!=e.clearBits&&t.clear(e.clearBits)}function T(t,e){if(e.enable)for(const n of e.enable)t.disable(n);if(e.disable)for(const n of e.disable)t.enable(n)}var O=n(9);const E={wrap:"CLAMP_TO_EDGE",minFilter:"LINEAR",magFilter:"NEAREST"};const M={renderQuad:{attribs:{[r.b]:{buffer:new Float32Array([-1,1,-1,-1,1,1,1,-1]),storeType:"STATIC"},[r.c]:{buffer:new Float32Array([0,1,0,0,1,1,1,0]),storeType:"STATIC"}},drawType:"TRIANGLE_STRIP",itemCount:4}},w={basicEffect:{vert:`\n\t\t\tattribute vec2 ${r.b};\n\t\t\tattribute vec2 ${r.c};\n\t\t\tvarying vec2 ${r.f};\n\t\t\tvoid main() {\n\t\t\t\t${r.f} = ${r.c};\n\t\t\t\tgl_Position = vec4(${r.b}, 0.0, 1.0);\n\t\t\t}`,frag:`precision mediump float;\n\t\t\tuniform sampler2D ${r.e};\n\t\t\tvarying vec2 ${r.f};\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D(${r.e}, ${r.f});\n\t\t\t}`}};let S=1;class A{constructor(t,e="Form"+S++){this.gl=t,this.id=e}update(t){const e=this.gl;t.drawType&&(this.drawType=e[t.drawType]),t.itemCount&&(this.itemCount=t.itemCount),this.attribs=this.attribs||{};for(const n in t.attribs){const r=t.attribs[n];null==this.attribs[n]&&(this.attribs[n]={buffer:e.createBuffer()}),e.bindBuffer(e.ARRAY_BUFFER,this.attribs[n].buffer),e.bufferData(e.ARRAY_BUFFER,r.buffer,e[(r.storeType||"STATIC")+"_DRAW"])}if(t.elements){const n=t.elements.buffer;null==this.elements&&(this.elements={buffer:e.createBuffer(),glType:null}),this.elements.glType=function(t){if(t instanceof Int8Array)return r.d.BYTE;if(t instanceof Uint8Array)return r.d.UNSIGNED_BYTE;if(t instanceof Uint8ClampedArray)return r.d.UNSIGNED_BYTE;if(t instanceof Int16Array)return r.d.SHORT;if(t instanceof Uint16Array)return r.d.UNSIGNED_SHORT;if(t instanceof Int32Array)return r.d.INT;if(t instanceof Uint32Array)return r.d.UNSIGNED_INT;if(t instanceof Float32Array)return r.d.FLOAT;throw"unsupported typed array type"}(n),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.elements.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e[(t.elements.storeType||"STATIC")+"_DRAW"])}return this}destroy(){for(const t in this.attribs)this.gl.deleteBuffer(this.attribs[t].buffer);this.elements&&this.gl.deleteBuffer(this.elements.buffer)}}let x=1;class I{constructor(t,e="Shade"+x++){this.gl=t,this.id=e,this.program=t.createProgram(),this.frag=t.createShader(t.FRAGMENT_SHADER),this.vert=t.createShader(t.VERTEX_SHADER),t.attachShader(this.program,this.vert),t.attachShader(this.program,this.frag)}update(t){const e=this.gl,n=t.frag&&t.frag.trim()||this.fragSource,r=t.vert&&t.vert.trim()||this.vertSource;if(!n||!r)return this;if(n.indexOf("GL_EXT_draw_buffers")>=0&&e.getExtension("WEBGL_draw_buffers"),e.shaderSource(this.vert,r),e.shaderSource(this.frag,n),e.compileShader(this.vert),e.compileShader(this.frag),e.getShaderParameter(this.vert,e.COMPILE_STATUS)||console.error("Error Compiling Vertex Shader!\n",e.getShaderInfoLog(this.vert),C(r)),e.getShaderParameter(this.frag,e.COMPILE_STATUS)||console.error("Error Compiling Fragment Shader!\n",e.getShaderInfoLog(this.frag),C(n)),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS)){const t=e.getProgramInfoLog(this.program);console.error("Error in program linking:",t)}return this.uniformSetters=function(t,e){let n=0;function r(e,r){const i=t.getUniformLocation(e,r.name),o=r.size>1&&"[0]"===r.name.substr(-3),a=r.type,u=d[a];if(!u)throw"unknown type: 0x"+a.toString(16);if(null==i)return;let c;if(function(t){return null===t.Type}(u)){const e=n;n+=r.size,c=o?u.arraySetter(t,a,e,i,r.size):u.setter(t,a,e,i)}else c=u.arraySetter&&o?u.arraySetter(t,i):u.setter(t,i);return{setter:c,location:i}}const i={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let n=0;n<o;++n){const o=t.getActiveUniform(e,n);if(!o)break;let a=o.name;if("[0]"===a.substr(-3)&&(a=a.substr(0,a.length-3)),e){const t=r(e,o);t&&(i[a]=t)}}return i}(e,this.program),this.attributeSetters=function(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i);if(!r)break;const o=t.getAttribLocation(e,r.name),a=g[r.type],u=a.setter(t,o,a);n[r.name]={setter:u,location:o}}return n}(e,this.program),this.fragSource=n,this.vertSource=r,this}destroy(){this.gl.deleteProgram(this.program),this.gl.deleteShader(this.frag),this.gl.deleteShader(this.vert)}}function C(t){return t.trim().split("\n").map((t,e)=>e+1+": "+t).join("\n")}let k=1;class j{constructor(t="Sketch"+k++){this.id=t}update(t){return t.drawSettings&&(this.drawSettings=t.drawSettings),t.form&&(this.form=t.form),t.shade&&(this.shade=t.shade),t.uniforms&&(this.uniforms=t.uniforms),this}destroy(){this.form&&this.form.destroy(),this.shade&&this.shade.destroy()}}var N=n(3);let R=1;class P{constructor(t,e="StaticLayer"+R++){this.gl=t,this.id=e,this.data={},this._texture=t.createTexture()}texture(){return this._texture}update(t){return this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture()),m(this.gl,t,this.data),t.asset&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t.asset),t.minFilter&&t.minFilter.indexOf("MIPMAP")>0&&this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.bindTexture(this.gl.TEXTURE_2D,null),Object.assign(this.data,t),this}destroy(){this.gl.deleteTexture(this.texture())}}let D=1;class L{constructor(t,e="DrawingLayer"+D++){this.gl=t,this.id=e,this.data={}}texture(t=0){return this.targets&&this.targets[0].textures[t]||null}update(t){if(t.buffered&&!this.targets?(this.targets=Object(N.g)(e=>({id:this.id+"_target"+(e+1),width:t.width||this.gl.canvas.width,height:t.height||this.gl.canvas.height,frameBuffer:null,textures:[],depthBuffer:null,textureConfig:{type:t.textureConfig&&t.textureConfig.type||this.gl.UNSIGNED_BYTE,count:t.textureConfig&&t.textureConfig.count||1}}),2),this.targets.forEach(e=>y(this.gl,e,t,this.data))):this.targets&&t.width&&t.height&&this.targets.forEach(e=>{e.width=t.width,e.height=t.height,y(this.gl,e,t,this.data)}),t.sketches&&(this.sketches=t.sketches),t.frag){const e=this.sketches&&this.sketches[0];e&&e.shade.update({frag:t.frag})}return t.uniforms&&(this.uniforms=t.uniforms),Object.assign(this.data,t),this}destroy(){if(this.sketches)for(const t of this.sketches)t.destroy();this.targets&&(this.targets.forEach(t=>b(this.gl,t)),this.targets=void 0)}}n.d(e,"a",function(){return U});class U{constructor(t){this.gl=t,this.targets=[{id:"MainTarget_1"},{id:"MainTarget_2"}],this.resize(1,!0),this.renderQuad=this.createForm().update(M.renderQuad),this.result=this.createFlatSketch()}resize(t=1,e=!1){const n=this.gl.canvas;return(Object(O.c)(n,t)||e)&&this.targets.forEach(t=>{t.width=n.width,t.height=n.height,t.textureConfig={count:1,type:this.gl.UNSIGNED_BYTE},y(this.gl,t,E)}),this}destroy(){this.result.destroy();for(const t of this.targets)b(this.gl,t)}updateDrawSettings(t){return _(this.gl,Object.assign({},function(t){return{clearColor:[0,0,0,1],enable:[t.DEPTH_TEST],blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}}(this.gl),t)),this}createForm(t){return new A(this.gl,t)}createShade(t){return new I(this.gl,t)}createSketch(t){return new j(t)}createFlatSketch(t){const e=this.createSketch(t);return e.update({form:this.renderQuad,shade:this.createShade(e.id+"_defaultShade").update(w.basicEffect)})}createStaticLayer(t){return new P(this.gl,t)}createDrawingLayer(t){return new L(this.gl,t)}createEffectLayer(t){const e=this.createDrawingLayer(t);return e.update({sketches:[this.createFlatSketch(e.id+"_effectSketch")]})}draw(t,e){return F(this.gl,t,null,e),this}compose(...t){return function(t,e,n,r){const i=e.length-1;for(let o=0;o<e.length;o++){const a=e[o];if(Array.isArray(a.uniforms)){const e=i+a.uniforms.length-1;a.looping=!1;for(let i=0;i<a.uniforms.length;i++){0;const u=o+i===e;V(t,a,n,a.uniforms[i],r,u)}}else{const e=o===i;V(t,a,n,a.uniforms,r,e)}}}(this.gl,t,this.targets,this.result),this}}function F(t,e,n,r){const{shade:i,form:o,drawSettings:a}=e,{uniforms:u}=e;if(!i||!o)throw Error("cannot draw, shader or geometry are not set");if(t.useProgram(i.program),function(t,e){for(const n in e.attribs){const r=t.attributeSetters[n];r&&r.setter(e.attribs[n])}}(i,o),r&&z(i,r,n),a&&_(t,a),Array.isArray(u))for(const r of u)H(t,e,n,r);else H(t,e,n,u);a&&T(t,a)}function H(t,e,n,r){r&&z(e.shade,r,n),e.form.elements&&null!=e.form.elements.glType?(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.form.elements.buffer),t.drawElements(e.form.drawType,e.form.itemCount,e.form.elements.glType,0)):t.drawArrays(e.form.drawType,0,e.form.itemCount)}function z(t,e,n){for(const r in e){const i=t.uniformSetters[r];if(i){let t=e[r];"function"==typeof t&&(t=t()),null===t||"string"==typeof t?i.setter(n):i.setter(t)}}}function V(t,e,n,r,i,o){const a=n[0],u=n[1];if(o?(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)):e.targets?(t.bindFramebuffer(t.FRAMEBUFFER,e.targets[1].frameBuffer),t.viewport(0,0,e.targets[1].width,e.targets[1].height)):(t.bindFramebuffer(t.FRAMEBUFFER,u.frameBuffer),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)),e.data.drawSettings&&_(t,e.data.drawSettings),e.sketches)for(const n of e.sketches)F(t,n,e.looping&&e.texture()||a.textures[0],r);else F(t,i,null,{source:e.texture()});if(e.data.drawSettings&&T(t,e.data.drawSettings),!o)if(e.targets){const t=e.targets[0];e.targets[0]=e.targets[1],e.targets[1]=t,e.looping=!0}else n[0]=u,n[1]=a}U.debug=!1},,function(t,e,n){"use strict";function r(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){if("object"==typeof t&&"object"==typeof e&&!Array.isArray(t)&&!Array.isArray(e)&&t!==e){const n=Object.assign({},t);for(const i in e){const o=t[i],a=e[i];void 0!==a?n[i]=r(o,a):delete n[i]}return n}return e}function i(t,e,n){const r=n&&n.ignore;if("object"==typeof t&&"object"==typeof e&&!Array.isArray(t)&&!Array.isArray(e)&&t!==e){for(const n in t)if(t.hasOwnProperty(n)&&!(r&&n in r&&!0===r[n])){const o=t[n],a=e[n];void 0!==a&&(t[n]=i(o,a,{ignore:r&&r[n]}))}return t}return e}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i})},,,,function(t,e,n){"use strict";n.d(e,"a",function(){return a});const r=new Array(16);const i=[],o={};for(let t=0;t<256;t++)i[t]=(t+256).toString(16).substr(1),o[i[t]]=t;function a(){const t=function(){for(let t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random(),r[e]=t>>>((3&e)<<3)&255);return r}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){const e=i;let n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}(t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});const r={LEFT:0,MIDDLE:1,RIGHT:2};function i(t,e){const n=e||t,{element:i=document,enableRightButton:o}=t,a={pressed:{},drag:{x:0,y:0,dX:0,dY:0},dragging:!1};let u=0,c=0,s=0,f=0;function l(t){a.pressed[t.button]=t,t.button===r.LEFT&&(u=s=t.clientX,c=f=t.clientY,a.dragging=!0),n(a)}function d(t){delete a.pressed[t.button],delete a.drag.event,a.drag.x=0,a.drag.y=0,a.drag.dX=0,a.drag.dY=0,a.dragging=!1,n(a)}function h(t){a.dragging&&(a.drag.event=t,a.drag.x=u-t.clientX,a.drag.y=c-t.clientY,a.drag.dX=s-t.clientX,a.drag.dY=f-t.clientY,s=t.clientX,f=t.clientY,n(a))}function p(t){t.preventDefault()}return i.addEventListener("mousedown",l),document.addEventListener("mouseup",d),document.addEventListener("mousemove",h),o&&i.addEventListener("contextmenu",p),n(a),function(){i.removeEventListener("mousedown",l),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",d),o&&i.removeEventListener("contextmenu",p)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"settings",function(){return a}),n.d(e,"painter",function(){return u}),n.d(e,"gl",function(){return c}),n.d(e,"canvasSize",function(){return s});var r=n(1),i=n(12),o=n(24);const a=Object(r.i)({clearColor:[0,0,0,1]}).reset(),{painter:u,gl:c,canvasSize:s}=Object(i.g)(o.canvas,o.windowSize,a)},function(t,e,n){"use strict";n.r(e),n.d(e,"canvas",function(){return c}),n.d(e,"tick",function(){return s}),n.d(e,"windowSize",function(){return f}),n.d(e,"mouse",function(){return l}),n.d(e,"keys",function(){return d});var r=n(1),i=n(5),o=n(22),a=n(16),u=n(46);const c=Object(r.h)(null,()=>document.getElementById("canvas")||void 0),s=Object(r.b)(null,u.a),f=Object(r.b)(null,a.a),l=Object(r.a)([c.HOT],(t,e)=>Object(o.a)({element:e,enableRightButton:!0},t)),d=Object(r.b)(null,i.b)},,,,,,,,,function(t,e,n){"use strict";function r(t,e,n,r){const i=t/2,o=e/2,a=n||1,u=r||1,c=a+1,s=u+1,f=t/a,l=e/u,d=new Float32Array(c*s*3),h=new Float32Array(c*s*3),p=new Float32Array(c*s*2);let v,g,m=0,y=0;for(v=0;v<s;v++){const t=v*l-o;for(g=0;g<c;g++){const e=g*f-i;d[m]=e,d[m+1]=-t,h[m+2]=1,p[y]=g/a,p[y+1]=1-v/u,m+=3,y+=2}}m=0;const b=new(d.length/3>65535?Uint32Array:Uint16Array)(a*u*6);for(v=0;v<u;v++)for(g=0;g<a;g++){const t=g+c*v,e=g+c*(v+1),n=g+1+c*(v+1),r=g+1+c*v;b[m]=t,b[m+1]=e,b[m+2]=r,b[m+3]=e,b[m+4]=n,b[m+5]=r,m+=6}return{attribs:{position:{buffer:d},normal:{buffer:h},uv:{buffer:p}},elements:{buffer:b},drawType:"TRIANGLES",itemCount:b.length}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(7),i=n(17),o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(){var t={},e={},n={},a={es:{},ps:{}},u={},c=null,s=!1;function f(t){return null==t||"object"!=typeof t||Array.isArray(t)||(u=Object(i.b)(u,t)),u}function l(t){return a.es[t]&&a.es[t].val}function d(t,e){A(x(t),e,!0)&&w()}function h(e){var n=Object(r.c)(e);t[n.id]=n;var i,o=x(n.id);return void 0===n.value||!n.reset&&void 0!==o.val||(o.val=n.value,O[n.id]=!1,M=!0),o.accept=n.accept,n.meta&&f({entities:(i={},i[n.id]=n.meta,i)}),n}function p(e){var n=x(e);for(var r in n.arcs)y(r);var i,o=t[e];o&&o.meta&&f({entities:(i={},i[o.id]=void 0,i)}),delete a.es[e],delete t[e]}function v(t){var i,o=Object(r.d)(t,c),a=o.ports,u=I(o.id);for(var s in e[o.id]=o,delete u.acc,u.values=[],u.sources=[],u.async=o.async,u.delta=o.delta,Object.keys(u.arcs).forEach(function(t){var e=n[t].port;null==e||a[e]&&a[e]!==r.a.ACCUMULATOR||y(t)}),a.forEach(function(t,e){t===r.a.ACCUMULATOR&&(u.acc=e)}),u.arcs)b(n[s]);return o.meta&&f({processes:(i={},i[o.id]=o.meta,i)}),o}function g(t){var n=I(t);for(var r in n.stop&&(n.stop(),delete n.stop),n.arcs)y(r);delete a.ps[t];var i,o=e[t];o&&o.meta&&f({processes:(i={},i[o.id]=void 0,i)}),delete e[t]}function m(t){var i=Object(r.b)(t);n[i.id]=i,b(i);var o,a=I(i.process),u=e[i.process];return u&&!0===u.autostart&&Object.keys(a.arcs).length===Object.keys(u.ports).length+1&&function(t){t.async?requestAnimationFrame(function(){S(t)}):(S(t),t.out&&(O[t.out.id]=!1))}(a),i.meta&&f({arcs:(o={},o[i.id]=i.meta,o)}),i}function y(t){var e,r=n[t];if(r){var i=I(r.process),o=x(r.entity);delete i.arcs[t],delete o.arcs[t],null!=r.port?(delete o.effects[r.process],delete i.sources[r.port],delete i.values[r.port]):(i.stop&&(i.stop(),delete i.stop),i.sink=function(){},delete i.out,delete o.reactions[r.process]),r.meta&&f({arcs:(e={},e[r.id]=void 0,e)})}delete n[t]}function b(t){var n=t.process,i=t.entity,o=I(n),a=x(i),u=e[n];a.arcs[t.id]=!0,u&&(o.arcs[t.id]=!0,null!=t.port?(delete a.effects[n],u.ports&&null!=u.ports[t.port]&&(o.sources[t.port]=a,u.ports[t.port]===r.a.HOT&&(a.effects[n]=o))):(o.out=a,null!=o.acc?(o.sources[o.acc]=a,a.reactions[n]=o):delete a.reactions[n],o.sink=function(t){A(a,t,!0)&&!E&&w()}))}function _(t){if(t.entities)for(var e in t.entities)h(t.entities[e]);if(t.processes)for(var e in t.processes)v(t.processes[e]);if(t.arcs)for(var e in t.arcs)m(t.arcs[e]);f(t.meta)}var T={},O={},E=!1,M=!1;function w(){s&&console.log("flushing graph recursively with",O);for(var t=Object.keys(O),e=0,n=t;e<n.length;e++){var r=n[e];if(O[r]){var i=a.es[r];for(var o in i.reactions)S(i.reactions[o])}}var u={};O={},M=!1,E=!0;for(var c=0,f=t;c<f.length;c++){r=f[c],i=a.es[r];for(var o in i.cb.length>0&&(T[r]=i),i.effects)u[o]||(S(i.effects[o]),u[o]=!0)}if(E=!1,M)w();else{var l=Object.keys(T);for(var d in T={},l)for(var h=0,p=(i=a.es[l[d]]).cb;h<p.length;h++){(0,p[h])(i.val)}s&&console.log("flush finished")}}function S(t){for(var n=!0,r=0;r<t.sources.length;r++){var i=t.sources[r];if(void 0===i.val){n=!1;break}if(t.values[r]=i.val,t.delta){if(void 0===i.oldVal){n=!1;break}t.values[r+1]=i.oldVal}}if(n)if(s&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=e[t.id].procedure.apply(c,[t.sink].concat(t.values));else{var o=e[t.id].procedure.apply(c,t.values);t.out&&A(t.out,o,null==t.acc)}}function A(t,e,n){return!(void 0===e||t.accept&&!t.accept(e,t.val))&&(t.oldVal=t.val,t.val=e,O[t.id]=n,M=!0,!0)}function x(e){return t[e]||h({id:e}),a.es[e]||(a.es[e]={id:e,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function I(t){return a.ps[t]||(a.ps[t]={id:t,arcs:{},sink:function(){}})}return{addEntity:h,removeEntity:p,addProcess:v,removeProcess:g,addArc:m,removeArc:y,addGraph:_,replaceGraph:function(n){var r={},i={};if(n.entities)for(var o in n.entities){var a=n.entities[o];a.id&&(r[a.id]=!0)}if(n.processes)for(var o in n.processes){var u=n.processes[o];u.id&&(i[u.id]=!0)}Object.keys(t).filter(function(t){return!r[t]}).forEach(p),Object.keys(e).filter(function(t){return!i[t]}).forEach(g),_(n)},getGraph:function(){return{entities:t,processes:e,arcs:n,meta:u}},getState:function(){var t={};for(var e in a.es)t[e]=a.es[e].val;return t},setMeta:f,getMeta:function(){return u},getContext:function(){return c},setContext:function(t){c=t},setDebug:function(t){s=t},get:l,set:d,update:function(t,e){d(t,e(l(t)))},on:function(t,e){x(t).cb.push(e)},off:function(t,e){var n=x(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]},start:function(t){var e=I(t);S(e),e.async||w()},stop:function(t){var e=I(t);e.stop&&(e.stop(),delete e.stop)},flush:w,PORT_TYPES:o({},r.a)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_require__.d(__webpack_exports__,"a",function(){return evaluate})},function(module,exports,__webpack_require__){module.exports=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=33)}([function(t,e,n){"use strict";function r(t,e){return e?e+"."+t:t}function i(t){var e,n,i,a=t.value,f=Object(s.a)(),l=[],h={};return h.HOT={entity:h,type:c.PORT_TYPES.HOT},h.COLD={entity:h,type:c.PORT_TYPES.COLD},h.id=function(t,n){return f=r(t,n),e=n,h},h.val=function(t){return a=t,h},h.updateVal=function(t){return a=t(a),h},h.accept=function(t){return n=t,h},h.reset=function(){return i=!0,h},h.getId=function(){return f},t.procedure&&l.push(t),h.react=function(t,e,n){var r=o(t,e,n);r.pidSuffix=d;var i=r.dependencies;return r.dependencies=[{entity:h,type:c.PORT_TYPES.ACCUMULATOR}],i&&i.length&&(r.dependencies=r.dependencies.concat(i)),l.push(r),h},h.getGraph=function(){var t=u.empty();return t.entities[f]=Object(c.createEntity)({id:f,value:a,accept:n,reset:i}),l.forEach(function(n){var i=n.dependencies,o=n.processId?r(n.processId,e):f+n.pidSuffix+(i&&i.length?":"+i.reduce(function(t,e){var n=e.entity.getId();return n===f?t:t+":"+n},""):""),a=[];i&&i.forEach(function(e,n){if(a[n]=e.type,e.type!==c.PORT_TYPES.ACCUMULATOR){var r=Object(c.createArc)({process:o,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var u=Object(c.createArc)({process:o,entity:f});t.arcs[u.id]=u,t.processes[o]=Object(c.createProcess)({id:o,ports:a,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},h}function o(t,e,n){var r={procedure:e};return null!=t&&t.length&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=l,r}function a(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}Object.defineProperty(e,"__esModule",{value:!0}),e.val=function(t){return i({value:t})},n.d(e,"stream",function(){return h}),n.d(e,"asyncStream",function(){return p}),n.d(e,"streamStart",function(){return v}),n.d(e,"asyncStreamStart",function(){return g}),n.d(e,"delta",function(){return m}),e.isEntity=a,e.resolveEntityIds=function(t,e){for(var n in t){var r=t[n];a(r)&&r.id(n,e)}return t},e.getGraphFromAll=function(t){var e=[];for(var n in t){var r=t[n];a(r)&&e.push(r)}return e.reduce(function(t,e){return u.merge(t,e.getGraph())},u.empty())};var u=n(20),c=n(4),s=n(19),f=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},l="Stream",d="Reaction",h=function(t,e,n){return i(o(t,e,n))},p=function(t,e,n){return i(f({},o(t,e,n),{async:!0}))},v=function(t,e,n){return i(f({},o(t,e,n),{autostart:!0}))},g=function(t,e,n){return i(f({},o(t,e,n),{async:!0,autostart:!0}))},m=function(t,e,n){return i(f({},o([t.HOT],e,n),{delta:!0}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44);e.TypeStyle=r.TypeStyle;var i=n(46);e.types=i;var o=n(24);e.extend=o.extend,e.classes=o.classes,e.media=o.media;var a=new r.TypeStyle({autoGenerateTag:!0});e.setStylesTarget=a.setStylesTarget,e.cssRaw=a.cssRaw,e.cssRule=a.cssRule,e.forceRenderStyles=a.forceRenderStyles,e.fontFace=a.fontFace,e.getStyles=a.getStyles,e.keyframes=a.keyframes,e.reinit=a.reinit,e.style=a.style,e.createTypeStyle=function(t){var e=new r.TypeStyle({autoGenerateTag:!1});return t&&e.setStylesTarget(t),e}},function(t,e,n){"use strict";var r=n(50);n.d(e,"d",function(){return r.a}),n.d(e,"h",function(){return r.b});var i=n(51);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"e",function(){return i.d}),n.d(e,"f",function(){return i.e}),n.d(e,"g",function(){return i.f}),n.d(e,"i",function(){return i.g});var o=n(52);n.d(e,"j",function(){return o.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"runtimes",function(){return l}),n.d(e,"selectedRuntimeId",function(){return d}),n.d(e,"runtime",function(){return h}),n.d(e,"meta",function(){return p}),n.d(e,"metaGraph",function(){return v}),n.d(e,"metaTree",function(){return g}),n.d(e,"metaEntity",function(){return m}),n.d(e,"metaEntities",function(){return y}),n.d(e,"metaControls",function(){return b}),n.d(e,"graph",function(){return _}),n.d(e,"enhancedGraphData",function(){return T});var r=n(0),i=n(17),o=n(8),a=n(5),u=n(13),c=n(7),s=n(64),f=(n.n(s),this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}),l=Object(r.val)({}).react([i.action.HOT],function(t,e){if(e.type===a.a.SET_RUNTIME)return f({},t,((n={})[e.payload.label]=e.payload.runtime,n));var n}),d=Object(r.val)("").react([l.HOT],function(t,e){return t||Object.keys(e)[0]}).react([i.action.HOT],function(t,e){if(e.type===a.a.SELECT_ACTIVE_RUNTIME)return e.payload}),h=Object(r.stream)([l.COLD,d.HOT],function(t,e){return t[e]}).react([i.action.HOT],function(t,e){var n=e.type,r=e.payload;switch(n){case a.a.PROCESS_RUN:return void t.start(r);case a.a.PROCESS_STOP:return void t.stop(r);case a.a.ENTITY_RESET:return void t.set(r,t.getGraph().entities[r].value);case a.a.ENTITY_INSPECT:return void console.log(r,t.get(r))}}),p=Object(r.stream)([h.HOT],function(t){return t.getMeta()}).react([i.action.HOT,h.COLD],function(t,e,n){var r,i,o,c,s,f,l,d=e.type,h=e.payload,p=n,v=t.ui,g=v&&v.graph,m=v&&v.tree,y=v&&v.entity,b=g&&g.viewBox,_=v&&v.activeWindow;switch(d){case a.b.MAIN.SET_ACTIVE_WINDOW:return p.setMeta({ui:{activeWindow:h}});case a.b.MAIN.UPDATE_VISIBILITY:var T=v&&v[h],O=T&&T.window&&T.window.visible;return p.setMeta({ui:(r={activeWindow:h},r[h]={window:{visible:!O}},r)});case a.b.MAIN.CLOSE_WINDOW:return p.setMeta({ui:(i={},i[h]={window:{visible:!1}},i)});case a.b.MAIN.MOVE_WINDOW:if(_){var E=v&&v[_];if(E&&E.position){var M=E.position.top-h.y,w=E.position.left-h.x;return p.setMeta(Object(u.d)({ui:{controls:{position:{top:M,left:w}}}}))}if(E){var S=E.window&&E.window.area;if(S){var A=S.top-h.y,w=S.left-h.x;return p.setMeta(Object(u.d)({ui:(o={},o[_]={window:{area:{top:A,left:w}}},o)}))}}}break;case a.b.MAIN.RESIZE_WINDOW:var x=_&&v&&v[_]&&v[_].window&&v[_].window.area;if(x)return p.setMeta(Object(u.d)({ui:(c={},c[_]={window:{area:{width:x.width-h.x,height:x.height-h.y}}},c)}));break;case a.b.TREE.TOGGLE_LEVEL:var I=m&&m.fold||{};return p.setMeta({ui:{tree:{fold:(s={},s[h]=!I[h],s)}}});case a.b.ENTITY.SET_ACTIVE_ENTITY:return p.setMeta({ui:{entity:{activeEntityId:h,activeProcessId:"",watchingEntity:!0}}});case a.b.ENTITY.SET_ACTIVE_PROCESS:return p.setMeta({ui:{entity:{activeProcessId:h,activeEntityId:"",watchingEntity:!1}}});case a.b.ENTITY.RESET_ACTIVE_NODE:return p.setMeta({ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1}}});case a.b.ENTITY.SAVE_VALUE:var C=y&&y.activeEntityId;return C&&p.set(C,h),p.setMeta({ui:{entity:{watchingEntity:!0}}});case a.b.ENTITY.WATCH_ACTIVE_ENTITY:return p.setMeta({ui:{entity:{watchingEntity:h}}});case a.b.ENTITY.SET_VIEW_MODE:return p.setMeta({ui:{entity:{viewMode:h}}});case a.b.ENTITY.SAVE_META:return p.setMeta({entities:(f={},f[h.id]=h.value,f)});case a.b.GRAPH.MOVE_VIEWPORT:return p.setMeta({ui:{graph:{viewBox:{offsetX:(b&&b.offsetX||0)+h.x,offsetY:(b&&b.offsetY||0)+h.y}}}});case a.b.GRAPH.UPDATE_SCALE:return p.setMeta({ui:{graph:{viewBox:{scale:h}}}});case a.b.GRAPH.UPDATE_SIZE:return h.width&&h.height?p.setMeta({ui:{graph:{viewBox:{width:h.width,height:h.height}}}}):void 0;case a.b.GRAPH.MOVE_ENTITY_POSITION:if(y&&y.activeEntityId){var k=t.entities&&t.entities[y.activeEntityId],j=k&&k.ui&&k.ui.graph&&k.ui.graph.position||h.start,N=g&&g.viewBox&&g.viewBox.scale||1;if(j)return p.setMeta({entities:(l={},l[y.activeEntityId]={ui:{graph:{position:{x:j.x-h.delta.x*N,y:j.y-h.delta.y*N}}}},l)})}}}).react([h.COLD,i.windowSize.HOT],function(t,e,n){return e.setMeta(Object(u.d)(t))}),v=Object(r.stream)([p.HOT],function(t){return t&&t.ui&&t.ui.graph}).accept(o.d),g=Object(r.stream)([p.HOT],function(t){return t&&t.ui&&t.ui.tree}).accept(o.d),m=Object(r.stream)([p.HOT],function(t){return t&&t.ui&&t.ui.entity}).accept(o.d),y=Object(r.stream)([p.HOT],function(t){return t&&t.entities}).accept(Object(o.c)(s)),b=Object(r.stream)([p.HOT],function(t){return t&&t.ui&&t.ui.controls}).accept(o.d),_=Object(r.stream)([h.HOT],function(t){return t.getGraph()}),T=Object(r.stream)([_.HOT],c.processGraph)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createEntity=function(t){var e=t.id,n=void 0===e?Object(r.a)():e,i=t.value,o=t.json,a=t.accept,u=t.reset,c=t.meta;return void 0===i&&o&&(i=JSON.parse(o)),{id:n,value:i,accept:a,reset:u,meta:c}},e.createProcess=function(t,e){var n=t.id,a=void 0===n?Object(r.a)():n,u=t.ports,c=void 0===u?[]:u,s=t.procedure,f=t.code,l=t.autostart,d=void 0!==l&&l,h=t.async,p=void 0!==h&&h,v=t.delta,g=void 0!==v&&v,m=t.meta;if(null==s&&null!=f&&(s=Object(i.a)(f,e)),null==s)throw TypeError("Process must have procedure or code set");return g&&!c.length&&c.push(o.HOT),{id:a,ports:c,procedure:s,autostart:d,async:p,delta:g,meta:m}},e.createArc=function(t){var e=t.id,n=t.entity,r=t.process,i=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:e,entity:n,process:r,port:i,meta:o}},n.d(e,"PORT_TYPES",function(){return o});var r=n(19),i=n(37),o={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={ENTITY_INSPECT:"flow:entity_inspect",ENTITY_RESET:"flow:entity_reset",PROCESS_RUN:"flow:process_run",PROCESS_STOP:"flow:process_stop",SET_RUNTIME:"flow:set_runtime",SELECT_ACTIVE_RUNTIME:"flow:select_active_runtime"},i={ENTITY:{WATCH_ACTIVE_ENTITY:"gui:entity:watch_active_entity",SAVE_VALUE:"gui:entity:save_value",SAVE_META:"gui:entity:save_meta",SET_ACTIVE_PROCESS:"gui:entity:open_process",SET_ACTIVE_ENTITY:"gui:entity:open_entity",RESET_ACTIVE_NODE:"gui:entity:reset_entity",SET_VIEW_MODE:"gui:entity:set_view_mode"},GRAPH:{UPDATE_SCALE:"gui:graph:update_scale",UPDATE_SIZE:"gui:graph:update_size",MOVE_VIEWPORT:"gui:graph:move_viewport",MOVE_ENTITY_POSITION:"gui:graph:set_entity_position"},TREE:{TOGGLE_LEVEL:"gui:tree:toggle_level"},MAIN:{SET_ACTIVE_WINDOW:"gui:main:set_active_window",UPDATE_VISIBILITY:"gui:main:update_visibility",CLOSE_WINDOW:"gui:main:close_window",MOVE_WINDOW:"gui:main:set_window_position",RESIZE_WINDOW:"gui:main:resize_window"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"g",function(){return f}),n.d(e,"f",function(){return l});var r=n(1),i=(n.n(r),n(47)),o="white",a=16,u="cyan",c={borderRadius:4,backgroundColor:Object(i.a)(40,40,40,.75).toString(),boxShadow:"0 10px 15px rgba(0,0,0,0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",borderBottom:"1px solid rgba(0, 0, 0, 0.6)"},s={borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.3) inset",borderBottom:"1px solid rgba(255, 255, 255, 0.4)",borderTop:"1px solid rgba(0, 0, 0, 0.6)"},f={padding:0,listStyle:"none"},l=Object(r.style)({position:"fixed",top:0,left:0,width:0,height:0,zIndex:1e3,fontSize:a,fontFamily:"sans-serif",lineHeight:1.5,color:o,userSelect:"none",$nest:{"& *":{userSelect:"none",MozUserSelect:"none"}}})},function(t,e,n){"use strict";function r(t){var e=t.split(".");return{label:e.pop(),group:e.join(".")}}Object.defineProperty(e,"__esModule",{value:!0}),e.createEntityTree=function(t,e){void 0===e&&(e=".");var n={};return Object.keys(t).sort().forEach(function(r){var i=t[r],o=i.id.split(e),a=n,u=o.slice(),c=[];o.forEach(function(){var t=u.shift();u.length?(c.push(t),a=a[t]=a[t]||{__path__:c.join(e)}):a[t]={__entity__:i}})}),n},e.processGraph=function(t){var e={},n={},a=function(n){var i=t.entities[n],a=r(n);e[n]=o({},i,{name:a.label,namespace:a.group,processes:Object.values(t.arcs).filter(function(t){return t.entity===i.id&&null==t.port}).map(function(t){return t.process})})};for(var u in t.entities)a(u);var c=function(e){var a=t.processes[e],u=r(e.split("::").shift()),c=a.ports.indexOf(i.PORT_TYPES.ACCUMULATOR),s=[],f=Object.values(t.arcs).find(function(t){return t.process===e&&null==t.port}),l=f&&f.entity;c>=0&&l&&(s[c]={eid:l,type:i.PORT_TYPES.ACCUMULATOR}),n[e]=o({},a,{name:u.label,namespace:u.group,reaction:c>=0,output:l,inputs:Object.values(t.arcs).filter(function(t){return t.process===e&&null!=t.port}).reduce(function(t,e){return t[e.port]={eid:e.entity,type:a.ports[e.port]},t},s)})};for(var s in t.processes)c(s);return{entities:e,processes:n}},e.printEntityName=function(t){return t.name?t.namespace+" / "+t.name:t.id||"No entity selected"};var i=n(4),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o}),e.a=r,e.b=function(t,e){if(t===e)return!0;if(!e)return!1;var n=Object.keys(t);if(!r(n,Object.keys(e)))return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(t[a]!==e[a])return!1}return!0};var i=function(t){return function(e,n){return!t(e,n)}},o=function(t,e){return t!==e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"activeEntityId",function(){return u}),n.d(e,"activeProcessId",function(){return c}),n.d(e,"activeEntity",function(){return s}),n.d(e,"activeProcess",function(){return f}),n.d(e,"activeNode",function(){return l}),n.d(e,"watchingEntity",function(){return d}),n.d(e,"activeValue",function(){return h});var r=n(0),i=n(8),o=n(3),a=n(12),u=Object(r.stream)([o.metaEntity.HOT],function(t){return t.activeEntityId}).accept(i.d),c=Object(r.stream)([o.metaEntity.HOT],function(t){return t.activeProcessId}).accept(i.d),s=Object(r.stream)([u.HOT,o.enhancedGraphData.COLD],function(t,e){return e.entities[t]||{id:t}}),f=Object(r.stream)([c.HOT,o.enhancedGraphData.COLD],function(t,e){return e.processes[t]||{id:t}}),l=Object(r.val)({id:""}).react([f.HOT,s.HOT],function(t,e,n){return e.id?e:n}),d=Object(r.stream)([o.metaEntity.HOT],function(t){return t.watchingEntity}).accept(i.d),h=Object(r.asyncStream)([o.runtime.COLD,u.HOT,a.visibility.HOT,d.HOT],function(t,e,n,r,i){if(n){var o=e.get(n);if(t(void 0===o?null:o),r.entity&&i)return e.on(n,t),function(){return e.off(n,t)}}else t(null)})},function(t,e,n){"use strict";(function(t){function n(t){return t.replace(h,m).replace(p,"-ms-")}function r(t){for(var e=5381,n=t.length;n--;)e=33*e^t.charCodeAt(n);return(e>>>0).toString(36)}function i(t,e){return"number"!=typeof e||0===e||b[t]?t+":"+e:t+":"+e+"px"}function o(t){return t.sort(function(t,e){return t[0]>e[0]?1:-1})}function a(t,r){for(var a=[],u=[],c=!1,s=0,f=Object.keys(t);s<f.length;s++){var l=f[s],d=t[l];null!==d&&void 0!==d&&(l===e.IS_UNIQUE?c=!0:"object"!=typeof d||Array.isArray(d)?a.push([n(l.trim()),d]):u.push([l.trim(),d]))}return{styleString:function(t){return t.map(function(t){var e=t[0],n=t[1];return Array.isArray(n)?n.map(function(t){return i(e,t)}).join(";"):i(e,n)}).join(";")}(o(a)),nestedStyles:r?u:o(u),isUnique:c}}function u(t,e){return t.indexOf("&")>-1?t.replace(v,e):e+" "+t}function c(t,e,n,r,i){var o=a(n,!!e),s=o.styleString,f=o.nestedStyles,l=o.isUnique,h=s;if(64===e.charCodeAt(0)){var p=t.add(new I(e,i?void 0:s,t.hash));s&&i&&(b=p.add(new x(s,p.hash,l?"u"+(++d).toString(36):void 0)),r.push([i,b]));for(var v=0,g=f;v<g.length;v++){var m=g[v];h+=(E=m[0])+c(p,E,M=m[1],r,i)}}else{var y=i?u(e,i):e;if(s){var b=t.add(new x(s,t.hash,l?"u"+(++d).toString(36):void 0));r.push([y,b])}for(var _=0,T=f;_<T.length;_++){var O=T[_],E=O[0],M=O[1];h+=E+c(t,E,M,r,y)}}return h}function s(t,n,r,i,o){for(var a=new S(t.hash),s=[],f=c(a,n,r,s),l="f"+a.hash(f),d=o?o+"_"+l:l,h=0,p=s;h<p.length;h++){var v=p[h],g=v[0],m=v[1],y=i?u(g,"."+e.escape(d)):g;m.add(new A(y,m.hash,void 0,f))}return{cache:a,pid:f,id:d}}function f(t){for(var e="",n=0;n<t.length;n++)e+=t[n];return e}var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var d=0;e.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var h=/[A-Z]/g,p=/^ms-/,v=/&/g,g=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,m=function(t){return"-"+t.toLowerCase()},y=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],b=Object.create(null),_=0,T=["-webkit-","-ms-","-moz-","-o-",""];_<T.length;_++)for(var O=T[_],E=0,M=y;E<M.length;E++)b[O+M[E]]=!0;e.escape=function(t){return t.replace(g,"\\$&")},e.hyphenate=n,e.stringHash=r;var w={add:function(){},change:function(){},remove:function(){}},S=function(){function t(t,e){void 0===t&&(t=r),void 0===e&&(e=w),this.hash=t,this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return t.prototype.add=function(e){var n=this._counters[e.id]||0,r=this._children[e.id]||e.clone();if(this._counters[e.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else{if(r.getIdentifier()!==e.getIdentifier())throw new TypeError("Hash collision: "+e.getStyles()+" === "+r.getStyles());var i=this._keys.indexOf(e.id),o=this._keys.length-1,a=this.changeId;if(i!==o&&(this._keys.splice(i,1),this._keys.push(e.id),this.changeId++),r instanceof t&&e instanceof t){var u=r.changeId;r.merge(e),r.changeId!==u&&this.changeId++}this.changeId!==a&&(i===o?this.sheet.splice(i,1,r.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(o,0,r.getStyles())),this.changes.change(r,i,o))}return r},t.prototype.remove=function(e){var n=this._counters[e.id];if(n>0){this._counters[e.id]=n-1;var r=this._children[e.id],i=this._keys.indexOf(r.id);if(1===n)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(r,i);else if(r instanceof t&&e instanceof t){var o=r.changeId;r.unmerge(e),r.changeId!==o&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}}},t.prototype.merge=function(t){for(var e=0,n=t._keys;e<n.length;e++){var r=n[e];this.add(t._children[r])}return this},t.prototype.unmerge=function(t){for(var e=0,n=t._keys;e<n.length;e++){var r=n[e];this.remove(t._children[r])}return this},t.prototype.clone=function(){return new t(this.hash).merge(this)},t}();e.Cache=S;var A=function(){function t(t,e,n,r){void 0===n&&(n="s"+e(t)),void 0===r&&(r=""),this.selector=t,this.hash=e,this.id=n,this.pid=r}return t.prototype.getStyles=function(){return this.selector},t.prototype.getIdentifier=function(){return this.pid+"."+this.selector},t.prototype.clone=function(){return new t(this.selector,this.hash,this.id,this.pid)},t}();e.Selector=A;var x=function(t){function e(e,n,r){void 0===r&&(r="c"+n(e));var i=t.call(this,n)||this;return i.style=e,i.hash=n,i.id=r,i}return l(e,t),e.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},e.prototype.getIdentifier=function(){return this.style},e.prototype.clone=function(){return new e(this.style,this.hash,this.id).merge(this)},e}(S);e.Style=x;var I=function(t){function e(e,n,r,i,o){void 0===n&&(n=""),void 0===i&&(i="a"+r(e+"."+n)),void 0===o&&(o="");var a=t.call(this,r)||this;return a.rule=e,a.style=n,a.hash=r,a.id=i,a.pid=o,a}return l(e,t),e.prototype.getStyles=function(){return this.rule+"{"+this.style+f(this.sheet)+"}"},e.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},e.prototype.clone=function(){return new e(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},e}(S);e.Rule=I;var C=function(n){function i(e,i,o,a){void 0===e&&(e=r),void 0===i&&(i=void 0!==t&&!1),void 0===o&&(o="f"+(++d).toString(36));var u=n.call(this,e,a)||this;return u.hash=e,u.debug=i,u.id=o,u}return l(i,n),i.prototype.registerStyle=function(t,e){var n=s(this,"&",t,!0,this.debug?e:void 0),r=n.cache,i=n.id;return this.merge(r),i},i.prototype.registerKeyframes=function(t,e){return this.registerHashRule("@keyframes",t,e)},i.prototype.registerHashRule=function(t,n,r){var i=s(this,"",n,!1,this.debug?r:void 0),o=i.cache,a=i.pid,u=i.id,c=new I(t+" "+e.escape(u),void 0,this.hash,void 0,a);return this.add(c.merge(o)),u},i.prototype.registerRule=function(t,e){this.merge(s(this,t,e,!1).cache)},i.prototype.registerCss=function(t){this.merge(s(this,"",t,!1).cache)},i.prototype.getStyles=function(){return f(this.sheet)},i.prototype.getIdentifier=function(){return this.id},i.prototype.clone=function(){return new i(this.hash,this.debug,this.id,this.changes).merge(this)},i}(S);e.FreeStyle=C,e.create=function(t,e,n){return new C(t,e,void 0,n)}}).call(e,n(42))},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c});var r=n(1),i=(n.n(r),n(6)),o=(Object(r.style)({margin:"0 4px",verticalAlign:"top",display:"inline-block",$nest:{"& input":{margin:5,verticalAlign:"middle"}}}),{margin:"0 4px",padding:"4px 10px 3px",border:0,color:i.a,fontSize:"1.0em",verticalAlign:"middle",cursor:"pointer",outline:"none",$nest:{"& > svg":{verticalAlign:"middle"},"&.selected":{backgroundColor:"transparent"},"&.tiny":{margin:0,fontSize:"0.9em",padding:"2px 5px",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"}}}),a=Object(r.style)(i.c,o),u=Object(r.style)(i.c,o,{padding:"0 4px"}),c=Object(r.style)({display:"inline-block",margin:"0 2px",padding:0,border:0,background:"transparent",boxShadow:"none",fontSize:"0.9em"})},function(t,e,n){"use strict";function r(t,e){t.react([d.COLD,h.HOT],function(t,n,r){if(n===e)return u({},t,{zIndex:r})})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"metaTreeWindow",function(){return c}),n.d(e,"metaGraphWindow",function(){return s}),n.d(e,"metaEntityWindow",function(){return f}),n.d(e,"visibility",function(){return l}),n.d(e,"activeWindow",function(){return d}),n.d(e,"zIndex",function(){return h}),n.d(e,"controlsPosition",function(){return p}),n.d(e,"treeWindow",function(){return v}),n.d(e,"graphWindow",function(){return g}),n.d(e,"entityWindow",function(){return m});var i=n(0),o=n(8),a=n(3),u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c=Object(i.stream)([a.metaTree.HOT],function(t){return t.window}).accept(o.d),s=Object(i.stream)([a.metaGraph.HOT],function(t){return t.window}).accept(o.d),f=Object(i.stream)([a.metaEntity.HOT],function(t){return t.window}).accept(o.d),l=Object(i.val)({tree:!1,graph:!1,entity:!1}).react([s.HOT],function(t,e){return u({},t,{graph:!!e.visible})}).react([f.HOT],function(t,e){return u({},t,{entity:!!e.visible})}).react([c.HOT],function(t,e){return u({},t,{tree:!!e.visible})}).accept(function(t,e){return e&&t&&(e.tree!==t.tree||e.entity!==t.entity||e.graph!==t.graph)}),d=Object(i.stream)([a.meta.HOT],function(t){return t.ui&&t.ui.activeWindow}).accept(o.d),h=Object(i.val)(0).react([d.HOT],function(t){return t+1}),p=Object(i.stream)([a.metaControls.HOT],function(t){return t.position}).accept(o.d),v=Object(i.stream)([c.HOT],function(t){return t.area}).accept(o.d),g=Object(i.stream)([s.HOT],function(t){return t.area}).accept(o.d),m=Object(i.stream)([f.HOT],function(t){return t.area}).accept(o.d);r(p,"controls"),r(v,"tree"),r(g,"graph"),r(m,"entity")},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),e.d=function(t){return function t(e,n){for(var r in e)"function"==typeof n[r]?e[r]=n[r](e[r]):e[r]&&"object"==typeof e[r]&&n[r]&&"object"==typeof n[r]&&t(e[r],n[r]);return e}(t,l)};var r,i=n(63),o={width:0,height:0,offsetX:0,offsetY:0,scale:1};!function(t){t.DETAILS="details",t.VALUE="value"}(r||(r={}));var a={ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1,window:{visible:!1,area:{top:50,left:400,width:400,height:500}}},graph:{viewBox:{width:600,height:600,offsetX:0,offsetY:0,scale:1},window:{visible:!1,area:{top:200,left:100,width:600,height:600}}},tree:{window:{visible:!1,area:{top:100,left:0,width:300,height:400}}},controls:{position:{top:0,left:0}}},entities:{}},u=function(t){return Object(i.a)(0,window.innerHeight-20,t)},c=function(t){return Object(i.a)(0,window.innerWidth-20,t)},s=function(t){return Math.min(window.innerWidth-20,t)},f=function(t){return Math.min(window.innerHeight-20,t)},l={ui:{entity:{window:{area:{top:u,left:c,width:s,height:f}}},graph:{window:{area:{top:u,left:c,width:s,height:f}}},tree:{window:{area:{top:u,left:c,width:s,height:f}}},controls:{position:{top:u,left:c}}}}},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","close"],["path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"}]]},e.d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","graph"],["path",{d:"M18 16.078c1.594 0 2.906 1.313 2.906 2.906s-1.313 2.953-2.906 2.953-2.906-1.359-2.906-2.953c0-0.234 0-0.469 0.047-0.656l-7.078-4.125c-0.563 0.516-1.266 0.797-2.063 0.797-1.641 0-3-1.359-3-3s1.359-3 3-3c0.797 0 1.5 0.281 2.063 0.797l7.031-4.078c-0.047-0.234-0.094-0.469-0.094-0.703 0-1.641 1.359-3 3-3s3 1.359 3 3-1.359 3-3 3c-0.797 0-1.5-0.328-2.063-0.844l-7.031 4.125c0.047 0.234 0.094 0.469 0.094 0.703s-0.047 0.469-0.094 0.703l7.125 4.125c0.516-0.469 1.219-0.75 1.969-0.75z"}]]},e.e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","list"],["path",{d:"M9 5.016h12v3.984h-12v-3.984zM9 18.984v-3.984h12v3.984h-12zM9 14.016v-4.031h12v4.031h-12zM3.984 9v-3.984h4.031v3.984h-4.031zM3.984 18.984v-3.984h4.031v3.984h-4.031zM3.984 14.016v-4.031h4.031v4.031h-4.031z"}]]},e.c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","entity"],["path",{d:"M16.641 1.688l5.672 5.672-5.672 5.625h4.359v8.016h-8.016v-8.016h3.656l-5.625-5.625v3.656h-8.016v-8.016h8.016v4.359zM3 21v-8.016h8.016v8.016h-8.016z"}]]},e.g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","play"],["path",{d:"M6 4l20 12-20 12z"}]]},e.j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","stop"],["path",{d:"M4 4h24v24h-24z"}]]},e.k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","stopMarked"],["path",{d:"M4 4h24v24h-24z"}],["circle",{cx:"16",cy:"16",r:"6",fill:"#666"}]]},e.h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","reset"],["path",{d:"M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"}]]},e.i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","show"],["path",{d:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"}]]},e.b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","copy"],["path",{d:"M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.122-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5z"}],["path",{d:"M18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"}]]},e.f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","more"],["path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"}],["path",{d:"M11.086 22.086l2.829 2.829 8.914-8.914-8.914-8.914-2.828 2.828 6.086 6.086z"}]]};var r=n(22),i=n(6),o=Object(r.b)({display:"inline-block",width:"1.1em",height:"1.1em",margin:4,strokeWidth:0,stroke:"currentColor",fill:"currentColor",verticalAlign:"bottom",$nest:{"&.selected":{fill:i.e}}})},function(t,e,n){"use strict";e.a=function(t){var e=t.title,n=t.onclick,o=t.icon,a=t.key,u=t.class,c=["button",{class:Object(r.classes)(i.c,u),onmouseup:n,title:e},o];return a&&(c[1].key=a),c};var r=n(1),i=(n.n(r),n(11))},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return f});var r=n(1),i=(n.n(r),n(6)),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a=Object(r.style)(i.c,{display:"inline-block",position:"relative",padding:2,whiteSpace:"nowrap",$nest:{"& h1, & h2":{display:"inline-block",margin:"0 8px",fontSize:i.d,fontWeight:"normal",verticalAlign:"middle"},"& ul":o({},i.g,{display:"inline-block",margin:0,fontSize:i.d,fontWeight:"normal"}),"& li":{display:"inline-block"},"& nav":{display:"inline-block"}}}),u=Object(r.style)(i.c,{position:"absolute",display:"flex",flexDirection:"column",padding:5,paddingTop:1,alignItems:"stretch",alignContent:"stretch",$nest:{"&>.resize":{position:"absolute",width:20,height:20,bottom:0,right:0,borderRadius:4,cursor:"nwse-resize",background:"linear-gradient(135deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%)"},"&>header":{display:"flex",alignItems:"center",minHeight:26},"&>header input":{verticalAlign:"middle"},"&>header .gap":{flexGrow:1}}}),c=Object(r.style)(i.b,{overflow:"auto",position:"relative",flexGrow:1,padding:5,$nest:{"& h3":{fontSize:"1em"},"& a":{$nest:{"&:hover, &:focus":{cursor:"pointer",textDecoration:"underline"}}},"& td, & th":{paddingRight:"1em",paddingBottom:"0.5em",verticalAlign:"top",textAlign:"left"},"& p, & div":{marginTop:0,marginBottom:"0.5em"}}}),s=Object(r.style)(i.g,{margin:0,$nest:{"& ul":i.g,"& li":{paddingLeft:"1.5em",cursor:"pointer"},"&>li":{paddingLeft:0},"& .entity-controls":{display:"none"},"& .entity-item:hover>.entity-controls":{display:"inline"},"& .entity-item.selected":{color:i.e}}}),f=Object(r.style)({display:"flex",flexDirection:"column",flexGrow:1,overflow:"auto",$nest:{"& pre":{margin:0,MozUserSelect:"text",userSelect:"text"}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"windowSize",function(){return o}),n.d(e,"element",function(){return a}),n.d(e,"action",function(){return u});var r=n(0),i=n(62),o=Object(r.asyncStreamStart)(null,i.a),a=Object(r.val)(),u=Object(r.val)()},function(t,e,n){t.exports=n(68).default,t.exports.default=t.exports},function(t,e,n){"use strict";e.a=function(){var t=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),r[t]=e>>>((3&t)<<3)&255);return r}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){var e=i,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}(t)};for(var r=new Array(16),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.empty=function(){return{entities:{},processes:{},arcs:{},meta:{}}},e.merge=function(t,e){return{entities:r({},t.entities,e.entities),processes:r({},t.processes,e.processes),arcs:r({},t.arcs,e.arcs),meta:r({},t.meta,e.meta)}};var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.modulePathToNamespace=r,e.getGraphFromModules=function(t,e){var n=t.keys().map(function(n){var o=t(n);return Object.values(Object(i.resolveEntityIds)(o,r(n,e))).filter(i.isEntity)}).reduce(function(t,e){return t.concat(e)},[]);return Object(i.getGraphFromAll)(n)};var i=n(0)},function(t,e,n){"use strict";n.d(e,"b",function(){return u});var r=n(40),i=n(43),o=(n.n(i),n(23));n.d(e,"a",function(){return o.a});var a=new r.a({autoGenerateTag:!0}),u=(a.setStylesTarget,a.cssRaw,a.cssRule,a.forceRenderStyles,a.fontFace,a.getStyles,a.keyframes,a.reinit,a.style)},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")},e.b=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r={},i=0,o=e;i<o.length;i++){var a=o[i];if(null!=a&&!1!==a)for(var u in a){var c=a[u];(c||0===c)&&("$nest"===u&&c?r[u]=r.$nest?t(r.$nest,c):c:-1!==u.indexOf("&")||0===u.indexOf("@media")?r[u]=r[u]?t(r[u],c):c:r[u]=c)}}return r};var r="undefined"==typeof requestAnimationFrame?function(t){return setTimeout(t)}:requestAnimationFrame.bind(window)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,o=t;i<o.length;i++){var a=o[i];if(null!=a&&!1!==a)for(var u in a){var c=a[u];(c||0===c)&&("$nest"===u&&c?n[u]=n.$nest?r(n.$nest,c):c:-1!==u.indexOf("&")||0===u.indexOf("@media")?n[u]=n[u]?r(n[u],c):c:n[u]=c)}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.raf="undefined"==typeof requestAnimationFrame?function(t){return setTimeout(t)}:requestAnimationFrame.bind(window),e.classes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")},e.extend=r,e.media=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o,a=[];return t.type&&a.push(t.type),t.orientation&&a.push(t.orientation),t.minWidth&&a.push("(min-width: "+i(t.minWidth)+")"),t.maxWidth&&a.push("(max-width: "+i(t.maxWidth)+")"),t.minHeight&&a.push("(min-height: "+i(t.minHeight)+")"),t.maxHeight&&a.push("(max-height: "+i(t.maxHeight)+")"),{$nest:(o={},o["@media "+a.join(" and ")]=r.apply(void 0,e),o)}};var i=function(t){return"string"==typeof t?t:t+"px"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(2),i=n(26),o=function(t){return function(){return Object(r.d)(arguments,function(t){return t||0===t}).map(function(t){return"number"==typeof t?Object(i.a)(t):t.toString()}).join(t)}},a=o(" ");o(",")},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(2),i=(Object(r.g)("%"),Object(r.g)("deg"),Object(r.g)("em"),Object(r.g)("px"));Object(r.g)("rad"),Object(r.g)("rem"),Object(r.g)("vh"),Object(r.g)("vw"),Object(r.g)("turn")},function(t,e,n){"use strict";e.a=function(t,e){function n(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n),r=r.filter(function(t){return t!==o})}function i(e){for(var n=0,i=r;n<i.length;n++){var c=i[n];if(c!==o&&o.contains(c))return}t({x:a-e.clientX,y:u-e.clientY}),a=e.clientX,u=e.clientY}var o,a=0,u=0;return{onmousedown:function(t){o=t.currentTarget,r.push(o),a=t.clientX,u=t.clientY,document.addEventListener("mousemove",i),document.addEventListener("mouseup",n),e&&e(t)}}};var r=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"entityWindowProps",function(){return u}),n.d(e,"controlProps",function(){return c}),n.d(e,"treeWindowProps",function(){return s}),n.d(e,"graphWindowProps",function(){return f}),n.d(e,"entityViewProps",function(){return l}),n.d(e,"processViewProps",function(){return d});var r=n(0),i=n(9),o=n(12),a=n(3),u=Object(r.stream)([a.metaEntity.HOT,o.entityWindow.HOT,i.activeNode.HOT,o.activeWindow.HOT],function(t,e,n,r){return{viewMode:t.viewMode,dimensions:e,node:n,window:r}}),c=Object(r.stream)([o.visibility.HOT,o.controlsPosition.HOT],function(t,e){return{visibility:t,position:e}}),s=Object(r.stream)([o.treeWindow.HOT,o.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}}),f=Object(r.stream)([o.graphWindow.HOT,o.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}}),l=Object(r.stream)([i.activeEntity.HOT,i.activeValue.HOT,i.watchingEntity.HOT,a.enhancedGraphData.COLD,a.metaEntities.HOT],function(t,e,n,r,i){return{entity:t,value:e,watching:n,graph:r,meta:i[t.id]}}),d=Object(r.stream)([i.activeProcess.HOT,a.enhancedGraphData.COLD],function(t,e){return{process:t,graph:e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"viewBox",function(){return l}),n.d(e,"simulationSteps",function(){return d}),n.d(e,"initialPosition",function(){return h}),n.d(e,"entityPositions",function(){return p}),n.d(e,"graphData",function(){return v});var r=n(0),i=n(8),o=n(3),a=n(4),u=n(9),c=n(13),s=n(65),f=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},l=Object(r.stream)([o.metaGraph.HOT],function(t){return t.viewBox||c.c}).accept(function(t,e){return!e||!Object(i.b)(t,e)}),d=Object(r.val)(500),h=Object(r.stream)([o.graph.HOT],function(t){var e={};for(var n in t.entities)e[n]={x:800*Math.random(),y:800*Math.random()};return e}),p=Object(r.asyncStream)([o.metaEntities.HOT,d.HOT,o.enhancedGraphData.COLD,h.HOT],function(t,e,n,r,i){function o(){for(var t={},e=0;e<l.length;e++){for(var o=l[e],u=r.entities[o],c=i[o],f=0,d=u.processes;f<d.length;f++)for(var h=d[f],p=0,v=r.processes[h].inputs;p<v.length;p++){var g=v[p],m=r.entities[g.eid].namespace===u.namespace?200:300,y=i[g.eid],b=Object(s.e)([y.x,y.y],[c.x,c.y]),_=Object(s.b)(b),T=Object(s.d)(b),O=_-m,E=g.type===a.PORT_TYPES.COLD?.5*O:2*O;t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(E,T)),t[g.eid]=Object(s.a)(t[g.eid]||[0,0],Object(s.c)(-1*E,T))}for(var M=e+1;M<l.length;M++){var w=l[M],S=r.entities[w],y=i[w],b=Object(s.e)([y.x,y.y],[c.x,c.y]),_=Object(s.b)(b),T=Object(s.d)(b),E=Math.max(100-_,0);if(t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(-1*E,T)),t[w]=Object(s.a)(t[w]||[0,0],Object(s.c)(E,T)),u.namespace===S.namespace){var A=_-300;t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(A,T)),t[w]=Object(s.a)(t[w]||[0,0],Object(s.c)(-1*A,T))}else{var x=Math.max(300-_,0);t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(-1*x,T)),t[w]=Object(s.a)(t[w]||[0,0],Object(s.c)(x,T))}}}for(var o in t){var E=t[o],I=Object(s.b)(E);if(I>n/2){var C=Object(s.d)(E),k=i[o],j=Object(s.a)([k.x,k.y],Object(s.c)(I/n,C)),N=j[0],R=j[1];i[o]={x:Math.floor(N),y:Math.floor(R)}}}}for(var u in e){var c=e[u],f=c&&c.ui&&c.ui.graph&&c.ui.graph.position;f&&(i[u]=f)}t(i);var l=Object.keys(r.entities),d=n;return requestAnimationFrame(function e(){if(d>10){var n={};for(var r in i)n[r]=i[r];for(var a=10;a>0;a--)o(),d--;var u=!0;for(var r in i){var c=n[r],s=i[r];c===s||c.x===s.x&&c.y===s.y||(u=!1)}u||(t(i),d>10&&setTimeout(e,60))}}),function(){d=0}});o.runtime.react([p.HOT],function(t,e){var n={};for(var r in e)n[r]={ui:{graph:{position:e[r]}}};t.setMeta({entities:n})});var v=Object(r.stream)([o.enhancedGraphData.HOT,u.activeNode.HOT,p.HOT],function(t,e,n){var r={},i=0,o=[],u=[],c=[];for(var s in t.entities){var l=t.entities[s];r[l.namespace]=r[l.namespace]||i++%7+1;var d=f({},n[s],{id:l.id,class:"group-"+r[l.namespace],label:l.name,active:l.id===e.id});null!=l.accept&&(d.accept=!0),null!=l.value&&(d.initial=!0),u.push(d);for(var h=0,p=l.processes;h<p.length;h++){var v=p[h],g=t.processes[v],m={id:g.id,async:g.async,autostart:g.autostart,active:g.id===e.id,acc:g.reaction,from:g.inputs,to:s,class:d.class};if(g.inputs.length){m.x=0,m.y=0;for(var y=0,b=g.inputs;y<b.length;y++){var _=b[y],T=_.eid,O=_.type,E=n[T];if(E){var M=E.x-d.x,w=E.y-d.y;O===a.PORT_TYPES.COLD&&(M/=2,w/=2),m.x+=M,m.y+=w}m.fromIsActive=m.fromIsActive||T===e.id,c.push({from:E,to:m,class:"from"+(O===a.PORT_TYPES.COLD?" cold":""),title:O,active:d.active||m.active||T===e.id})}var S=Math.sqrt(m.x*m.x+m.y*m.y);m.x=50*m.x/S+d.x,m.y=50*m.y/S+d.y}else m.x=d.x,m.y=d.y-50;o.push(m),c.push({from:m,to:d,class:"to"+(g.async?" async":""),active:d.active||m.active||m.fromIsActive}),g.reaction&&c.push({from:m,to:d,class:"to acc"})}}return{entities:u,processes:o,edges:c}}).react([l.HOT],function(t,e){return t.viewBox={x:e.offsetX*e.scale,y:e.offsetY*e.scale,width:e.width*e.scale,height:e.height*e.scale},t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"entityTree",function(){return u}),n.d(e,"treeData",function(){return c});var r=n(0),i=n(9),o=n(3),a=n(7),u=Object(r.stream)([o.enhancedGraphData.HOT],function(t){return Object(a.createEntityTree)(t.entities)}),c=Object(r.stream)([o.metaTree.HOT,u.HOT,i.activeEntity.HOT],function(t,e,n){return{fold:t.fold||{},tree:e,selected:n}}).val({fold:{},tree:{},selected:null})},function(t,e,n){"use strict";function r(){for(var t in l)l[t]();l={},d=!0}function i(t){if("function"==typeof t)return c()(t);if(!Array.isArray(t))return t;var e=t.shift(),n=t[0];return"object"!=typeof n||Array.isArray(n)?n={}:t.shift(),t.length?c()(e,n,t.map(i)):c()(e,n)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ComponentClass",function(){return f}),e.flowComponentFactory=function(t,e,n){function o(n,r){"string"==typeof n?t.set(e,{type:n,payload:r}):t.set(e,n)}void 0===n&&(n=!1);var a={};return function e(u,c){var h=c.getId(),p=h+u.toString();if(a[p])return a[p];var v=function(a){function c(){var e=null!==a&&a.apply(this,arguments)||this;return e.state={current:t.get(h)},e.update=function(){e.setState(function(e){return e.current=t.get(h),e})},e.updateAsync=function(){!function(t,e){l[t]=e,d&&(requestAnimationFrame(r),d=!1)}(p,e.update)},e}return s(c,a),c.prototype.render=function(){if(void 0!==this.state.current)return i(u(this.state.current,o,e))},c.prototype.componentDidMount=function(){n&&console.log("component mounted!",this),t.on(h,this.updateAsync)},c.prototype.componentWillUnmount=function(){n&&console.log("component will unmount!",this),t.off(h,this.updateAsync)},c}(f);return a[p]=v,v}},e.h=i;var o=n(66),a=n.n(o),u=n(32),c=n.n(u),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(a.a),l={},d=!0},function(t,e,n){t.exports=n(69).default,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ui",function(){return c}),n.d(e,"console",function(){return s}),n.d(e,"utils",function(){return f});var r=n(34),i=n(81),o=n(7),a=n(21),u=n(31);e.default=r;var c=r,s={tree:i},f={entityData:o,webpack:a,yoyo:u}},function(t,e,n){"use strict";function r(t){return"tvsFlowTools::"+t}Object.defineProperty(e,"__esModule",{value:!0}),e.start=function(t){var e=b({debug:!1,graph:null},t),n=i.a.create();n.addGraph(Object(o.getGraphFromModules)(_)),n.flush();var s=Object(u.flowComponentFactory)(n,c.action.getId(),e.debug),l=Object(a.a)(s),h=document.createElement("div");h.className="tvs-flow-tools-container",document.body.appendChild(h),d.a.render(p()(l),h),n.set(c.element.getId(),h);var T=new f.a(".tvs-save-graph",{text:function(){return JSON.stringify(n.get(g.meta.getId()),null,"  ")}});return T.on("success",function(t){return console.log("saved graph to clipboard",t)}),T.on("error",function(t){return console.log("error while saving graph to clipboard",t)}),n.on(g.meta.getId(),y(function(t){var e=n.get(g.selectedRuntimeId.getId());e&&localStorage.setItem(r(e),JSON.stringify(t))},300)),{setFlow:function(t,e){var i=t.getMeta(),o=localStorage.getItem(r(e));if(t.setMeta(b({},m.b,{name:e})),o){var a=JSON.parse(o);t.setMeta(a)}t.setMeta(i),requestAnimationFrame(function(){n.set(c.action.getId(),{type:v.a.SET_RUNTIME,payload:{label:e,runtime:t}})})},dispose:function(){document.body.removeChild(h),T.destroy()},getState:function(){return n},getElement:function(){return h}}};var i=n(35),o=n(21),a=n(39),u=n(31),c=n(17),s=n(70),f=n.n(s),l=n(18),d=n.n(l),h=n(32),p=n.n(h),v=n(5),g=n(3),m=n(13),y=n(78),b=(n.n(y),this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}),_=n(80)},function(t,e,n){"use strict";var r=n(36);n(0),n(20),n(4),e.a=r,r.create},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){function t(t){return null==t||"object"!=typeof t||Array.isArray(t)||(E=Object(i.a)(E,t)),E}function e(t){return O.es[t]&&O.es[t].val}function n(t,e){g(m(t),e,!0)&&p()}function a(e){var n=Object(r.createEntity)(e);b[n.id]=n;var i,o=m(n.id);return void 0===n.value||!n.reset&&void 0!==o.val||(o.val=n.value,A[n.id]=!1,I=!0),o.accept=n.accept,n.meta&&t({entities:(i={},i[n.id]=n.meta,i)}),n}function u(e){var n=m(e);for(var r in n.arcs)l(r);var i,o=b[e];o&&o.meta&&t({entities:(i={},i[o.id]=void 0,i)}),delete O.es[e],delete b[e]}function c(e){var n,i=Object(r.createProcess)(e,M),o=i.ports,a=y(i.id);for(var u in _[i.id]=i,delete a.acc,a.values=[],a.sources=[],a.async=i.async,a.delta=i.delta,Object.keys(a.arcs).forEach(function(t){var e=T[t].port;null==e||o[e]&&o[e]!==r.PORT_TYPES.ACCUMULATOR||l(t)}),o.forEach(function(t,e){t===r.PORT_TYPES.ACCUMULATOR&&(a.acc=e)}),a.arcs)d(T[u]);return i.meta&&t({processes:(n={},n[i.id]=i.meta,n)}),i}function s(e){var n=y(e);for(var r in n.stop&&(n.stop(),delete n.stop),n.arcs)l(r);delete O.ps[e];var i,o=_[e];o&&o.meta&&t({processes:(i={},i[o.id]=void 0,i)}),delete _[e]}function f(e){var n=Object(r.createArc)(e);T[n.id]=n,d(n);var i,o=y(n.process),a=_[n.process];return a&&!0===a.autostart&&Object.keys(o.arcs).length===Object.keys(a.ports).length+1&&function(t){t.async?requestAnimationFrame(function(){v(t)}):(v(t),t.out&&(A[t.out.id]=!1))}(o),n.meta&&t({arcs:(i={},i[n.id]=n.meta,i)}),n}function l(e){var n,r=T[e];if(r){var i=y(r.process),o=m(r.entity);delete i.arcs[e],delete o.arcs[e],null!=r.port?(delete o.effects[r.process],delete i.sources[r.port],delete i.values[r.port]):(i.stop&&(i.stop(),delete i.stop),i.sink=function(){},delete i.out,delete o.reactions[r.process]),r.meta&&t({arcs:(n={},n[r.id]=void 0,n)})}delete T[e]}function d(t){var e=t.process,n=t.entity,i=y(e),o=m(n),a=_[e];o.arcs[t.id]=!0,a&&(i.arcs[t.id]=!0,null!=t.port?(delete o.effects[e],a.ports&&null!=a.ports[t.port]&&(i.sources[t.port]=o,a.ports[t.port]===r.PORT_TYPES.HOT&&(o.effects[e]=i))):(i.out=o,null!=i.acc?(i.sources[i.acc]=o,o.reactions[e]=i):delete o.reactions[e],i.sink=function(t){g(o,t,!0)&&!x&&p()}))}function h(e){if(e.entities)for(var n in e.entities)a(e.entities[n]);if(e.processes)for(var n in e.processes)c(e.processes[n]);if(e.arcs)for(var n in e.arcs)f(e.arcs[n]);t(e.meta)}function p(){w&&console.log("flushing graph recursively with",A);for(var t=Object.keys(A),e=0,n=t;e<n.length;e++)if(u=n[e],A[u])for(var r in(f=O.es[u]).reactions)v(f.reactions[r]);var i={};A={},I=!1,x=!0;for(var o=0,a=t;o<a.length;o++){var u=a[o];for(var r in(f=O.es[u]).cb.length>0&&(S[u]=f),f.effects)i[r]||(v(f.effects[r]),i[r]=!0)}if(x=!1,I)p();else{var c=Object.keys(S);for(var s in S={},c)for(var f,l=0,d=(f=O.es[c[s]]).cb;l<d.length;l++)(0,d[l])(f.val);w&&console.log("flush finished")}}function v(t){for(var e=!0,n=0;n<t.sources.length;n++){var r=t.sources[n];if(void 0===r.val){e=!1;break}if(t.values[n]=r.val,t.delta){if(void 0===r.oldVal){e=!1;break}t.values[n+1]=r.oldVal}}if(e)if(w&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=_[t.id].procedure.apply(M,[t.sink].concat(t.values));else{var i=_[t.id].procedure.apply(M,t.values);t.out&&g(t.out,i,null==t.acc)}}function g(t,e,n){return!(void 0===e||t.accept&&!t.accept(e,t.val)||(t.oldVal=t.val,t.val=e,A[t.id]=n,I=!0,0))}function m(t){return b[t]||a({id:t}),O.es[t]||(O.es[t]={id:t,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function y(t){return O.ps[t]||(O.ps[t]={id:t,arcs:{},sink:function(){}})}var b={},_={},T={},O={es:{},ps:{}},E={},M=null,w=!1,S={},A={},x=!1,I=!1;return{addEntity:a,removeEntity:u,addProcess:c,removeProcess:s,addArc:f,removeArc:l,addGraph:h,replaceGraph:function(t){var e={},n={};if(t.entities)for(var r in t.entities){var i=t.entities[r];i.id&&(e[i.id]=!0)}if(t.processes)for(var r in t.processes){var o=t.processes[r];o.id&&(n[o.id]=!0)}Object.keys(b).filter(function(t){return!e[t]}).forEach(u),Object.keys(_).filter(function(t){return!n[t]}).forEach(s),h(t)},getGraph:function(){return{entities:b,processes:_,arcs:T,meta:E}},getState:function(){var t={};for(var e in O.es)t[e]=O.es[e].val;return t},setMeta:t,getMeta:function(){return E},getContext:function(){return M},setContext:function(t){M=t},setDebug:function(t){w=t},get:e,set:n,update:function(t,r){n(t,r(e(t)))},on:function(t,e){m(t).cb.push(e)},off:function(t,e){var n=m(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]},start:function(t){var e=y(t);v(e),e.async||p()},stop:function(t){var e=y(t);e.stop&&(e.stop(),delete e.stop)},flush:p,PORT_TYPES:o({},r.PORT_TYPES)}};var r=n(4),i=n(38),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,n){"use strict";e.a=function t(e,n){if("object"==typeof e&&"object"==typeof n&&!Array.isArray(e)&&!Array.isArray(n)&&e!==n){var i=r({},e);for(var o in n){var a=e[o],u=n[o];void 0!==u?i[o]=t(a,u):delete i[o]}return i}return n};var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";function r(t,e){return["h2",I({},Object(S.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),Object(x.printEntityName)(t)]}function i(t){return["footer",I({},Object(S.a)(function(e){t(_.b.MAIN.RESIZE_WINDOW,e)}),{class:"resize"})]}function o(t,e){return function(){return e(_.b.MAIN.SET_ACTIVE_WINDOW,t)}}function a(t,e,n){var i=t.visibility,a=t.position,u=function(t){return function(){return e(_.b.MAIN.UPDATE_VISIBILITY,t)}};return["header",{class:Object(l.a)("tvs-flow-controls",v.a),onmousedown:o("controls",e),style:I({},a)},["nav",I({class:"tvs-controls-btns"},Object(S.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),["ul",["li",Object(p.a)({class:i.tree&&C,onclick:u("tree"),icon:d.e(),title:"toggle entity tree"})],["li",Object(p.a)({class:i.graph&&C,onclick:u("graph"),icon:d.d(),title:"toggle flow graph"})],["li",Object(p.a)({class:i.entity&&C,onclick:u("entity"),icon:d.c(),title:"toggle entity details"})]]],n(r,M.activeNode)]}function u(t,e,n){var r=t.dimensions,a=t.window;return["article",{class:Object(l.a)("tvs-flow-tree",v.e),style:I({},r),onmousedown:o("tree",e)},["header",I({},Object(S.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),d.e("tree"===a?"selected":"")," Tree ",["span",{class:"gap"}]," ",Object(p.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"tree")}})],["section",{class:v.d},n(y.a,w.treeData)],i(e)]}function c(t,e,n){var r=t.dimensions,a=t.window,u=n(g.a,E.graphData);return["article",{ref:function(t){if(t&&t.querySelector){var n=t.querySelector("section");requestAnimationFrame(function(){e(_.b.GRAPH.UPDATE_SIZE,{width:n.clientWidth,height:n.clientHeight})})}},class:Object(l.a)("tvs-flow-graph",v.e),style:I({},r),onmousedown:o("graph",e)},["header",I({},Object(S.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),d.d("graph"===a?"selected":"")," Graph ",["span",{class:"gap"}],n(g.b,E.viewBox)," ",Object(p.a)({icon:d.b(),class:Object(l.a)(b.b,"tvs-save-graph"),title:"copy the current graph state to clipboard"}),Object(p.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"graph")}})],u,i(e)]}function s(t,e,n){var r=t.dimensions,a=t.node,u=t.window,c=t.viewMode;c=c||A.a.VALUE;var s=a&&a.procedure,f=c===A.a.VALUE?s?n(m.d,O.processViewProps):n(m.b,O.entityViewProps):s?n(m.c,O.processViewProps):n(m.a,O.entityViewProps);return["article",{class:Object(l.a)("tvs-flow-entity",v.e),style:I({},r),onmousedown:o("entity",e)},["header",I({},Object(S.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),d.c("entity"===u?"selected":""),s?" Process ":" Entity ",["span",{class:"gap"}," "],["button",{class:Object(l.a)(b.a,"tiny",c===A.a.VALUE&&"selected"),onClick:function(){return e(_.b.ENTITY.SET_VIEW_MODE,A.a.VALUE)}},"value"],["button",{class:Object(l.a)(b.a,"tiny",c===A.a.DETAILS&&"selected"),onClick:function(){return e(_.b.ENTITY.SET_VIEW_MODE,A.a.DETAILS)}},"details"],Object(p.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"entity")}})],f,i(e)]}function f(t,e,n){var r=t.tree?n(u,O.treeWindowProps):"",i=t.graph?n(c,O.graphWindowProps):"",o=t.entity?n(s,O.entityWindowProps):"";return["article",{class:Object(l.a)("tvs-flow-tools",h.f)},n(a,O.controlProps),i,o,r]}e.a=function(t){return t(f,T.visibility)};var l=n(22),d=n(14),h=n(6),p=n(15),v=n(16),g=n(58),m=n(60),y=n(61),b=n(11),_=n(5),T=n(12),O=n(28),E=n(29),M=n(9),w=n(30),S=n(27),A=n(13),x=n(7),I=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},C=Object(l.b)({color:h.e})},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(41),i=n(23),o=n(10),a=(n.n(o),function(){return o.create(void 0,!0)}),u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var a=Object(r.a)(i.b.apply(void 0,e)).result;n._freeStyle.registerRule(t,a),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,i=0,o=t;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=Object(r.b)(t),i=e.keyframes,o=e.$debugName,a=n._freeStyle.registerKeyframes(i,o);return n._styleUpdated(),a},this.reinit=function(){var t=a();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=n._freeStyle,a=Object(r.a)(i.b.apply(void 0,t)),u=a.result,c=a.debugName,s=c?o.registerStyle(u,c):o.registerStyle(u);return n._styleUpdated(),s};var o=a();this._autoGenerateTag=e,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;Object(i.c)(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}()},function(t,e,n){"use strict";e.a=function t(e){var n={},i="";for(var o in e){var a=e[o];if("$unique"===o)n[r.IS_UNIQUE]=a;else if("$nest"===o){var u=a;for(var c in u){var s=u[c];n[c]=t(s).result}}else"$debugName"===o?i=a:n[o]=a}return{result:n,debugName:i}},e.b=function(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e};var r=n(10);n.n(r)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function o(){p&&d&&(p=!1,d.length?h=d.concat(h):v=-1,h.length&&a())}function a(){if(!p){var t=i(o);p=!0;for(var e=h.length;e;){for(d=h,h=[];++v<e;)d&&d[v].run();v=-1,e=h.length}d=null,p=!1,function(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var s,f,l=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,h=[],p=!1,v=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||p||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.prependListener=c,l.prependOnceListener=c,l.listeners=function(t){return[]},l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45),i=n(24),o=n(10),a=function(){return o.create(void 0,!0)},u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var a=r.ensureStringObj(i.extend.apply(void 0,e)).result;n._freeStyle.registerRule(t,a),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,i=0,o=t;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=r.explodeKeyframes(t),i=e.keyframes,o=e.$debugName,a=n._freeStyle.registerKeyframes(i,o);return n._styleUpdated(),a},this.reinit=function(){var t=a();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=n._freeStyle,a=r.ensureStringObj(i.extend.apply(void 0,t)),u=a.result,c=a.debugName,s=c?o.registerStyle(u,c):o.registerStyle(u);return n._styleUpdated(),s};var o=a();this._autoGenerateTag=e,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;i.raf(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}();e.TypeStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);e.ensureStringObj=function t(e){var n={},i="";for(var o in e){var a=e[o];if("$unique"===o)n[r.IS_UNIQUE]=a;else if("$nest"===o){var u=a;for(var c in u){var s=u[c];n[c]=t(s).result}}else"$debugName"===o?i=a:n[o]=a}return{result:n,debugName:i}},e.explodeKeyframes=function(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=n(48);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";n(49),n(53);var r=n(54);n.d(e,"a",function(){return r.a}),n(55),n(25),n(56),n(57),n(26)},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t,e){return Array.prototype.filter.call(t,e)},i=function(t,e){return Array.prototype.map.call(t,e)}},function(t,e,n){"use strict";function r(t){return o.exec(t.toString())[1]}n.d(e,"f",function(){return a}),e.c=function(t){return"number"==typeof t?t:.01*parseFloat(t)},e.e=function(t){return r(100*t)+"%"},e.d=r,e.b=function(t){if(null!==t&&void 0!==t){var e=+t;return e==e?t+"px":t}},e.g=function(t){var e=i.exec(t);if(e&&e.length)return[e[1]].concat(e[2].split(","))},e.a=function(t,e){return t+"("+Array.prototype.join.call(e,",")+")"};var i=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,o=/^(\-?\d+\.?\d{0,5})/,a=function(t){return function(e){return e+t}}},function(t,e,n){"use strict";e.a=function(t,e){return Math.round(t*e)/e}},function(t,e,n){"use strict";n(2);var r=n(25);r.a,r.a,r.a},function(t,e,n){"use strict";function r(t){return f(t)||function(t){var e=t.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i);if(e){var n=e[1],r=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16);return new b(v,r>>16&255,r>>8&255,255&r,1,!1)}}(t)||function(t){var e=Object(h.i)(t);if(e&&(4===e.length||5===e.length)){var n,r=e[0],i="rgba"===r,o="hsla"===r,a="rgb"===r,u=o||i;if(a||i)n=v;else{if("hsl"!==r&&!o)throw new Error("unsupported color string");n=g}var c=parseFloat(e[1]),s=a||i?parseFloat(e[2]):Object(h.c)(e[2]),f=a||i?parseFloat(e[3]):Object(h.c)(e[3]),l=u?parseFloat(e[4]):1;return new b(n,c,s,f,l,u)}}(t)||f("red")}function i(t,e,n){return new b(v,t,e,n,1,!1)}function o(t,e,n,r){return new b(v,t,e,n,Object(h.c)(r),!0)}function a(t){var e=Math.round(t);return(e<16?"0":"")+e.toString(16)}function u(t,e,n,r,i,o,a){return t===e?new b(t,n,r,i,o,a):m[t-e](n,r,i,o,a)}function c(t,e,n,r){if(!p)return[t||0,e||0,n||0,r||0];var i=new Float32Array(4);return i[0]=t||0,i[1]=e||0,i[2]=n||0,i[3]=r||0,i}function s(t,e,n){var r=y[t][e];return n<0?0:n>r?r:n}function f(t){return _[t]||void 0}e.a=o;var l,d,h=n(2),p="undefined"!=typeof Float32Array,v=0,g=1,m=((l={})[v-g]=function(t,e,n,r,i){var o,a=t/255,u=e/255,c=n/255,s=Math.min(a,u,c),f=Math.max(a,u,c),l=(s+f)/2,d=f-s;return o=f===s?0:a===f?(u-c)/d:u===f?2+(c-a)/d:c===f?4+(a-u)/d:0,(o=Math.min(60*o,360))<0&&(o+=360),new b(g,o,f===s?0:l<=.5?d/(f+s):d/(2-f-s),l,r,i)},l[g-v]=function(t,e,n,r,i){var o=t/360,a=e,u=n;if(0===a)return new b(v,g=255*u,g,g,r,i);for(var c=u<.5?u*(1+a):u+a-u*a,s=2*u-c,f=0,l=0,d=0,h=0;h<3;h++){var p=o+1/3*-(h-1);p<0&&p++,p>1&&p--;var g=void 0;g=6*p<1?s+6*(c-s)*p:2*p<1?c:3*p<2?s+(c-s)*(2/3-p)*6:s,g*=255,0===h?f=g:1===h?l=g:d=g}return new b(v,f,l,d,r,i)},l),y=((d={})[v]=c(255,255,255,1),d[g]=c(360,1,1,1),d),b=function(){function t(t,e,n,r,i,o){this._format=t,this._hasAlpha=o,this._values=c(s(t,0,e),s(t,1,n),s(t,2,r),s(t,3,i))}return t.convertHelper=function(t,e){var n=e._format,r=e._values,i=e._hasAlpha;return n===t?e:m[n-t](r[0],r[1],r[2],r[3],i)},t.prototype.toString=function(){var t,e,n=this._format,r=this._values,i=this._hasAlpha;if(n===v)t=i?"rgba":"rgb",e=[Math.round(r[0]),Math.round(r[1]),Math.round(r[2])];else{if(n!==g)throw new Error("Invalid color format");t=i?"hsla":"hsl",e=[Math.round(r[0]),Object(h.f)(Object(h.j)(r[1],100)),Object(h.f)(Object(h.j)(r[2],100))]}return i&&e.push(Object(h.e)(Object(h.j)(r[3],1e5))),Object(h.a)(t,e)},t.prototype.toHexString=function(){var e=t.convertHelper(v,this)._values;return"#"+(a(e[0])+a(e[1])+a(e[2])).toUpperCase()},t.prototype.toHSL=function(){var t=this._values;return u(this._format,g,t[0],t[1],t[2],1,!1)},t.prototype.toHSLA=function(){var t=this._values;return u(this._format,g,t[0],t[1],t[2],t[3],!0)},t.prototype.toRGB=function(){var t=this._values;return u(this._format,v,t[0],t[1],t[2],1,!1)},t.prototype.toRGBA=function(){var t=this._values;return u(this._format,v,t[0],t[1],t[2],t[3],!0)},t.prototype.red=function(){return(this._format===v?this:this.toRGB())._values[0]},t.prototype.green=function(){return(this._format===v?this:this.toRGB())._values[1]},t.prototype.blue=function(){return(this._format===v?this:this.toRGB())._values[2]},t.prototype.hue=function(){return(this._format===g?this:this.toHSL())._values[0]},t.prototype.saturation=function(){return(this._format===g?this:this.toHSL())._values[1]},t.prototype.lightness=function(){return(this._format===g?this:this.toHSL())._values[2]},t.prototype.alpha=function(){return this._values[3]},t.prototype.opacity=function(){return this.alpha()},t.prototype.invert=function(){var e=t.convertHelper(v,this)._values;return t.convertHelper(this._format,new t(v,255-e[0],255-e[1],255-e[2],this._values[3],this._hasAlpha))},t.prototype.lighten=function(e,n){var r=t.convertHelper(g,this)._values,i=y[g][2],o=r[2]+(n?i-r[2]:i)*Object(h.c)(e);return t.convertHelper(this._format,new t(g,r[0],r[1],o,this._values[3],this._hasAlpha))},t.prototype.darken=function(e,n){var r=t.convertHelper(g,this)._values,i=r[2]-(n?r[2]:y[g][2])*Object(h.c)(e);return t.convertHelper(this._format,new t(g,r[0],r[1],i,this._values[3],this._hasAlpha))},t.prototype.saturate=function(e,n){var r=t.convertHelper(g,this)._values,i=y[g][1],o=r[1]+(n?i-r[1]:i)*Object(h.c)(e);return t.convertHelper(this._format,new t(g,r[0],o,r[2],this._values[3],this._hasAlpha))},t.prototype.desaturate=function(e,n){var r=t.convertHelper(g,this)._values,i=y[g][1],o=r[1]-(n?r[1]:i)*Object(h.c)(e);return t.convertHelper(this._format,new t(g,r[0],o,r[2],this._values[3],this._hasAlpha))},t.prototype.grayscale=function(){return this.desaturate(1)},t.prototype.fade=function(e){var n=this._values,r=s(v,3,Object(h.c)(e));return t.convertHelper(this._format,new t(this._format,n[0],n[1],n[2],r,!0))},t.prototype.fadeOut=function(e,n){var r=this._values,i=s(v,3,r[3]-(n?r[3]:1)*Object(h.c)(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],i,!0))},t.prototype.fadeIn=function(e,n){var r=this._values,i=s(v,3,r[3]+(n?r[3]:1)*Object(h.c)(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],i,!0))},t.prototype.mix=function(e,n){var i=function(t){return t instanceof b?t:r(t)}(e),o=t.convertHelper(v,this)._values,a=t.convertHelper(v,i)._values,u=void 0===n?.5:n,c=2*u-1,s=Math.abs(o[3]-a[3]),f=((c*s==-1?c:(c+s)/(1+c*s))+1)/2,l=1-f,d=new t(v,Math.round(o[0]*f+a[0]*l),Math.round(o[1]*f+a[1]*l),Math.round(o[2]*f+a[2]*l),o[3]*u+a[3]*(1-u),this._hasAlpha||i._hasAlpha);return t.convertHelper(this._format,d)},t.prototype.tint=function(t){return O.mix(this,t)},t.prototype.shade=function(t){return T.mix(this,t)},t.prototype.spin=function(e){var n=t.convertHelper(g,this)._values;return t.convertHelper(this._format,new t(g,function(t){return((t<0?360:0)+t%360)%360}(n[0]+e),n[1],n[2],this._values[3],this._hasAlpha))},t}(),_={aliceblue:i(240,248,245),antiquewhite:i(250,235,215),aqua:i(0,255,255),aquamarine:i(127,255,212),azure:i(240,255,255),beige:i(245,245,220),bisque:i(255,228,196),black:i(0,0,0),blanchedalmond:i(255,235,205),blue:i(0,0,255),blueviolet:i(138,43,226),brown:i(165,42,42),burlywood:i(222,184,35),cadetblue:i(95,158,160),chartreuse:i(127,255,0),chocolate:i(210,105,30),coral:i(255,127,80),cornflowerblue:i(100,149,237),cornsilk:i(255,248,220),crimson:i(220,20,60),cyan:i(0,255,255),darkblue:i(0,0,139),darkcyan:i(0,139,139),darkgoldenrod:i(184,134,11),darkgray:i(169,169,169),darkgreen:i(0,100,0),darkgrey:i(169,169,169),darkkhaki:i(189,183,107),darkmagenta:i(139,0,139),darkolivegreen:i(85,107,47),darkorange:i(255,140,0),darkorchid:i(153,50,204),darkred:i(139,0,0),darksalmon:i(233,150,122),darkseagreen:i(143,188,143),darkslateblue:i(72,61,139),darkslategray:i(47,79,79),darkslategrey:i(47,79,79),darkturquoise:i(0,206,209),darkviolet:i(148,0,211),deeppink:i(255,20,147),deepskyblue:i(0,191,255),dimgray:i(105,105,105),dimgrey:i(105,105,105),dodgerblue:i(30,144,255),firebrick:i(178,34,34),floralwhite:i(255,250,240),forestgreen:i(34,139,34),fuchsia:i(255,0,255),gainsboro:i(220,220,220),ghostwhite:i(248,248,255),gold:i(255,215,0),goldenrod:i(218,165,32),gray:i(128,128,128),green:i(0,128,0),greenyellow:i(173,255,47),grey:i(128,128,128),honeydew:i(240,255,240),hotpink:i(255,105,180),indianred:i(205,92,92),indigo:i(75,0,130),ivory:i(255,255,240),khaki:i(240,230,140),lavender:i(230,230,250),lavenderblush:i(255,240,245),lawngreen:i(124,252,0),lemonchiffon:i(255,250,205),lightblue:i(173,216,230),lightcoral:i(240,128,128),lightcyan:i(224,255,255),lightgoldenrodyellow:i(250,250,210),lightgray:i(211,211,211),lightgreen:i(144,238,144),lightgrey:i(211,211,211),lightpink:i(255,182,193),lightsalmon:i(255,160,122),lightseagreen:i(32,178,170),lightskyblue:i(135,206,250),lightslategray:i(119,136,153),lightslategrey:i(119,136,153),lightsteelblue:i(176,196,222),lightyellow:i(255,255,224),lime:i(0,255,0),limegreen:i(50,205,50),linen:i(250,240,230),maroon:i(128,0,0),mediumaquamarine:i(102,205,170),mediumblue:i(0,0,205),mediumorchid:i(186,85,211),mediumpurple:i(147,112,219),mediumseagreen:i(60,179,113),mediumslateblue:i(123,104,238),mediumspringgreen:i(0,250,154),mediumturquoise:i(72,209,204),mediumvioletred:i(199,21,133),midnightblue:i(25,25,112),mintcream:i(245,255,250),mistyrose:i(255,228,225),moccasin:i(255,228,181),navajowhite:i(255,222,173),navy:i(0,0,128),oldlace:i(253,245,230),olive:i(128,128,0),olivedrab:i(107,142,35),orange:i(255,165,0),purple:i(128,0,128),rebeccapurple:i(102,51,153),red:i(255,0,0),silver:i(192,192,192),teal:i(0,128,128),transparent:o(0,0,0,0),white:i(255,255,255),yellow:i(255,255,0)},T=(_.aliceblue,_.antiquewhite,_.aqua,_.aquamarine,_.azure,_.beige,_.bisque,_.black),O=(_.blanchedalmond,_.blue,_.blueviolet,_.brown,_.burlywood,_.cadetblue,_.chartreuse,_.chocolate,_.coral,_.cornflowerblue,_.cornsilk,_.crimson,_.cyan,_.darkblue,_.darkcyan,_.darkgoldenrod,_.darkgray,_.darkgreen,_.darkgrey,_.darkkhaki,_.darkmagenta,_.darkolivegreen,_.darkorange,_.darkorchid,_.darkred,_.darksalmon,_.darkseagreen,_.darkslateblue,_.darkslategray,_.darkslategrey,_.darkturquoise,_.darkviolet,_.deeppink,_.deepskyblue,_.dimgray,_.dimgrey,_.dodgerblue,_.firebrick,_.floralwhite,_.forestgreen,_.fuchsia,_.gainsboro,_.ghostwhite,_.gold,_.goldenrod,_.gray,_.green,_.greenyellow,_.grey,_.honeydew,_.hotpink,_.indianred,_.indigo,_.ivory,_.khaki,_.lavender,_.lavenderblush,_.lawngreen,_.lemonchiffon,_.lightblue,_.lightcoral,_.lightcyan,_.lightgoldenrodyellow,_.lightgray,_.lightgreen,_.lightgrey,_.lightpink,_.lightsalmon,_.lightseagreen,_.lightskyblue,_.lightslategray,_.lightslategrey,_.lightsteelblue,_.lightyellow,_.lime,_.limegreen,_.linen,_.maroon,_.mediumaquamarine,_.mediumblue,_.mediumorchid,_.mediumpurple,_.mediumseagreen,_.mediumslateblue,_.mediumspringgreen,_.mediumturquoise,_.mediumvioletred,_.midnightblue,_.mintcream,_.mistyrose,_.moccasin,_.navajowhite,_.navy,_.oldlace,_.olive,_.olivedrab,_.orange,_.purple,_.rebeccapurple,_.red,_.silver,_.teal,_.transparent,_.white);_.yellow},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";e.b=function(t,e){return["span",["input",{type:"range",value:t.scale,min:.5,max:3,step:.2,onchange:function(t){return e(o.b.GRAPH.UPDATE_SCALE,t.target.value)},onmousemove:function(t){return t.stopPropagation()}}]]},e.a=function(t,e){if(!t)return["section",{class:r.a}];var n=t.entities,c=t.processes,s=t.edges,f=t.viewBox,l=void 0===f?{}:f;return["section",{class:r.a},["svg",u({width:"100%",height:"100%",id:"graph-ui",viewBox:l.x+", "+l.y+", "+l.width+", "+l.height},Object(a.a)(function(t){return e(o.b.GRAPH.MOVE_VIEWPORT,t)},function(t){t&&2===t.button&&t.target===t.currentTarget&&e(o.b.ENTITY.RESET_ACTIVE_NODE)}),{oncontextmenu:function(t){return t.preventDefault()}})].concat(s.map(function(t){return["line",{x1:t.from.x,y1:t.from.y,x2:t.to.x,y2:t.to.y,class:Object(i.classes)(t.class,t.active&&"active")}]}),c.map(function(t){return["circle",{class:Object(i.classes)(t.class,t.active&&"active"),transform:"translate("+t.x+", "+t.y+")",onmousedown:function(){return e(o.b.ENTITY.SET_ACTIVE_PROCESS,t.id)},cx:0,cy:0,r:t.autostart?13:8,title:t.id}]}),n.map(function(t){return["g",u({"data-eid":t.id,transform:"translate("+t.x+", "+t.y+")",title:t.id,class:Object(i.classes)(t.class,t.active&&"active")},Object(a.a)(function(n){return e(o.b.GRAPH.MOVE_ENTITY_POSITION,{start:t,delta:n})},function(){return e(o.b.ENTITY.SET_ACTIVE_ENTITY,t.id)})),["rect",{x:-15,y:-15,width:30,height:30,class:t.accept?"accept":""}],["text",{"text-anchor":"middle",x:0,y:30},t.label],t.initial&&["circle",{cx:0,cy:0,r:6,class:"initial"}]]}))]};var r=n(59),i=n(1),o=(n.n(i),n(5)),a=n(27),u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(1),i=(n.n(r),n(6)),o=Object(r.style)(i.b,{position:"relative",flexGrow:1,$nest:{"& svg":{position:"absolute",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.6))"},"& text":{fill:"white",stroke:"black",paintOrder:"stroke"},"& line":{stroke:"darkgray",$nest:{"&.active":{stroke:"#ff7"},"&.to":{strokeWidth:6},"&.to.async":{strokeDasharray:"4, 5"},"&.to.acc":{stroke:"black",strokeWidth:2},"&.from":{strokeWidth:2},"&.from.cold":{strokeDasharray:"7, 10"}}},"& rect":{$nest:{"&.accept":{strokeWidth:3,strokeDasharray:"3, 3"}}},"& .group-1 rect":{fill:"orangered"},"& .group-1.active rect":{fill:"lightsalmon",stroke:"orangered",strokeWidth:5},"& circle.group-1":{fill:"orangered"},"& circle.group-1.active":{fill:"lightsalmon"},"& .group-1 .initial":{fill:"darkred"},"& .group-1 .accept":{stroke:"darkred"},"& .group-2 rect":{fill:"limegreen"},"& .group-2.active rect":{fill:"palegreen",stroke:"limegreen",strokeWidth:5},"& circle.group-2":{fill:"limegreen"},"& circle.group-2.active":{fill:"palegreen"},"& .group-2 .initial":{fill:"darkgreen"},"& .group-2 .accept":{stroke:"darkgreen"},"& .group-3 rect":{fill:"cornflowerblue"},"& .group-3.active rect":{fill:"lightblue",stroke:"cornflowerblue",strokeWidth:5},"& circle.group-3":{fill:"cornflowerblue"},"& circle.group-3.active":{fill:"lightblue"},"& .group-3 .initial":{fill:"darkslateblue"},"& .group-3 .accept":{stroke:"darkslateblue"},"& .group-4 rect":{fill:"orchid"},"& .group-4.active rect":{fill:"thistle",stroke:"orchid",strokeWidth:5},"& circle.group-4":{fill:"orchid"},"& circle.group-4.active":{fill:"thistle"},"& .group-4 .initial":{fill:"purple"},"& .group-4 .accept":{stroke:"purple"},"& .group-5 rect":{fill:"gold"},"& .group-5.active rect":{fill:"palegoldenrod",stroke:"gold",strokeWidth:5},"& circle.group-5":{fill:"gold"},"& circle.group-5.active":{fill:"beige"},"& .group-5 .initial":{fill:"darkgoldenrod"},"& .group-5 .accept":{stroke:"darkgoldenrod"},"& .group-6 rect":{fill:"lightseagreen"},"& .group-6.active rect":{fill:"paleturquoise",stroke:"lightseagreen",strokeWidth:5},"& circle.group-6":{fill:"lightseagreen"},"& circle.group-6.active":{fill:"paleturquoise"},"& .group-6 .initial":{fill:"darkslategray"},"& .group-6 .accept":{stroke:"darkslategray"},"& .group-7 rect":{fill:"orange"},"& .group-7.active rect":{fill:"moccasin",stroke:"orange",strokeWidth:5},"& circle.group-7":{fill:"orange"},"& circle.group-7.active":{fill:"moccasin"},"& .group-7 .initial":{fill:"saddlebrown"},"& .group-7 .accept":{stroke:"saddlebrown"}}})},function(t,e,n){"use strict";function r(t,e){var n=["div",{style:"margin-top: 4px"}];return n.push(Object(o.a)({onclick:function(){return e(c.a.PROCESS_RUN,t.id)},icon:i.g(),title:"Run process"})),t.async&&n.push(Object(o.a)({onclick:function(){return e(c.a.PROCESS_STOP,t.id)},icon:i.j(),title:"Stop async process"})),n}e.b=function(t,e){var n=t.entity,r=t.value,s=t.watching,f={value:r},l=["div",{style:"margin-top: 4px"}];return s?(l.push(["button",{class:a.a,key:"edit-btn",onclick:function(){return e(c.b.ENTITY.WATCH_ACTIVE_ENTITY,!1)}},"Edit"],Object(o.a)({key:"inspect-btn-"+n.id,onclick:function(){return e(c.a.ENTITY_INSPECT,n.id)},icon:i.i(),title:"Inspect entity value"})),n.value&&l.push(Object(o.a)({key:"reset-btn-"+n.id,onclick:function(){return e(c.a.ENTITY_RESET,n.id)},icon:i.h(),title:"Reset entity value"}))):l.push(["button",{class:a.a,onclick:function(){return e(c.b.ENTITY.WATCH_ACTIVE_ENTITY,!0)}},"Cancel"],["button",{class:a.a,key:"save-btn-"+n.id,onclick:function(){var t=JSON.parse(f.value);e(c.b.ENTITY.SAVE_VALUE,t)}},"Save"]),["section",{class:u.b},["div",{class:u.d,key:n.id+s},function(t,e,n){var r="";if(null!=t)try{r=JSON.stringify(t,null,"  ")}catch(t){r="Error: "+t.message}return["code",["pre",{contentEditable:!e,onInput:function(t){return n.value=t.target.textContent}},r]]}(r,s,f)],n.id&&l]},e.a=function(t,e){function n(t){var e=["(",t.inputs.filter(function(t){return t.type!==f.PORT_TYPES.ACCUMULATOR}).map(function(t){var e=s.entities[t.eid];return(e.namespace===r.namespace?e.name:e.namespace+"/"+e.name)+"::"+t.type}).join(", "),")"];return t.autostart&&e.unshift("S"),t.async&&e.unshift("A"),e.join("")}var r=t.entity,s=t.graph,l=t.meta;if(!r.id)return["section",{class:u.b},["div",{class:u.d}]];var d=(r.processes||[]).map(function(t){return s.processes[t]}),h=d.filter(function(t){return!t.reaction}),p=d.filter(function(t){return t.reaction}),v=l?JSON.stringify(l,null,"  "):"";return["section",{class:u.b},["div",{class:u.d},["table",["tr",["th","name"],["td",r.name]],["tr",["th","namespace"],["td",r.namespace]],h.length>0&&["tr",["th","streams"],["td"].concat(h.map(function(t){return["p",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_PROCESS,t.id)}},n(t)]]}))],p.length>0&&["tr",["th","reactions"],["td"].concat(p.map(function(t){return["p",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_PROCESS,t.id)}},n(t)]]}))]],r.value&&["h3"," initial value  ",Object(o.a)({onclick:function(){return e(c.a.ENTITY_RESET,r.id)},icon:i.h(),title:"Reset entity value"})],r.value&&["code",["pre",JSON.stringify(r.value,null,"  ")]],l&&["h3"," meta data  ",["button",{class:a.a,onclick:function(){var t=JSON.parse(v);e(c.b.ENTITY.SAVE_META,{id:r.id,value:t})}},"Save"]],l&&["code",["pre",{contentEditable:!0,onInput:function(t){return v=t.target.textContent}},v]]],["div",{style:"margin-top: 4px"},Object(o.a)({key:"inspect-btn-"+r.id,onclick:function(){return e(c.a.ENTITY_INSPECT,r.id)},icon:i.i(),title:"Inspect entity value"})]]},e.d=function(t,e){var n=t.process;return["section",{class:u.b},["div",{class:u.d},["code",["pre",n.procedure.toString()]]],r(n,e)]},e.c=function(t,e){var n=t.process,i=t.graph,o=n.reaction?"Reaction":n.async?"Async Stream":"Stream";return n.autostart&&(o+=" Autostart"),n.delta&&(o="Delta "+o),["section",{class:u.b},["div",{class:u.d},["table",["tr",["td","type"],["td",o]],["tr",["td","output"],["td",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_ENTITY,n.output)}},Object(s.printEntityName)(i.entities[n.output])]]],["tr",["td","inputs"],["td"].concat(n.inputs.filter(function(t){return t.type!==f.PORT_TYPES.ACCUMULATOR}).map(function(t){return["p",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_ENTITY,t.eid)}},Object(s.printEntityName)(i.entities[t.eid])+" :: "+t.type]]}))]]],r(n,e)]};var i=n(14),o=n(15),a=n(11),u=n(16),c=n(5),s=n(7),f=n(4)},function(t,e,n){"use strict";function r(t,e,n,i,o){if(e.__entity__){var l=e.__entity__,d=["span",{class:"entity-controls"},Object(u.a)({icon:a.i(),class:c.b,onclick:function(){return i(s.a.ENTITY_INSPECT,l.id)},title:"Inspect entity value"})];null!=l.value&&d.push(Object(u.a)({class:c.b,onclick:function(){return i(s.a.ENTITY_RESET,l.id)},icon:a.h(),title:"Reset entity value"}));var h="entity-item";return n===l.id&&(h+=" selected"),["li",["div",{class:h,onclick:function(){return i(s.b.ENTITY.SET_ACTIVE_ENTITY,l.id)}},null!=l.value?a.k():a.j()," "+t+" ",d]]}var p=["li",["div",{onclick:function(){return i(s.b.TREE.TOGGLE_LEVEL,e.__path__)}},a.f(o[e.__path__]?"":f)," "+t]];if(!o[e.__path__]){var v=["ul"];for(var g in e)"__path__"!==g&&v.push(r(g,e[g],n,i,o));p.push(v)}return p}e.a=function(t,e){var n=t.fold,o=t.tree,a=t.selected,u=["ul",{class:i.c}];if(o){var c=Object.keys(o).map(function(t){return r(t,o[t],a.id,e,n)});u.push.apply(u,c)}return u};var i=n(16),o=n(1),a=(n.n(o),n(14)),u=n(15),c=n(11),s=n(5),f=Object(o.style)({transform:"rotate(90deg)"})},function(t,e,n){"use strict";e.a=function(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}},function(t,e,n){"use strict";e.a=function(t,e,n){return Math.max(t,Math.min(n,e))},Math.PI},function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;var r,i=Array.isArray(e),o=Array.isArray(n);if(i&&o){if(e.length!=n.length)return!1;for(r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if(i!=o)return!1;if(e&&n&&"object"==typeof e&&"object"==typeof n){var a=Object.keys(e);if(a.length!==Object.keys(n).length)return!1;var u=e instanceof Date,c=n instanceof Date;if(u&&c)return e.getTime()==n.getTime();if(u!=c)return!1;var s=e instanceof RegExp,f=n instanceof RegExp;if(s&&f)return e.toString()==n.toString();if(s!=f)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!t(e[a[r]],n[a[r]]))return!1;return!0}return!1}},function(t,e,n){"use strict";function r(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r*r}return Math.sqrt(e)}e.a=function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]+e[r];return n},e.e=function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]-e[r];return n},e.c=function(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]*t;return n},e.b=r,e.d=function(t){return function(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]/t;return n}(r(t),t)},n(8).a},function(t,e,n){t.exports=n(67).default,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){return a(t)||o(t)}function i(t){return"function"==typeof t}function o(t){return null===t}function a(t){return void 0===t}function u(t){throw t||(t=h),new Error("Inferno Error: "+t)}function c(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var i in e)n[i]=e[i];return n}function s(){this.listeners=[]}function f(t,e,n){if(!t._unmounted){if(e||!t._blockRender){t._pendingSetState=!1;var s=t._pendingState,f=t.state,h=c(f,s),v=t.props,g=t.context;t._pendingState=null;var m,y=t._updateComponent(f,h,v,v,g,e,!0),b=!0;if(function(t){return o(t)||!1===t||!0===t||a(t)}(y))m=l.createVNode(4096,null);else if(y===d)m=t._lastInput,b=!1;else if(function(t){var e=typeof t;return"string"===e||"number"===e}(y))m=l.createVNode(1,null,null,y);else{if(p(y))return u();m=y}var _=t._lastInput,T=t._vNode,O=_.dom&&_.dom.parentNode||(_.dom=T.dom);if(28&m.flags&&(m.parentVNode=T),t._lastInput=m,b){var E;r(t.getChildContext)||(E=t.getChildContext()),E=r(E)?t._childContext:c(g,E);var M=t._lifecycle;if(l.internal_patch(_,m,O,M,E,t._isSVG,!1),t._unmounted)return;M.trigger(),r(t.componentDidUpdate)||t.componentDidUpdate(v,f,g),o(l.options.afterUpdate)||l.options.afterUpdate(T)}var w=T.dom=m.dom;for(l.options.findDOMNodeEnabled&&l.internal_DOMNodeMap.set(t,m.dom);!r(T=T.parentVNode);)(28&T.flags)>0&&(T.dom=w)}else t.state=t._pendingState,t._pendingState=null;i(n)&&n.call(t)}}Object.defineProperty(e,"__esModule",{value:!0});var l=n(18),d="$NO_OP",h="a runtime error occured! Use Inferno in development environment to find the error.",p=Array.isArray;s.prototype.addListener=function(t){this.listeners.push(t)},s.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var v=new Map,g=Promise.resolve(),m=function(t,e){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=t||l.EMPTY_OBJ,this.context=e||l.EMPTY_OBJ};m.prototype.forceUpdate=function(t){this._unmounted||f(this,!0,t)},m.prototype.setState=function(t,e){this._unmounted||(this._blockSetState?u():function(t,e,n){i(e)&&(e=e(t.state,t.props,t.context));var o=t._pendingState;if(r(o))t._pendingState=e;else for(var a in e)o[a]=e[a];t._pendingSetState||t._blockRender?(t._pendingSetState=!0,i(n)&&t._blockRender&&t._lifecycle.addListener(n.bind(t))):t._updating?function(t,e,n){var i=v.get(t);void 0===i&&(i=[],v.set(t,i),g.then(function(){v.delete(t),t._updating=!0,f(t,!1,function(){for(var e=0,n=i.length;e<n;e++)i[e].call(t)}),t._updating=!1})),r(n)||i.push(n)}(t,0,n):(t._pendingSetState=!0,t._updating=!0,f(t,!1,n),t._updating=!1)}(this,t,e))},m.prototype._updateComponent=function(t,e,n,i,o,a,s){if(!0===this._unmounted&&u(),n!==i||i===l.EMPTY_OBJ||t!==e||a){if(n!==i||i===l.EMPTY_OBJ){if(!r(this.componentWillReceiveProps)&&!s){if(this._blockRender=!0,this.componentWillReceiveProps(i,o),this._unmounted)return d;this._blockRender=!1}this._pendingSetState&&(e=c(e,this._pendingState),this._pendingSetState=!1,this._pendingState=null)}if(a||r(this.shouldComponentUpdate)||this.shouldComponentUpdate&&this.shouldComponentUpdate(i,e,o)){r(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(i,e,o),this._blockSetState=!1),this.props=i,this.state=e,this.context=o,l.options.beforeRender&&l.options.beforeRender(this);var f=this.render(i,e,o);return l.options.afterRender&&l.options.afterRender(this),f}this.props=i,this.state=e,this.context=o}return d},m.prototype.render=function(t,e,n){},e.default=m},function(t,e,n){"use strict";function r(t){var e=typeof t;return"string"===e||"number"===e}function i(t){return f(t)||s(t)}function o(t){return s(t)||!1===t||function(t){return!0===t}(t)||f(t)}function a(t){return"function"==typeof t}function u(t){return"string"==typeof t}function c(t){return"number"==typeof t}function s(t){return null===t}function f(t){return void 0===t}function l(t){return"object"==typeof t}function d(t){throw t||(t=St),new Error("Inferno Error: "+t)}function h(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var i in e)n[i]=e[i];return n}function p(){this.listeners=[]}function v(t,e,n,r){var i=Ht.get(t);if(n)i||((i={items:new Map,docEvent:null}).docEvent=function(t,e){var n=function(t){var n=e.items.size;if(n>0){t.stopPropagation=m;var r={dom:document};try{Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(t){}!function(t,e,n,r,i,o){for(var a=e;r>0;){if(i&&a.disabled)return;var u=n.get(a);if(u&&(r--,o.dom=a,u.event?u.event(u.data,t):u(t),t.cancelBubble))return;if(null===(a=a.parentNode))return}}(t,t.target,e.items,n,"click"===t.type,r)}};return document.addEventListener(g(t),n),n}(t,i),Ht.set(t,i)),e||Ft&&"onClick"===t&&function(t){t.onclick=y}(r),i.items.set(r,n);else if(i){var o=i.items;o.delete(r)&&0===o.size&&(document.removeEventListener(g(t),i.docEvent),Ht.delete(t))}}function g(t){return t.substr(2).toLowerCase()}function m(){this.cancelBubble=!0,this.stopImmediatePropagation()}function y(){}function b(t){return"checkbox"===t||"radio"===t}function _(t){var e=this.vNode,n=e.props||Wt,r=e.dom,i=n.value;if(n.onInput){var o=n.onInput;o.event?o.event(o.data,t):o(t)}else n.oninput&&n.oninput(t);var a=this.vNode.props||Wt;i!==a.value&&E(a,r)}function T(t){var e=(this.vNode.props||Wt).onChange;e.event?e.event(e.data,t):e(t)}function O(t){t.stopPropagation();var e=this.vNode,n=e.props||Wt,r=e.dom;if(n.onClick){var i=n.onClick;i.event?i.event(i.data,t):i(t)}else n.onclick&&n.onclick(t);E(this.vNode.props||Wt,r)}function E(t,e){var n=t.type,r=t.value,o=t.checked,a=t.multiple,u=t.defaultValue,c=!i(r);n&&n!==e.type&&e.setAttribute("type",n),a&&a!==e.multiple&&(e.multiple=a),i(u)||c||(e.defaultValue=u+""),b(n)?(c&&(e.value=r),i(o)||(e.checked=o)):c&&e.value!==r?(e.defaultValue=r,e.value=r):i(o)||(e.checked=o)}function M(t,e){if("optgroup"===t.type){var n=t.children;if(xt(n))for(var r=0,i=n.length;r<i;r++)w(n[r],e);else gt(n)&&w(n,e)}else w(t,e)}function w(t,e){var n=t.props||Wt,r=t.dom;r.value=n.value,xt(e)&&-1!==e.indexOf(n.value)||n.value===e?r.selected=!0:i(e)&&i(n.selected)||(r.selected=n.selected||!1)}function S(t){var e=this.vNode,n=e.props||Wt,r=e.dom,i=n.value;if(n.onChange){var o=n.onChange;o.event?o.event(o.data,t):o(t)}else n.onchange&&n.onchange(t);var a=this.vNode,u=a.props||Wt;i!==u.value&&A(a,r,u,!1)}function A(t,e,n,r){n.multiple!==e.multiple&&(e.multiple=n.multiple);var a=t.children;if(!o(a)){var u=n.value;if(r&&i(u)&&(u=n.defaultValue),xt(a))for(var c=0,s=a.length;c<s;c++)M(a[c],u);else gt(a)&&M(a,u)}}function x(t){var e=(this.vNode.props||Wt).onChange;e.event?e.event(e.data,t):e(t)}function I(t){var e=this.vNode,n=e.props||Wt,r=n.value;if(n.onInput){var i=n.onInput;i.event?i.event(i.data,t):i(t)}else n.oninput&&n.oninput(t);var o=this.vNode;r!==(o.props||Wt).value&&C(o,e.dom,!1)}function C(t,e,n){var r=t.value,o=e.value;if(i(r)){if(n){var a=t.defaultValue;i(a)?""!==o&&(e.defaultValue="",e.value=""):a!==o&&(e.defaultValue=a,e.value=a)}}else o!==r&&(e.defaultValue=r,e.value=r)}function k(t,e,n,r,i,o){(512&t)>0?function(t,e,n,r,i){E(n,e),i&&(e.vNode=t,r&&(b(n.type)?(e.onclick=O,e.onclick.wrapped=!0):(e.oninput=_,e.oninput.wrapped=!0),n.onChange&&(e.onchange=T,e.onchange.wrapped=!0)))}(e,n,r,i,o):(2048&t)>0?function(t,e,n,r,i){A(t,e,n,r),i&&(e.vNode=t,r&&(e.onchange=S,e.onchange.wrapped=!0))}(e,n,r,i,o):(1024&t)>0&&function(t,e,n,r,i){C(n,e,r),i&&(e.vNode=t,r&&(e.oninput=I,e.oninput.wrapped=!0,n.onChange&&(e.onchange=x,e.onchange.wrapped=!0)))}(e,n,r,i,o)}function j(t){return t.type&&b(t.type)?!i(t.checked):!i(t.value)}function N(t,e,n,a,u){var c=t.children,f=t.props,d=t.className,h=t.flags,p=t.ref;if(u=u||(128&h)>0,1!==e.nodeType||e.tagName.toLowerCase()!==t.type){var v=$(t,null,n,a,u);return t.dom=v,ct(e.parentNode,v,e),v}if(t.dom=e,o(c)?null===e.firstChild||function(t,e){return Boolean(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&ft(t,e.dangerouslySetInnerHTML.__html))}(e,f)||(e.textContent=""):function(t,e,n,i,o){!function(t){for(var e=t.firstChild;e;)if(8===e.nodeType)if("!"===e.data){var n=document.createTextNode("");t.replaceChild(n,e),e=e.nextSibling}else{var r=e.previousSibling;t.removeChild(e),e=r||t.firstChild}else e=e.nextSibling}(e);var a=e.firstChild;if(r(t))s(a)||3!==a.nodeType?""===t?e.appendChild(document.createTextNode("")):e.textContent=t:a.nodeValue!==t&&(a.nodeValue=t),s(a)||(a=a.nextSibling);else if(xt(t))for(var u=0,c=t.length;u<c;u++){var f=t[u];if(!s(f)&&l(f))if(s(a))W(f,e,n,i,o);else{var d=a.nextSibling;R(f,a,n,i,o),a=d}}else s(a)?W(t,e,n,i,o):(R(t,a,n,i,o),a=a.nextSibling);for(;a;){var h=a.nextSibling;e.removeChild(a),a=h}}(c,e,n,a,u),f){var g=!1,m=(3584&h)>0;for(var y in m&&(g=j(f)),f)G(y,null,f[y],e,u,g);m&&k(h,t,e,f,!0,g)}return i(d)?""!==e.className&&e.removeAttribute("class"):u?e.setAttribute("class",d):e.className=d,p&&tt(e,p,n),e}function R(t,e,n,r,i){var o=t.flags;28&o?function(t,e,n,r,i,o){var a=t.type,u=t.ref,c=t.props||Wt;if(o){var s=e.namespaceURI===jt,f=et(t,a,c,r,s,n),l=f._lastInput;f._vNode=t,R(l,e,n,f._childContext,s),t.dom=l.dom,J(t,u,f,n),f._updating=!1,It.findDOMNodeEnabled&&Bt.set(f,e)}else{var d=rt(t,a,c,r);R(d,e,n,r,i),t.children=d,t.dom=d.dom,Z(c,u,e,n)}}(t,e,n,r,i,(4&o)>0):3970&o?N(t,e,n,r,i):1&o?function(t,e){if(3!==e.nodeType){var n=q(t,null);return t.dom=n,ct(e.parentNode,n,e),n}var r=t.children;e.nodeValue!==r&&(e.nodeValue=r),t.dom=e}(t,e):4096&o?function(t,e){t.dom=e}(t,e):d()}function P(t,e,n,r,u){var c=t.flags,d=t.dom;if(28&c){var h=t.children,p=(4&c)>0,v=t.props||Wt,g=t.ref;u||(p?h._unmounted||(s(It.beforeUnmount)||It.beforeUnmount(t),f(h.componentWillUnmount)||h.componentWillUnmount(),g&&!u&&g(null),h._unmounted=!0,It.findDOMNodeEnabled&&Bt.delete(h),P(h._lastInput,null,h._lifecycle,!1,u)):(i(g)||i(g.onComponentWillUnmount)||g.onComponentWillUnmount(d,v),P(h,null,n,!1,u))),It.recyclingEnabled&&!p&&(e||r)&&function(t){var e=t.ref;if(!e||!(e.onComponentWillMount||e.onComponentWillUnmount||e.onComponentDidMount||e.onComponentWillUpdate||e.onComponentDidUpdate)){var n=t.type,r=t.key,i=zt.get(n);if(f(i)&&(i={keyed:new Map,nonKeyed:[]},zt.set(n,i)),s(r))i.nonKeyed.push(t);else{var o=i.keyed.get(r);f(o)&&(o=[],i.keyed.set(r,o)),o.push(t)}}}(t)}else if(3970&c){var m=t.ref,y=t.props;!u&&a(m)&&m(null);var b=t.children;if(!i(b))if(xt(b))for(var _=0,T=b.length;_<T;_++){var O=b[_];!o(O)&&l(O)&&P(O,null,n,!1,u)}else l(b)&&P(b,null,n,!1,u);if(!s(y))for(var E in y)null!==y[E]&&B(E)&&(Y(E,y[E],null,d),y[E]=null);It.recyclingEnabled&&(e||r)&&function(t){var e=t.type,n=t.key,r=Vt.get(e);if(f(r)&&(r={keyed:new Map,nonKeyed:[]},Vt.set(e,r)),s(n))r.nonKeyed.push(t);else{var i=r.keyed.get(n);f(i)&&(i=[],r.keyed.set(n,i)),i.push(t)}}(t)}s(e)||function(t,e){t.removeChild(e)}(e,d)}function D(t){It.findDOMNodeEnabled||d();var e=t&&t.nodeType?t:null;return Bt.get(t)||e}function L(t,e){if(Yt===e&&d(),t!==wt){var n=function(t){for(var e=0,n=Gt.length;e<n;e++){var r=Gt[e];if(r.dom===t)return r}return null}(e);if(s(n)){var r=new p;o(t)||(t.dom&&(t=dt(t)),function(t,e,n){if(!s(e)){var r=e.firstChild;if(!s(r)){for(R(t,r,n,Wt,!1),r=e.firstChild;r=r.nextSibling;)e.removeChild(r);return!0}}return!1}(t,e,r)||W(t,e,r,Wt,!1),n=function(t,e,n){var r={dom:t,input:e,lifecycle:n};return Gt.push(r),r}(e,t,r),r.trigger())}else{var a=n.lifecycle;a.listeners=[],i(t)?(P(n.input,e,a,!1,!1),function(t){for(var e=0,n=Gt.length;e<n;e++)if(Gt[e]===t)return void Gt.splice(e,1)}(n)):(t.dom&&(t=dt(t)),F(n.input,t,e,a,Wt,!1,!1)),n.input=t,a.trigger()}if(n){var u=n.input;if(u&&28&u.flags)return u.children}}}function U(t){return function(e,n){t||(t=e),L(n,t)}}function F(t,e,n,r,i,o,a){if(t!==e){var u=t.flags,c=e.flags;if(28&c){var s=(4&c)>0;28&u?V(t,e,n,r,i,o,s,a):nt(n,Q(e,null,r,i,o,s),t,r,a)}else 3970&c?3970&u?z(t,e,n,r,i,o,a):nt(n,$(e,null,r,i,o),t,r,a):1&c?1&u?function(t,e){var n=e.children,r=t.dom;e.dom=r,t.children!==n&&(r.nodeValue=n)}(t,e):nt(n,q(e,null),t,r,a):4096&c?4096&u?function(t,e){e.dom=t.dom}(t,e):nt(n,X(e,null),t,r,a):function(t,e,n,r,i,o,a){nt(n,W(e,null,r,i,o),t,r,a)}(t,e,n,r,i,o,a)}}function H(t,e,n,r){gt(t)?P(t,e,n,!0,r):xt(t)?st(e,t,n,r):e.textContent=""}function z(t,e,n,a,u,c,l){var d=e.type;if(t.type!==d)ut(t,e,n,a,u,c,l);else{var h=t.dom,p=t.props,g=e.props,m=t.children,y=e.children,b=t.flags,_=e.flags,T=e.ref,O=t.className,E=e.className;if(e.dom=h,c=c||(128&_)>0,m!==y&&function(t,e,n,a,u,c,l,d,h){var p=!1,v=!1;if(64&e?p=!0:(32&t)>0&&(32&e)>0?(v=!0,p=!0):o(a)?H(n,u,c,h):o(n)?r(a)?it(u,a):xt(a)?K(a,u,c,l,d):W(a,u,c,l,d):r(a)?r(n)?function(t,e){var n=t.firstChild;s(n)?it(t,e):n.nodeValue=e}(u,a):(H(n,u,c,h),it(u,a)):xt(a)?xt(n)?(p=!0,function(t,e){return e.length>0&&!i(e[0])&&!i(e[0].key)&&t.length>0&&!i(t[0])&&!i(t[0].key)}(n,a)&&(v=!0)):(H(n,u,c,h),K(a,u,c,l,d)):xt(n)?(st(u,n,c,h),W(a,u,c,l,d)):gt(a)&&(gt(n)?F(n,a,u,c,l,d,h):(H(n,u,c,h),W(a,u,c,l,d))),p){var g=n.length,m=a.length;0===g?m>0&&K(a,u,c,l,d):0===m?st(u,n,c,h):v?function(t,e,n,r,i,o,a,u,c){var l,d,h,p,v,g,m,y=u-1,b=c-1,_=0,T=0,O=t[_],E=e[T],M=t[y],w=e[b];E.dom&&(e[T]=E=dt(E)),w.dom&&(e[b]=w=dt(w));t:{for(;O.key===E.key;){if(F(O,E,n,r,i,o,a),T++,++_>y||T>b)break t;O=t[_],(E=e[T]).dom&&(e[T]=E=dt(E))}for(;M.key===w.key;){if(F(M,w,n,r,i,o,a),b--,_>--y||T>b)break t;M=t[y],(w=e[b]).dom&&(e[b]=w=dt(w))}}if(_>y){if(T<=b)for(v=(g=b+1)<c?e[g].dom:null;T<=b;)(m=e[T]).dom&&(e[T]=m=dt(m)),T++,at(n,W(m,null,r,i,o),v)}else if(T>b)for(;_<=y;)P(t[_++],n,r,!1,a);else{var S=y-_+1,A=b-T+1,x=new Array(A);for(l=0;l<A;l++)x[l]=-1;var I=!1,C=0,k=0;if(A<=4||S*A<=16){for(l=_;l<=y;l++)if(h=t[l],k<A)for(d=T;d<=b;d++)if(p=e[d],h.key===p.key){x[d-T]=l,C>d?I=!0:C=d,p.dom&&(e[d]=p=dt(p)),F(h,p,n,r,i,o,a),k++,t[l]=null;break}}else{var j=new Map;for(l=T;l<=b;l++)j.set(e[l].key,l);for(l=_;l<=y;l++)h=t[l],k<A&&(f(d=j.get(h.key))||(p=e[d],x[d-T]=l,C>d?I=!0:C=d,p.dom&&(e[d]=p=dt(p)),F(h,p,n,r,i,o,a),k++,t[l]=null))}if(S===u&&0===k)for(st(n,t,r,a);T<A;)(m=e[T]).dom&&(e[T]=m=dt(m)),T++,at(n,W(m,null,r,i,o),null);else{for(l=S-k;l>0;)s(h=t[_++])||(P(h,n,r,!0,a),l--);if(I){var N=function(t){var e,n,r,i,o,a=t.slice(0),u=[0],c=t.length;for(e=0;e<c;e++){var s=t[e];if(-1!==s){if(n=u[u.length-1],t[n]<s){a[e]=n,u.push(e);continue}for(r=0,i=u.length-1;r<i;)t[u[o=(r+i)/2|0]]<s?r=o+1:i=o;s<t[u[r]]&&(r>0&&(a[e]=u[r-1]),u[r]=e)}}for(r=u.length,i=u[r-1];r-- >0;)u[r]=i,i=a[i];return u}(x);for(d=N.length-1,l=A-1;l>=0;l--)-1===x[l]?((m=e[C=l+T]).dom&&(e[C]=m=dt(m)),g=C+1,at(n,W(m,null,r,i,o),g<c?e[g].dom:null)):d<0||l!==N[d]?(m=e[C=l+T],g=C+1,at(n,m.dom,g<c?e[g].dom:null)):d--}else if(k!==A)for(l=A-1;l>=0;l--)-1===x[l]&&((m=e[C=l+T]).dom&&(e[C]=m=dt(m)),g=C+1,at(n,W(m,null,r,i,o),g<c?e[g].dom:null))}}}(n,a,u,c,l,d,h,g,m):function(t,e,n,r,i,o,a,u,c){for(var s=u>c?c:u,f=0;f<s;f++){var l=e[f];l.dom&&(l=e[f]=dt(l)),F(t[f],l,n,r,i,o,a)}if(u<c)for(f=s;f<c;f++){var d=e[f];d.dom&&(d=e[f]=dt(d)),ot(n,W(d,null,r,i,o))}else if(u>c)for(f=s;f<u;f++)P(t[f],n,r,!1,a)}(n,a,u,c,l,d,h,g,m)}}(b,_,m,y,h,a,u,!0===c&&"foreignObject"!==e.type,l),p!==g){var M=p||Wt,w=g||Wt,S=!1;if(w!==Wt){var A=(3584&_)>0;for(var x in A&&(S=j(w)),w){var I=w[x];G(x,M[x],I,h,c,S)}A&&k(_,e,h,w,l,S)}if(M!==Wt)for(var C in M)i(w[C])&&!i(M[C])&&function(t,e,n,r){"value"===t?n.value=2048&r?null:"":"style"===t?n.removeAttribute("style"):B(t)?v(t,e,null,n):n.removeAttribute(t)}(C,M[C],h,_)}O!==E&&(i(E)?h.removeAttribute("class"):c?h.setAttribute("class",E):h.className=E),T&&(t.ref!==T||l)&&tt(h,T,a)}}function V(t,e,n,a,u,c,p,v){var g=t.type,m=e.type,y=t.key,b=e.key;if(g!==m||y!==b)return ut(t,e,n,a,u,c,v),!1;var _=e.props||Wt;if(p){var T=t.children;if(T._updating=!0,T._unmounted){if(s(n))return!0;ct(n,Q(e,null,a,u,c,(4&e.flags)>0),t.dom)}else{var O=!f(T.componentDidUpdate),E=T.state,M=O?h(E,null):E,w=T.props;e.children=T,T._isSVG=c;var S=T._lastInput,A=T._updateComponent(M,E,w,_,u,!1,!1);if(T._unmounted)return!1;var x,I=!0;i(T.getChildContext)||(x=T.getChildContext()),x=i(x)?u:h(u,x),T._childContext=x,o(A)?A=pt():A===wt?(A=S,I=!1):r(A)?A=vt(A,null):xt(A)?d():l(A)&&(s(A.dom)||(A=dt(A))),28&A.flags?A.parentVNode=e:28&S.flags&&(S.parentVNode=e),T._lastInput=A,T._vNode=e,I&&(F(S,A,n,a,x,c,v),O&&T.componentDidUpdate&&T.componentDidUpdate(w,M),s(It.afterUpdate)||It.afterUpdate(e),It.findDOMNodeEnabled&&Bt.set(T,A.dom)),e.dom=A.dom}T._updating=!1}else{var C=!0,k=t.props,j=e.ref,N=!i(j),R=t.children,P=R;e.dom=t.dom,e.children=R,y!==b?C=!0:N&&!i(j.onComponentShouldUpdate)&&(C=j.onComponentShouldUpdate(k,_)),!1!==C&&(N&&!i(j.onComponentWillUpdate)&&j.onComponentWillUpdate(k,_),o(P=m(_,u))?P=pt():r(P)&&P!==wt?P=vt(P,null):xt(P)?d():l(P)&&(s(P.dom)||(P=dt(P))),P!==wt&&(F(R,P,n,a,u,c,v),e.children=P,N&&!i(j.onComponentDidUpdate)&&j.onComponentDidUpdate(k,_),e.dom=P.dom)),28&P.flags?P.parentVNode=e:28&R.flags&&(R.parentVNode=e)}return!1}function B(t){return"o"===t[0]&&"n"===t[1]}function G(t,e,n,r,o,a){if(e!==n){if(Lt.has(t)||a&&"value"===t)return;if(Rt.has(t))r[t="autoFocus"===t?t.toLowerCase():t]=!!n;else if(Nt.has(t)){var s=i(n)?"":n;r[t]!==s&&(r[t]=s)}else if(B(t))Y(t,e,n,r);else if(i(n))r.removeAttribute(t);else if("style"===t)!function(t,e,n){var r,o,a=n.style;if(u(e))a.cssText=e;else if(i(t)||u(t))for(r in e)o=e[r],a[r]=!c(o)||Dt.has(r)?o:o+"px";else{for(r in e)(o=e[r])!==t[r]&&(a[r]=!c(o)||Dt.has(r)?o:o+"px");for(r in t)i(e[r])&&(a[r]="")}}(e,n,r);else if("dangerouslySetInnerHTML"===t){var f=e&&e.__html,l=n&&n.__html;f!==l&&(i(l)||ft(r,l)||(r.innerHTML=l))}else o&&Pt.has(t)?r.setAttributeNS(Pt.get(t),t,n):r.setAttribute(t,n)}}function Y(t,e,n,r){if(e!==n)if(Ut.has(t))v(t,e,n,r);else{var o=t.toLowerCase(),u=r[o];if(u&&u.wrapped)return;if(a(n)||i(n))r[o]=n;else{var c=n.event;c&&a(c)?r[o]=function(t){c(n.data,t)}:d()}}}function W(t,e,n,r,i){var o=t.flags;return 3970&o?$(t,e,n,r,i):28&o?Q(t,e,n,r,i,(4&o)>0):4096&o?X(t,e):1&o?q(t,e):void d()}function q(t,e){var n=document.createTextNode(t.children);return t.dom=n,s(e)||ot(e,n),n}function X(t,e){var n=document.createTextNode("");return t.dom=n,s(e)||ot(e,n),n}function $(t,e,n,i,a){var u;if(It.recyclingEnabled&&!s(u=function(t,e,n,r){var i=t.type,o=Vt.get(i);if(!f(o)){var a=t.key,u=null===a?o.nonKeyed:o.keyed.get(a);if(!f(u)){var c=u.pop();if(!f(c))return z(c,t,null,e,n,r,!0),t.dom}}return null}(t,n,i,a)))return s(e)||ot(e,u),u;var c=t.flags;a=a||(128&c)>0,u=function(t,e){return document.createElement(t)}(t.type);var l=t.children,d=t.props,h=t.className,p=t.ref;if(t.dom=u,!o(l))if(r(l))it(u,l);else{var v=!0===a&&"foreignObject"!==t.type;xt(l)?K(l,u,n,i,v):gt(l)&&W(l,u,n,i,v)}if(!s(d)){var g=!1,m=(3584&c)>0;for(var y in m&&(g=j(d)),d)G(y,null,d[y],u,a,g);m&&k(c,t,u,d,!0,g)}return null!==h&&(a?u.setAttribute("class",h):u.className=h),s(p)||tt(u,p,n),s(e)||ot(e,u),u}function K(t,e,n,r,i){for(var a=0,u=t.length;a<u;a++){var c=t[a];o(c)||(c.dom&&(t[a]=c=dt(c)),W(t[a],e,n,r,i))}}function Q(t,e,n,r,i,o){var a;if(It.recyclingEnabled&&!s(a=function(t,e,n,r){var i=t.type,o=zt.get(i);if(!f(o)){var a=t.key,u=null===a?o.nonKeyed:o.keyed.get(a);if(!f(u)){var c=u.pop();if(!f(c)&&!V(c,t,null,e,n,r,(4&t.flags)>0,!0))return t.dom}}return null}(t,n,r,i)))return s(e)||ot(e,a),a;var u=t.type,c=t.props||Wt,l=t.ref;if(o){var d=et(t,u,c,r,i,n),h=d._lastInput;d._vNode=t,t.dom=a=W(h,null,n,d._childContext,i),s(e)||ot(e,a),J(t,l,d,n),d._updating=!1,It.findDOMNodeEnabled&&Bt.set(d,a)}else{var p=rt(t,u,c,r);t.dom=a=W(p,null,n,r,i),t.children=p,Z(c,l,a,n),s(e)||ot(e,a)}return a}function J(t,e,n,r){e&&(a(e)?e(n):d());var i=!f(n.componentDidMount),o=It.afterMount;!i&&s(o)||r.addListener(function(){n._updating=!0,o&&o(t),i&&n.componentDidMount(),n._updating=!1})}function Z(t,e,n,r){e&&(i(e.onComponentWillMount)||e.onComponentWillMount(t),i(e.onComponentDidMount)||r.addListener(function(){return e.onComponentDidMount(n,t)}))}function tt(t,e,n){if(a(e))n.addListener(function(){return e(t)});else{if(o(e))return;d()}}function et(t,e,n,a,u,c){f(a)&&(a=Wt);var l,p=new e(n,a);if(t.children=p,p._blockSetState=!1,p.context=a,p.props===Wt&&(p.props=n),p._lifecycle=c,p._unmounted=!1,p._isSVG=u,!i(p.componentWillMount)){if(p._blockRender=!0,p.componentWillMount(),p._pendingSetState){var v=p.state,g=p._pendingState;if(null===v)p.state=g;else for(var m in g)v[m]=g[m];p._pendingSetState=!1,p._pendingState=null}p._blockRender=!1}i(p.getChildContext)||(l=p.getChildContext()),i(l)?p._childContext=a:p._childContext=h(a,l),s(It.beforeRender)||It.beforeRender(p);var y=p.render(n,p.state,a);return s(It.afterRender)||It.afterRender(p),xt(y)?d():o(y)?y=pt():r(y)?y=vt(y,null):(y.dom&&(y=dt(y)),28&y.flags&&(y.parentVNode=t)),p._lastInput=y,p}function nt(t,e,n,r,i){P(n,null,r,!1,i),ct(t,e,n.dom)}function rt(t,e,n,i){var a=e(n,i);return xt(a)?d():o(a)?a=pt():r(a)?a=vt(a,null):(a.dom&&(a=dt(a)),28&a.flags&&(a.parentVNode=t)),a}function it(t,e){""!==e?t.textContent=e:t.appendChild(document.createTextNode(""))}function ot(t,e){t.appendChild(e)}function at(t,e,n){i(n)?ot(t,e):t.insertBefore(e,n)}function ut(t,e,n,r,i,o,a){P(t,null,r,!1,a);var u=W(e,null,r,i,o);e.dom=u,ct(n,u,t.dom)}function ct(t,e,n){t||(t=n.parentNode),t.replaceChild(e,n)}function st(t,e,n,r){(!It.recyclingEnabled||It.recyclingEnabled&&!r)&&function(t,e,n,r){for(var i=0,a=e.length;i<a;i++){var u=e[i];o(u)||P(u,null,n,!0,r)}}(0,e,n,r),t.textContent=""}function ft(t,e){var n=document.createElement("i");return n.innerHTML=e,n.innerHTML===t.innerHTML}function lt(t,e,n,r,i,o,a,u){16&t&&(t=function(t){return!f(t.prototype)&&!f(t.prototype.render)}(e)?4:8);var c={children:void 0===r?null:r,className:void 0===n?null:n,dom:null,flags:t,key:void 0===o?null:o,props:void 0===i?null:i,ref:void 0===a?null:a,type:e};return!0!==u&&Et(c),null!==It.createVNode&&It.createVNode(c),c}function dt(t){var e,n=t.flags;if(28&n){var i,a=t.props;if(s(a))i=Wt;else for(var u in i={},a)i[u]=a[u];var c=(e=lt(n,t.type,null,null,i,t.key,t.ref,!0)).props,f=c.children;if(f)if(xt(f)){var l=f.length;if(l>0){for(var d=[],h=0;h<l;h++){var p=f[h];r(p)?d.push(p):!o(p)&&gt(p)&&d.push(dt(p))}c.children=d}}else gt(f)&&(c.children=dt(f));e.children=null}else if(3970&n){var v,g=t.children,m=t.props;if(null===m)v=Wt;else for(var y in v={},m)v[y]=m[y];e=lt(n,t.type,t.className,g,v,t.key,t.ref,!g)}else 1&n&&(e=vt(t.children,t.key));return e}function ht(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var a,u=n,c=n.length;if(c>0&&!f(n[0])&&(e||(e={}),1===c&&(u=n[0]),f(u)||(e.children=u)),xt(t)){for(var s=[],l=0,d=t.length;l<d;l++)s.push(dt(t[l]));a=s}else{var p=t.flags,v=t.className,g=t.key,m=t.ref;if(e&&(e.hasOwnProperty("className")&&(v=e.className),e.hasOwnProperty("ref")&&(m=e.ref),e.hasOwnProperty("key")&&(g=e.key)),28&p){var y=(a=lt(p,t.type,v,null,t.props||e?h(t.props,e):Wt,g,m,!0)).props;if(y){var b=y.children;if(b)if(xt(b)){var _=b.length;if(_>0){for(var T=[],O=0;O<_;O++){var E=b[O];r(E)?T.push(E):!o(E)&&gt(E)&&T.push(dt(E))}y.children=T}}else gt(b)&&(y.children=dt(b))}a.children=null}else 3970&p?(u=e&&!f(e.children)?e.children:t.children,a=lt(p,t.type,v,u,t.props||e?h(t.props,e):Wt,g,m,!1)):1&p&&(a=vt(t.children,g))}return a}function pt(){return lt(4096,null)}function vt(t,e){return lt(1,null,null,t,null,e)}function gt(t){return!!t.flags}function mt(t,e){return e.key=t,e}function yt(t,e){return c(t)&&(t="."+t),s(e.key)||"."===e.key[0]?mt(t,e):e}function bt(t,e){return e.key=t+e.key,e}function _t(t,e,n,i){for(var a=t.length;n<a;n++){var u=t[n],c=i+"."+n;o(u)||(xt(u)?_t(u,e,0,c):(r(u)?u=vt(u,null):(gt(u)&&u.dom||u.key&&"."===u.key[0])&&(u=dt(u)),u=s(u.key)||"."===u.key[0]?mt(c,u):bt(i,u),e.push(u)))}}function Tt(t){return xt(t)?function(t){var e;!0===t.$?t=t.slice():t.$=!0;for(var n=0,i=t.length;n<i;n++){var a=t[n];if(o(a)||xt(a)){var u=(e||t).slice(0,n);return _t(t,u,n,""),u}r(a)?(e||(e=t.slice(0,n)),e.push(yt(n,vt(a,null)))):gt(a)&&null!==a.dom||s(a.key)&&0==(64&a.flags)?(e||(e=t.slice(0,n)),e.push(yt(n,dt(a)))):e&&e.push(yt(n,dt(a)))}return e||t}(t):gt(t)&&null!==t.dom?dt(t):t}function Ot(t){return"svg"===t?128:"input"===t?512:"select"===t?2048:"textarea"===t?1024:"media"===t?256:2}function Et(t){var e=t.props,n=t.children;if(28&t.flags){var r=t.type,a=r.defaultProps;if(!i(a))if(e)for(var c in a)f(e[c])&&(e[c]=a[c]);else e=t.props=a;u(r)&&(t.flags=Ot(r),e&&e.children&&(t.children=e.children,n=e.children))}e&&(function(t,e,n){3970&t.flags&&(i(n)&&e.hasOwnProperty("children")&&(t.children=e.children),e.hasOwnProperty("className")&&(t.className=e.className||null,delete e.className)),e.hasOwnProperty("ref")&&(t.ref=e.ref,delete e.ref),e.hasOwnProperty("key")&&(t.key=e.key,delete e.key)}(t,e,n),o(e.children)||(e.children=Tt(e.children))),o(n)||(t.children=Tt(n))}function Mt(t,e){return a(e)?{data:t,event:e}:null}Object.defineProperty(e,"__esModule",{value:!0});var wt="$NO_OP",St="a runtime error occured! Use Inferno in development environment to find the error.",At=!("undefined"==typeof window||!window.document),xt=Array.isArray;p.prototype.addListener=function(t){this.listeners.push(t)},p.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var It={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]},Ct="http://www.w3.org/1999/xlink",kt="http://www.w3.org/XML/1998/namespace",jt="http://www.w3.org/2000/svg",Nt=new Set;Nt.add("volume"),Nt.add("defaultChecked");var Rt=new Set;Rt.add("muted"),Rt.add("scoped"),Rt.add("loop"),Rt.add("open"),Rt.add("checked"),Rt.add("default"),Rt.add("capture"),Rt.add("disabled"),Rt.add("readOnly"),Rt.add("required"),Rt.add("autoplay"),Rt.add("controls"),Rt.add("seamless"),Rt.add("reversed"),Rt.add("allowfullscreen"),Rt.add("novalidate"),Rt.add("hidden"),Rt.add("autoFocus"),Rt.add("selected"),Rt.add("indeterminate");var Pt=new Map;Pt.set("xlink:href",Ct),Pt.set("xlink:arcrole",Ct),Pt.set("xlink:actuate",Ct),Pt.set("xlink:show",Ct),Pt.set("xlink:role",Ct),Pt.set("xlink:title",Ct),Pt.set("xlink:type",Ct),Pt.set("xml:base",kt),Pt.set("xml:lang",kt),Pt.set("xml:space",kt);var Dt=new Set;Dt.add("animationIterationCount"),Dt.add("borderImageOutset"),Dt.add("borderImageSlice"),Dt.add("borderImageWidth"),Dt.add("boxFlex"),Dt.add("boxFlexGroup"),Dt.add("boxOrdinalGroup"),Dt.add("columnCount"),Dt.add("flex"),Dt.add("flexGrow"),Dt.add("flexPositive"),Dt.add("flexShrink"),Dt.add("flexNegative"),Dt.add("flexOrder"),Dt.add("gridRow"),Dt.add("gridColumn"),Dt.add("fontWeight"),Dt.add("lineClamp"),Dt.add("lineHeight"),Dt.add("opacity"),Dt.add("order"),Dt.add("orphans"),Dt.add("tabSize"),Dt.add("widows"),Dt.add("zIndex"),Dt.add("zoom"),Dt.add("fillOpacity"),Dt.add("floodOpacity"),Dt.add("stopOpacity"),Dt.add("strokeDasharray"),Dt.add("strokeDashoffset"),Dt.add("strokeMiterlimit"),Dt.add("strokeOpacity"),Dt.add("strokeWidth");var Lt=new Set;Lt.add("children"),Lt.add("childrenType"),Lt.add("defaultValue"),Lt.add("ref"),Lt.add("key"),Lt.add("checked"),Lt.add("multiple");var Ut=new Set;Ut.add("onClick"),Ut.add("onMouseDown"),Ut.add("onMouseUp"),Ut.add("onMouseMove"),Ut.add("onSubmit"),Ut.add("onDblClick"),Ut.add("onKeyDown"),Ut.add("onKeyUp"),Ut.add("onKeyPress");var Ft=At&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),Ht=new Map,zt=new Map,Vt=new Map,Bt=new Map,Gt=It.roots,Yt=At?document.body:null,Wt={},qt={EMPTY_OBJ:Wt,NO_OP:wt,cloneVNode:ht,createRenderer:U,createVNode:lt,findDOMNode:D,getFlagsForElementVnode:Ot,internal_DOMNodeMap:Bt,internal_isUnitlessNumber:Dt,internal_normalize:Et,internal_patch:F,linkEvent:Mt,options:It,render:L,version:"3.10.1"};e.default=qt,e.EMPTY_OBJ=Wt,e.NO_OP=wt,e.cloneVNode=ht,e.createRenderer=U,e.createVNode=lt,e.findDOMNode=D,e.getFlagsForElementVnode=Ot,e.internal_DOMNodeMap=Bt,e.internal_isUnitlessNumber=Dt,e.internal_normalize=Et,e.internal_patch=F,e.linkEvent=Mt,e.options=It,e.render=L,e.version="3.10.1"},function(t,e,n){"use strict";function r(t){return o(t)||i(t)}function i(t){return null===t}function o(t){return void 0===t}function a(){this.listeners=[]}Object.defineProperty(e,"__esModule",{value:!0});var u=n(18);a.prototype.addListener=function(t){this.listeners.push(t)},a.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var c=new Set;c.add("onComponentWillMount"),c.add("onComponentDidMount"),c.add("onComponentWillUnmount"),c.add("onComponentShouldUpdate"),c.add("onComponentWillUpdate"),c.add("onComponentDidUpdate"),e.default=function(t,e){for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];if(function(t){return i(t)||!1===t||!0===t||o(t)}(t)||"object"==typeof t)throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var s,f=n,l=null,d=null,h=null,p=0;if(n&&(1===n.length?f=n[0]:0===n.length&&(f=void 0)),"string"==typeof t){if(p=u.getFlagsForElementVnode(t),!r(e))for(var v in s={},e)"className"===v||"class"===v?h=e[v]:"key"===v?d=e.key:"children"===v&&o(f)?f=e.children:"ref"===v?l=e.ref:s[v]=e[v]}else if(p=16,o(f)||(e||(e={}),e.children=f,f=null),!r(e))for(var g in s={},e)c.has(g)?(l||(l={}),l[g]=e[g]):"key"===g?d=e.key:s[g]=e[g];return u.createVNode(p,t,h,f,s,d,l)}},function(t,e,n){var r,i,o;i=[t,n(71),n(73),n(74)],void 0!==(o="function"==typeof(r=function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var a=i(e),u=i(n),c=i(r),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),f(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===s(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return o("action",t)}},{key:"defaultTarget",value:function(t){var e=o("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return o("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}();t.exports=l})?r.apply(e,i):r)&&(t.exports=o)},function(t,e,n){var r,i,o;i=[t,n(72)],void 0!==(o="function"==typeof(r=function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=o})?r.apply(e,i):r)&&(t.exports=o)},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i),e=r.toString()}return e}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e,n){var r=n(75),i=n(76);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(r.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}(t,e,n);if(r.string(t))return function(t,e,n){return i(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(77);t.exports=function(t,e,n,i,o){var a=function(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,n){(function(e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function r(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||!!t&&"object"==typeof t&&p.call(t)==o}(t))return i;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=c.test(t);return r||s.test(t)?f(t.slice(2),r?2:8):u.test(t)?i:+t}var i=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,h=l||d||Function("return this")(),p=Object.prototype.toString,v=Math.max,g=Math.min,m=function(){return h.Date.now()};t.exports=function(t,e,i){function o(e){var n=f,r=l;return f=l=void 0,b=e,h=t.apply(r,n)}function a(t){var n=t-y;return void 0===y||n>=e||n<0||T&&t-b>=d}function u(){var t=m();if(a(t))return c(t);p=setTimeout(u,function(n){var r=e-(t-y);return T?g(r,d-(t-b)):r}())}function c(t){return p=void 0,O&&f?o(t):(f=l=void 0,h)}function s(){var t=m(),n=a(t);if(f=arguments,l=this,y=t,n){if(void 0===p)return function(t){return b=t,p=setTimeout(u,e),_?o(t):h}(y);if(T)return p=setTimeout(u,e),o(y)}return void 0===p&&(p=setTimeout(u,e)),h}var f,l,d,h,p,y,b=0,_=!1,T=!1,O=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e)||0,n(i)&&(_=!!i.leading,d=(T="maxWait"in i)?v(r(i.maxWait)||0,e):d,O="trailing"in i?!!i.trailing:O),s.cancel=function(){void 0!==p&&clearTimeout(p),b=0,f=y=l=p=void 0},s.flush=function(){return void 0===p?h:c(m())},s}}).call(e,n(79))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t){return n(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./events.ts":17,"./state/entity.ts":9,"./state/flow.ts":3,"./state/graph.ts":29,"./state/gui.ts":12,"./state/tree.ts":30,"./state/views.ts":28};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=80},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t){function e(t){return function(){for(var e in this)"function"==typeof this[e][t]&&this[e][t]()}}function n(n){var r=t.getGraph(),i=r.entities,o=r.arcs,a=r.processes;return Object.keys(i).reduce(function(n,r){var u=function(t,n){return void 0===n&&(n={}),r.split(".").reduce(function(t,n){return t[n]=t[n]||{reset:e("reset"),watch:e("watch"),unwatch:e("unwatch")}},n)}(0,n),c=i[r],s=Object.keys(o).map(function(t){return o[t]}).filter(function(t){return t.entity===r&&!t.port}).map(function(t){return t.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return t.get(r)},set:function(e){return t.set(r,e)}}),u.update=function(e){t.update(r,e)},u.reset=function(){null!=c.value&&t.set(r,c.value)},u.watch=function(){t.on(r,function(t){return console.log(r,t)})},u.unwatch=function(){t.off(r)},u.streams={},s.forEach(function(e){var n=e.split(".").pop();n&&(u.streams[n]={start:function(){t.start(e)}},a[e].async&&(u.streams[n].stop=function(){t.stop(e)}))}),n},n)}return n({update:function(){for(var t in this)"update"!==t&&delete this[t];n(this)}})}}])}()},function(t,e,n){"use strict";function r(t){function e(t){return function(){for(var e in this)"function"==typeof this[e][t]&&this[e][t]()}}function n(n){var r=t.getGraph(),i=r.entities,o=r.arcs,a=r.processes;return Object.keys(i).reduce(function(n,r){var u=function(t,n){return void 0===n&&(n={}),t.split(".").reduce(function(t,n){return t[n]=t[n]||{reset:e("reset"),watch:e("watch"),unwatch:e("unwatch")}},n)}(r,n),c=i[r],s=Object.keys(o).map(function(t){return o[t]}).filter(function(t){return t.entity===r&&!t.port}).map(function(t){return t.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return t.get(r)},set:function(e){return t.set(r,e)}}),u.update=function(e){t.update(r,e)},u.reset=function(){null!=c.value&&t.set(r,c.value)},u.watch=function(){t.on(r,function(t){return console.log(r,t)})},u.unwatch=function(){t.off(r)},u.streams={},s.forEach(function(e){var n=e.split(".").pop();n&&(u.streams[n]={start:function(){t.start(e)}},a[e].async&&(u.streams[n].stop=function(){t.stop(e)}))}),n},n)}return n({update:function(){for(var t in this)"update"!==t&&delete this[t];n(this)}})}var i=n(1);function o(t,e){t.replaceGraph(function(t,e){var n=t.keys().map(function(n){var r=t(n);return Object.values(Object(i.f)(r,function(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}(n,e))).filter(i.e)}).reduce(function(t,e){return t.concat(e)},[]);return Object(i.d)(n)}(e)),window.entities=r(t)}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.r(e),n.d(e,"groundColor",function(){return u}),n.d(e,"groundTransform",function(){return c}),n.d(e,"animate",function(){return s}),n.d(e,"rotationSpeed",function(){return f}),n.d(e,"lightRotation",function(){return l}),n.d(e,"time",function(){return d}),n.d(e,"lightPosition",function(){return h}),n.d(e,"lightColor",function(){return p}),n.d(e,"lightBackColor",function(){return v}),n.d(e,"lightTransforms",function(){return g});var r=n(1),i=n(2),o=n(24),a=n(11);const u=Object(r.i)([.7,.6,.9,1]),c=Object(r.h)(null,()=>{const t=i.a.create();return i.a.rotateX(t,t,Math.PI/2),i.a.scale(t,t,[10,10,10]),t}),s=Object(r.i)(!0),f=Object(r.i)(2e-4),l=Object(r.i)(.8*-Math.PI).react([s.COLD,f.COLD,o.tick.HOT],(t,e,n,r)=>e?t+n*r:t),d=Object(r.i)(0).react([o.tick.HOT,s.COLD],(t,e,n)=>n?t+e:t).accept(a.b),h=Object(r.i)([0,3.5,0]).react([d.HOT],(t,e)=>(t[1]+=.05*Math.sin(e/2e3),t)),p=Object(r.i)([1,1,1,0]),v=Object(r.i)([0,0,.2,0]),g=Object(r.i)([i.a.create(),i.a.create()]).react([l.HOT,h.HOT],(t,e,n)=>(i.a.fromTranslation(t[0],n),i.a.rotateX(t[0],t[0],e),i.a.rotateX(t[1],t[0],Math.PI),t))},,,,,function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(10);var o=n(23),a=n(5),u=n(2),c=n(24);n.d(e,"position",function(){return s}),n.d(e,"rotX",function(){return f}),n.d(e,"rotY",function(){return l}),n.d(e,"rotation",function(){return d}),n.d(e,"view",function(){return h}),n.d(e,"perspectiveSettings",function(){return p}),n.d(e,"perspective",function(){return v}),n.d(e,"moveSpeed",function(){return g}),n.d(e,"lookSpeed",function(){return m}),n.d(e,"moveForward",function(){return y}),n.d(e,"moveLeft",function(){return b}),n.d(e,"mouseDrag",function(){return _}),n.d(e,"dragDeltas",function(){return T});const{position:s,rotX:f,rotY:l,rotation:d,view:h}=function(){var t=Object(r.i)(i.b.fromValues(0,0,0)),e=Object(r.i)(0),n=Object(r.i)(0),o=Object(r.i)({rotX:i.a.create(),rotY:i.a.create()}).react([e.HOT],function(t,e){return i.a.fromYRotation(t.rotY,e),t}).react([n.HOT],function(t,e){return i.a.fromXRotation(t.rotX,e),t});return{position:t,rotation:o,view:Object(r.i)(i.a.create()).react([o.HOT,t.HOT],function(t,e,n){return i.a.fromTranslation(t,n),i.a.multiply(t,t,e.rotY),i.a.multiply(t,t,e.rotX),i.a.invert(t,t),t}),rotY:e,rotX:n}}();s.val(u.c.fromValues(11,2,-9)),f.val(0),l.val(2);const{perspectiveSettings:p,perspective:v}=function(t){var e=Object(r.i)({near:.1,far:1e3,fovy:.6*Math.PI,aspect:1}).react([t.HOT],function(t,e){var n=e.width,r=e.height;return t.aspect=n/r,t});return{perspectiveSettings:e,perspective:Object(r.i)(i.a.create()).react([e.HOT],function(t,e){return i.a.perspective(t,e.fovy,e.aspect,e.near,e.far)})}}(o.canvasSize);p.updateVal(t=>Object.assign({},t,{fovy:.4*Math.PI}));const g=Object(r.i)(.15),m=Object(r.i)(.002),y=Object(r.a)([c.keys.COLD,g.COLD,c.tick.HOT],(t,e,n,r)=>{e&&((e[a.a.UP]||e[a.a.W])&&t(n),(e[a.a.DOWN]||e[a.a.S])&&t(-n))}),b=Object(r.a)([c.keys.COLD,g.COLD,c.tick.HOT],(t,e,n)=>{e&&((e[a.a.LEFT]||e[a.a.A])&&t(n),(e[a.a.RIGHT]||e[a.a.D])&&t(-n))}),_=Object(r.g)([c.mouse.HOT],t=>({x:t.drag.x,y:t.drag.y})),T=Object(r.c)(_,(t,e)=>({x:0===t.x?t.x:e.x-t.x,y:0===t.y?t.y:e.y-t.y})).accept(t=>!(!t||!t.x&&!t.y));f.react([T.HOT,m.COLD],(t,e,n)=>t+e.y*n),l.react([T.HOT,m.COLD],(t,e,n)=>t+e.x*n),s.react([b.HOT,d.COLD],(t,e,n)=>{const r=u.c.fromValues(n.rotY[0],n.rotY[1],n.rotY[2]);return u.c.add(t,t,u.c.scale(r,r,-e))}),s.react([y.HOT,d.COLD],(t,e,n)=>{const r=u.c.fromValues(n.rotY[8],n.rotY[9],n.rotY[10]);return u.c.add(t,t,u.c.scale(r,r,-e))})},,,function(t,e,n){"use strict";function r(t){let e,n=!0;return requestAnimationFrame(function r(i){n&&(t(i-(e||i)),e=i,requestAnimationFrame(r))}),function(){n=!1}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.r(e),n.d(e,"geoSpec",function(){return f}),n.d(e,"lightFrag",function(){return l});var r=n(1),i=n(69),o=n.n(i),a=n(70),u=n.n(a),c=n(71),s=n.n(c);const f=Object(r.i)({vert:o(),frag:u()}).reset(),l=Object(r.i)(s.a).reset()},,,,function(t,e,n){"use strict";n.r(e),n.d(e,"props",function(){return o}),n.d(e,"geometry",function(){return a});var r=n(33),i=n(1);const o=Object(i.i)({width:10,height:10,segX:0,segY:0}),a=Object(i.g)([o.HOT],t=>Object(r.a)(t.width,t.height,t.segX,t.segY))},,,,,,,,,,,,,,,,,function(t){t.exports={}},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\n\nvarying vec4 vPosition;\nvarying vec4 vNormal;\nvarying vec4 vUv;\n\nvoid main() {\n\tvPosition = transform * vec4(position, 1.0);\n\tvNormal = transform * vec4(normal, 0.0);\n\tvUv = vec4(uv, 0.0, 0.0);\n\tgl_Position = projection * view * vPosition;\n}\n"},function(t,e){t.exports="#extension GL_EXT_draw_buffers : require\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvarying vec4 vPosition;\nvarying vec4 vNormal;\nvarying vec4 vUv;\n\nvoid main() {\n\tgl_FragData[0] = vPosition;\n\tgl_FragData[1] = vNormal;\n\tgl_FragData[2] = vUv;\n\tgl_FragData[3] = color;\n}\n"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\nvec4 diffuseAreaLight_1_0(sampler2D tex, mat4 lightMat, vec3 V, vec3 N, vec2 areaSize) {\n\tfloat width = areaSize.x / 2.0;\n\tfloat height = areaSize.y / 2.0;\n\n\tvec3 right = normalize(lightMat[0].xyz);\n\tvec3 up = normalize(lightMat[1].xyz);\n\tvec3 normal = normalize(lightMat[2].xyz);\n\tvec3 pos = lightMat[3].xyz;\n\n\t/*project onto plane and calculate direction from center to the projection*/\n\tfloat dis = dot(normal, V - pos);\n\tvec3 projection = V - dis * normal;\n\tvec3 dir = projection - pos;\n\n\t/*calculate distance from area*/\n\tvec2 diagonal = vec2(dot(dir, right), dot(dir, up));\n\tvec2 nearest2D = vec2(clamp(diagonal.x, -width, width), clamp(diagonal.y, -height, height));\n\tvec3 nearestPointInside = pos + (right * nearest2D.x + up * nearest2D.y);\n\n\tvec3 L = normalize(nearestPointInside - V);\n\n\tfloat nDotL = dot(-normal, L);\n\n\tfloat d = distance(V, nearestPointInside); //real distance to area rectangle\n\n\tvec4 diff = vec4(0.0);\n\n\tif (nDotL > 0.0) {\n\t\tfloat lod = pow(d, 0.03) * 6.0;\n\n\t\tvec2 co = ((diagonal.xy / (d + 1.0)) + vec2(width, height)) / areaSize;\n\t\t//co.x = 1.0 - co.x;\n\n\t\tvec4 t00 = texture2D(tex, co, lod);\n\t\tvec4 t01 = texture2D(tex, co, lod + 1.0);\n\n\t\tdiff = mix(t00, t01, fract(lod + 1.5));\n\n\t\tfloat NDotL = clamp(dot(-N, L), 0.0, 1.0);\n\t\tnDotL *= NDotL * 0.5 + 0.5; //distribute over hemisphere, looks better. Should be dependant of area size.\n\n\t\tfloat attenuation = 1.0 / (1.0 + d);\n\n\t\tdiff *= nDotL * attenuation;\n\t}\n\n\tdiff.a = 1.0;\n\treturn diff;\n}\n\n\n\n\nfloat specularAreaLight_2_1(mat4 lightMat, vec3 V, vec3 N, vec3 eyePosition, vec2 areaSize, float gloss) {\n\n\tvec3 pos = lightMat[3].xyz;\n\tvec3 normal = normalize(lightMat[2].xyz);\n\n\tvec3 direction = eyePosition - V;\n\n\tvec3 R = reflect(normalize(direction), -N);\n\tfloat rDotN = dot(normal, R);\n\n\tif (rDotN > 0.0) {\n\t\tvec3 E = V + R * (dot(normal, pos - V) / rDotN); // line-plane intersection\n\t\tvec3 dir = E - pos;\n\n\t\tfloat width = areaSize.x / 2.0;\n\t\tfloat height = areaSize.y / 2.0;\n\n\t\tvec3 right = normalize(lightMat[0].xyz);\n\t\tvec3 up = normalize(lightMat[1].xyz);\n\n\t\t/*calculate distance from area*/\n\t\tvec2 diagonal = vec2(dot(dir, right), dot(dir, up));\n\t\tvec2 nearest2D = vec2(clamp(diagonal.x, -width, width), clamp(diagonal.y, -height, height));\n\t\tvec3 nearestPointInside = pos + (right * nearest2D.x + up * nearest2D.y);\n\n\t\tfloat dist = distance(V, nearestPointInside); //real distance to area rectangle\n\n\t\tfloat rDotL = max(0.0, dot(R, normalize(V - nearestPointInside)));\n\n\t\t// reduce glow of reflected points that are fare outside of the light area\n\t\tfloat falloff = min(1.0, length(vec2(width, height)) / length(diagonal));\n\n\t\t// remove artefact when intersection point is close to the vertex\n\t\tfloat closeness = clamp(distance(E, V) / dist, 0.0, 1.0);\n\t\t//float closeness = 1.0;\n\n\t\tfloat attenuation = 1.0 / (pow(dist, 0.5));\n\n\t\treturn pow(max(rDotL, 0.0), gloss) * falloff * closeness * attenuation;\n\t} else {\n\t\treturn 0.0;\n\t}\n}\n\n\n\n\n\nuniform sampler2D colors;\nuniform sampler2D positions;\nuniform sampler2D normals;\nuniform sampler2D uvs;\nuniform sampler2D tex;\n\nuniform vec3 eyePosition;\nuniform mat4 lightMat;\nuniform mat4 view;\n\nvarying vec2 coords;\n\nconst vec2 lightSize = vec2(10.0);\n\nvoid main() {\n\n\tvec3 position = texture2D(positions, coords).xyz;\n\tvec3 normal = normalize(texture2D(normals, coords).xyz);\n\tvec4 uv = texture2D(uvs, coords);\n\tvec4 color = texture2D(colors, coords);\n\n\tif (color.a < 1.0) {\n\t\tvec4 texColor = texture2D(tex, uv.xy);\n\t\tgl_FragColor = vec4(texColor.rgb * color.rgb, 1.0);\n\t} else {\n\t\t// paint ground grid\n\t\tfloat vertical = fract(uv.x * 100.0);\n\t\tfloat horizontal = fract(uv.y * 100.0);\n\t\tif (vertical >= 0.95 || horizontal >= 0.95) gl_FragColor.b += 0.3;\n\n\t\t// light calculation\n\t\tvec4 diffuseColor = diffuseAreaLight_1_0(tex, lightMat, position, normal, lightSize);\n\t\tdiffuseColor = vec4(\n\t\t\tpow(diffuseColor.r, 0.7),\n\t\t\tpow(diffuseColor.g, 0.7),\n\t\t\tpow(diffuseColor.b, 0.7),\n\t\t\t1.0\n\t\t);\n\t\tdiffuseColor *= color * 4.0;\n\n\t\tfloat specularPower = specularAreaLight_2_1(lightMat, position, normal, eyePosition, lightSize, 100.0);\n\n\t\tvec3 specularColor = vec3(0.9) * specularPower * color.xyz;\n\t\t// gl_FragColor += vec4(specularColor / 2.0, 1.0);\n\t\tgl_FragColor += diffuseColor / 1.5;\n\t}\n}\n"},,,,,,,,,,,,,function(t,e,n){t.exports=n(98)},function(t,e,n){var r={"./camera.ts":43,"./events.ts":24,"./geometries/plane.ts":51,"./painter.ts":23,"./renderer.ts":86,"./shaders/shaders.ts":47,"./state.ts":38};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=85},function(t,e,n){"use strict";n.r(e),n.d(e,"planeForm",function(){return d}),n.d(e,"geoShade",function(){return h}),n.d(e,"image",function(){return p}),n.d(e,"textureData",function(){return v}),n.d(e,"texture",function(){return g}),n.d(e,"groundSketch",function(){return m}),n.d(e,"lightSketch",function(){return y}),n.d(e,"drawSettings",function(){return b}),n.d(e,"sceneLayer",function(){return _}),n.d(e,"lightLayer",function(){return T});var r=n(1),i=n(12),o=n(23),a=n(24),u=n(43),c=n(51),s=n(9),f=n(38),l=n(47);const d=Object(i.c)(o.painter,c.geometry),h=Object(i.d)(o.painter,l.geoSpec),p=Object(r.b)([],t=>{const e=new Image;e.onload=(()=>t(e)),e.src="tree.jpg"}),v=Object(r.i)({minFilter:"LINEAR_MIPMAP_LINEAR",magFilter:"LINEAR"}).react([p.HOT],(t,e)=>Object.assign({},t,{asset:e})),g=Object(i.f)(o.painter,v),m=Object(i.e)(o.painter).react([f.groundTransform.HOT,f.groundColor.HOT,h.HOT,d.HOT],(t,e,n,r,i)=>t.update({form:i,shade:r,uniforms:{transform:e,color:n}})),y=Object(i.e)(o.painter).react([f.lightTransforms.COLD,f.lightColor.HOT,f.lightBackColor.HOT,h.HOT,d.HOT,o.gl.HOT],(t,[e,n],r,i,o,a,u)=>t.update({form:a,shade:o,uniforms:[{transform:e,color:r},{transform:n,color:i}],drawSettings:{enable:[u.CULL_FACE]}})),b=Object(r.g)([o.gl.HOT],t=>({clearBits:Object(s.b)(t,"color","depth")})),_=Object(i.a)(o.painter).react([o.gl.HOT,y.HOT,m.HOT,u.view.COLD,u.perspective.COLD,b.HOT],(t,e,n,r,i,o,a)=>t.update({buffered:!0,textureConfig:{count:4,type:e.FLOAT},sketches:[n,r],drawSettings:a,uniforms:{view:i,projection:o},wrap:"CLAMP_TO_EDGE",minFilter:"NEAREST",magFilter:"NEAREST"})),T=Object(i.b)(o.painter).react([_.HOT,u.position.COLD,f.lightTransforms.COLD,u.view.COLD,o.gl.HOT,g.HOT,l.lightFrag.HOT],(t,e,n,r,i,o,a,u)=>t.update({frag:u,uniforms:{eyePosition:n,lightMat:r[0],view:i,tex:a.texture(),positions:e.texture(0),normals:e.texture(1),uvs:e.texture(2),colors:e.texture(3)},drawSettings:{disable:[o.DEPTH_TEST],enable:[o.BLEND],clearBits:Object(s.b)(o,"color")}}));o.painter.react([_.COLD,T.COLD,a.tick.HOT],(t,e,n)=>t.compose(e,n))},,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(34),i=n(36),o=n(68);const a=r.a(),u=i.ui.start({graph:o});window.flow=a,window.tools=u;var c=n(37);const s=n(85);a.setDebug(!0),Object(c.a)(a,s),u.setFlow(a,"area light"),setTimeout(function(){a.setDebug(!1)},1e3)}]);
//# sourceMappingURL=main.js.map