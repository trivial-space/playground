!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=70)}([function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return c});var r="position",i="normal",o="uv",a="source",u="coords",c={FLOAT:5126,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FLOAT_MAT2X3:35685,FLOAT_MAT2X4:35686,FLOAT_MAT3X2:35687,FLOAT_MAT3X4:35688,FLOAT_MAT4X2:35689,FLOAT_MAT4X3:35690,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT:5125,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_3D:32879,TEXTURE_2D_ARRAY:35866,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(3),o=n(15);n.d(t,"i",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"h",function(){return v}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return b}),n.d(t,"d",function(){return _});var a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u="Stream",c="Reaction";function s(e,t){return t?t+"."+e:e}function l(e){var t,n,r,a=e.value,u=Object(o.a)(),l=[],f={};return f.HOT={entity:f,type:i.a.HOT},f.COLD={entity:f,type:i.a.COLD},f.id=function(e,n){return u=s(e,n),t=n,f},f.val=function(e){return a=e,f},f.updateVal=function(e){return a=e(a),f},f.accept=function(e){return n=e,f},f.reset=function(){return r=!0,f},f.getId=function(){return u},e.procedure&&l.push(e),f.react=function(e,t,n){var r=d(e,t,n);r.pidSuffix=c;var o=r.dependencies;return r.dependencies=[{entity:f,type:i.a.ACCUMULATOR}],o&&o.length&&(r.dependencies=r.dependencies.concat(o)),l.push(r),f},f.getGraph=function(){var e={entities:{},processes:{},arcs:{},meta:{}};return e.entities[u]=Object(i.c)({id:u,value:a,accept:n,reset:r}),l.forEach(function(n){var r=n.dependencies,o=n.processId?s(n.processId,t):u+n.pidSuffix+(r&&r.length?":"+r.reduce(function(e,t){var n=t.entity.getId();return n===u?e:e+":"+n},""):""),a=[];r&&r.forEach(function(t,n){if(a[n]=t.type,t.type!==i.a.ACCUMULATOR){var r=Object(i.b)({process:o,entity:t.entity.getId(),port:n});e.arcs[r.id]=r}});var c=Object(i.b)({process:o,entity:u});e.arcs[c.id]=c,e.processes[o]=Object(i.d)({id:o,ports:a,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),e},f}function f(e){return l({value:e})}function d(e,t,n){var r={procedure:t};return null!=e&&e.length&&(r.dependencies=e),"string"==typeof n?r.processId=n:r.pidSuffix=u,r}var p=function(e,t,n){return l(d(e,t,n))},h=function(e,t,n){return l(a({},d(e,t,n),{async:!0}))},v=function(e,t,n){return l(a({},d(e,t,n),{autostart:!0}))},g=function(e,t,n){return l(a({},d(e,t,n),{async:!0,autostart:!0}))},y=function(e,t,n){return l(a({},d([e.HOT],t,n),{delta:!0}))};function m(e){return e&&"function"==typeof e.id&&"function"==typeof e.getGraph&&e.HOT&&e.COLD}function b(e,t){for(var n in e){var r=e[n];m(r)&&r.id(n,t)}return e}function _(e){var t=[];for(var n in e){var i=e[n];m(i)&&t.push(i)}return t.reduce(function(e,t){return n=e,i=t.getGraph(),{entities:r({},n.entities,i.entities),processes:r({},n.processes,i.processes),arcs:r({},n.arcs,i.arcs),meta:r({},n.meta,i.meta)};var n,i},{entities:{},processes:{},arcs:{},meta:{}})}},,function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var r=n(15),i=n(28);function o(e){var t=e.id,n=void 0===t?Object(r.a)():t,i=e.value,o=e.json,a=e.accept,u=e.reset,c=e.meta;return void 0===i&&o&&(i=JSON.parse(o)),{id:n,value:i,accept:a,reset:u,meta:c}}function a(e,t){var n=e.id,o=void 0===n?Object(r.a)():n,a=e.ports,u=void 0===a?[]:a,s=e.procedure,l=e.code,f=e.autostart,d=void 0!==f&&f,p=e.async,h=void 0!==p&&p,v=e.delta,g=void 0!==v&&v,y=e.meta;if(null==s&&null!=l&&(s=Object(i.a)(l,t)),null==s)throw TypeError("Process must have procedure or code set");return g&&!u.length&&u.push(c.HOT),{id:o,ports:u,procedure:s,autostart:d,async:h,delta:g,meta:y}}function u(e){var t=e.id,n=e.entity,r=e.process,i=e.port,o=e.meta;if(null==n)throw TypeError("no entity specified in arc "+t);if(null==r)throw TypeError("no process specified in arc "+t);return null==t&&(t=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:t,entity:n,process:r,port:i,meta:o}}var c={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=[]);for(var r=0;r<t;r++)n[r]=e(r);return n}function i(e,t,n,r){void 0===r&&(r=[]);for(var i=Math.min(t.length,n.length),o=0;o<i;o++)r[o]=e(t[o],n[o]);return r}function o(e,t){void 0===t&&(t=[]);for(var n=0,r=e;n<r.length;n++)for(var i=r[n],o=t.length,a=0;a<i.length;a++)t[a+o]=i[a];return t}function a(e,t,n){return void 0===n&&(n=[]),o(t.map(e),n)}n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n(8)},function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=[]);for(var r=0;r<e.length;r++)n[r]=e[r]+t[r];return n}function i(e,t,n){void 0===n&&(n=[]);for(var r=0;r<e.length;r++)n[r]=e[r]-t[r];return n}function o(e,t,n){void 0===n&&(n=[]);for(var r=0;r<t.length;r++)n[r]=t[r]*e;return n}function a(e,t,n){void 0===n&&(n=[]);for(var r=0;r<t.length;r++)n[r]=t[r]/e;return n}function u(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r*r}return Math.sqrt(t)}function c(e,t){return void 0===t&&(t=[]),a(u(e),e,t)}function s(e,t,n){return void 0===n&&(n=[]),n[0]=e[1]*t[2]-e[2]*t[1],n[1]=e[2]*t[0]-e[0]*t[2],n[2]=e[0]*t[1]-e[1]*t[0],n}function l(e,t){return e[0]*t[1]-e[1]*t[0]}n.d(t,"a",function(){return r}),n.d(t,"h",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n(10).a},,function(e,t,n){"use strict";function r(e){var t=e.getContext("webgl")||e.getContext("experimental-webgl");if(null==t)throw Error("Webgl context cannot be initialized");return t}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t|e[n.toUpperCase()+"_BUFFER_BIT"]},0)}function o(e,t){void 0===t&&(t=1),t=Math.max(1,t);var n=e.clientWidth*t|0,r=e.clientHeight*t|0;return(e.width!==n||e.height!==r)&&(e.width=n,e.height=r,!0)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o})},function(e,t,n){"use strict";function r(e){return Math.floor(Math.random()*e)}function i(e,t){return r(t-e)+e}function o(){return(Math.random()+Math.random()+Math.random())/3}n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"g",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p});var r=n(1),i=n(16),o=n(7),a=n(10);function u(e,t,n){var u=Object(r.g)([e.HOT],o.a),c=Object(r.a)([u.HOT],function(e,t){var n=Object(i.a)(t);return e(n),n.destroy}).accept(a.b),s=Object(r.g)([e.HOT,t.HOT],function(e){return{width:e.clientWidth,height:e.clientHeight}});return c.react([s.HOT],function(e,t){return e.resize()},"updateSize"),n&&c.react([n.HOT],function(e,t){return e.updateDrawSettings(t)}),{painter:c,gl:u,canvasSize:s}}function c(e,t){var n=Object(r.a)([e.HOT],function(e,t){var n=t.createShade();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function s(e,t){var n=Object(r.a)([e.HOT],function(e,t){var n=t.createForm();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function l(e,t){var n=Object(r.a)([e.HOT],function(e,t){var n=t.createSketch();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function f(e,t){var n=Object(r.a)([e.HOT],function(e,t){var n=t.createStaticLayer();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function d(e,t){var n=Object(r.a)([e.HOT],function(e,t){var n=t.createDrawingLayer();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function p(e,t){var n=Object(r.a)([e.HOT],function(e,t){var n=t.createEffectLayer();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e,t){return e!==t};function i(e,t){if(e===t)return!0;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return u});for(var r=new Array(16),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function u(){var e,t,n,o=function(){for(var e=0,t=void 0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random(),r[e]=t>>>((3&e)<<3)&255);return r}();return o[6]=15&o[6]|64,o[8]=63&o[8]|128,n=0,(t=i)[(e=o)[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]}},function(e,t,n){"use strict";var r,i,o,a=n(0);function u(e){return v[e].bindPoint}function c(e,t){return function(n){e.uniform1i(t,n)}}function s(e,t){return function(n){e.uniform1iv(t,n)}}function l(e,t){return function(n){e.uniform2iv(t,n)}}function f(e,t){return function(n){e.uniform3iv(t,n)}}function d(e,t){return function(n){e.uniform4iv(t,n)}}function p(e,t,n,r){var i=u(t);return function(t){e.uniform1i(r,n),e.activeTexture(e.TEXTURE0+n),e.bindTexture(i,t)}}function h(e,t,n,r,i){for(var o=u(t),a=new Int32Array(i),c=0;c<i;++c)a[c]=n+c;return function(t){for(var n in e.uniform1iv(r,a),t)e.activeTexture(e.TEXTURE0+a[n]),e.bindTexture(o,t[n])}}var v=((r={})[a.d.FLOAT]={Type:Float32Array,size:4,setter:function(e,t){return function(n){e.uniform1f(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1fv(t,n)}}},r[a.d.FLOAT_VEC2]={Type:Float32Array,size:8,setter:function(e,t){return function(n){e.uniform2fv(t,n)}}},r[a.d.FLOAT_VEC3]={Type:Float32Array,size:12,setter:function(e,t){return function(n){e.uniform3fv(t,n)}}},r[a.d.FLOAT_VEC4]={Type:Float32Array,size:16,setter:function(e,t){return function(n){e.uniform4fv(t,n)}}},r[a.d.INT]={Type:Int32Array,size:4,setter:c,arraySetter:s},r[a.d.INT_VEC2]={Type:Int32Array,size:8,setter:l},r[a.d.INT_VEC3]={Type:Int32Array,size:12,setter:f},r[a.d.INT_VEC4]={Type:Int32Array,size:16,setter:d},r[a.d.UNSIGNED_INT]={Type:Uint32Array,size:4,setter:function(e,t){return function(n){e.uniform1ui(t,n)}},arraySetter:function(e,t){return function(n){e.uniform1uiv(t,n)}}},r[a.d.UNSIGNED_INT_VEC2]={Type:Uint32Array,size:8,setter:function(e,t){return function(n){e.uniform2uiv(t,n)}}},r[a.d.UNSIGNED_INT_VEC3]={Type:Uint32Array,size:12,setter:function(e,t){return function(n){e.uniform3uiv(t,n)}}},r[a.d.UNSIGNED_INT_VEC4]={Type:Uint32Array,size:16,setter:function(e,t){return function(n){e.uniform4uiv(t,n)}}},r[a.d.BOOL]={Type:Uint32Array,size:4,setter:c,arraySetter:s},r[a.d.BOOL_VEC2]={Type:Uint32Array,size:8,setter:l},r[a.d.BOOL_VEC3]={Type:Uint32Array,size:12,setter:f},r[a.d.BOOL_VEC4]={Type:Uint32Array,size:16,setter:d},r[a.d.FLOAT_MAT2]={Type:Float32Array,size:16,setter:function(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}},r[a.d.FLOAT_MAT3]={Type:Float32Array,size:36,setter:function(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}},r[a.d.FLOAT_MAT4]={Type:Float32Array,size:64,setter:function(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}},r[a.d.FLOAT_MAT2X3]={Type:Float32Array,size:24,setter:function(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}},r[a.d.FLOAT_MAT2X4]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}},r[a.d.FLOAT_MAT3X2]={Type:Float32Array,size:24,setter:function(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}},r[a.d.FLOAT_MAT3X4]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}},r[a.d.FLOAT_MAT4X2]={Type:Float32Array,size:32,setter:function(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}},r[a.d.FLOAT_MAT4X3]={Type:Float32Array,size:48,setter:function(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}},r[a.d.SAMPLER_2D]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D},r[a.d.SAMPLER_CUBE]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_CUBE_MAP},r[a.d.SAMPLER_3D]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_3D},r[a.d.SAMPLER_2D_SHADOW]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D},r[a.d.SAMPLER_2D_ARRAY]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D_ARRAY},r[a.d.SAMPLER_2D_ARRAY_SHADOW]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D_ARRAY},r[a.d.SAMPLER_CUBE_SHADOW]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_CUBE_MAP},r[a.d.INT_SAMPLER_2D]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D},r[a.d.INT_SAMPLER_3D]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_3D},r[a.d.INT_SAMPLER_CUBE]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_CUBE_MAP},r[a.d.INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D_ARRAY},r[a.d.UNSIGNED_INT_SAMPLER_2D]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D},r[a.d.UNSIGNED_INT_SAMPLER_3D]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_3D},r[a.d.UNSIGNED_INT_SAMPLER_CUBE]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_CUBE_MAP},r[a.d.UNSIGNED_INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:p,arraySetter:h,bindPoint:a.d.TEXTURE_2D_ARRAY},r);function g(e,t,n){return function(r){e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.itemSize,a.d.FLOAT,r.normalize||!1,r.stride||0,r.offset||0)}}function y(e,t,n){return function(r){e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.itemSize,a.d.INT,r.stride||0,r.offset||0)}}function m(e,t,n){var r=n.size,i=n.count;return function(n){e.bindBuffer(e.ARRAY_BUFFER,n.buffer);for(var o=r,u=o/i,c=v[a.d.FLOAT].size*o,s=n.normalize||!1,l=n.offset||0,f=c/i,d=0;d<i;++d)e.enableVertexAttribArray(t+d),e.vertexAttribPointer(t+d,u,a.d.FLOAT,s,c,l+f*d)}}var b=((i={})[a.d.FLOAT]={size:4,setter:g,itemSize:1},i[a.d.FLOAT_VEC2]={size:8,setter:g,itemSize:2},i[a.d.FLOAT_VEC3]={size:12,setter:g,itemSize:3},i[a.d.FLOAT_VEC4]={size:16,setter:g,itemSize:4},i[a.d.INT]={size:4,setter:y,itemSize:1},i[a.d.INT_VEC2]={size:8,setter:y,itemSize:2},i[a.d.INT_VEC3]={size:12,setter:y,itemSize:3},i[a.d.INT_VEC4]={size:16,setter:y,itemSize:4},i[a.d.UNSIGNED_INT]={size:4,setter:y,itemSize:1},i[a.d.UNSIGNED_INT_VEC2]={size:8,setter:y,itemSize:2},i[a.d.UNSIGNED_INT_VEC3]={size:12,setter:y,itemSize:3},i[a.d.UNSIGNED_INT_VEC4]={size:16,setter:y,itemSize:4},i[a.d.BOOL]={size:4,setter:y,itemSize:1},i[a.d.BOOL_VEC2]={size:8,setter:y,itemSize:2},i[a.d.BOOL_VEC3]={size:12,setter:y,itemSize:3},i[a.d.BOOL_VEC4]={size:16,setter:y,itemSize:4},i[a.d.FLOAT_MAT2]={size:4,setter:m,count:2},i[a.d.FLOAT_MAT3]={size:9,setter:m,count:3},i[a.d.FLOAT_MAT4]={size:16,setter:m,count:4},i);function _(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),null!=t.flipY&&t.flipY!==n.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY),t.wrap&&t.wrap!==n.wrap||t.wrapS&&t.wrapS!==n.wrapS||t.wrapT&&t.wrapT!==n.wrapT){var r=void 0,i=void 0;t.wrap?r=i=t.wrap:(i=t.wrapT||"CLAMP_TO_EDGE",r=t.wrapS||"CLAMP_TO_EDGE"),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e[r]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e[i])}t.magFilter&&t.magFilter!==n.magFilter&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e[t.magFilter]),t.minFilter&&t.minFilter!==n.minFilter&&e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e[t.minFilter])}function T(e,t,n,r){if(null!=t.width&&null!=t.height){null==t.frameBuffer&&(t.frameBuffer=e.createFramebuffer()),t.textures||(t.textures=[]),e.bindFramebuffer(e.FRAMEBUFFER,t.frameBuffer),t.textureConfig.type===e.FLOAT&&e.getExtension("OES_texture_float");var i=t.textureConfig.count;if(i>1){for(var o=e.getExtension("WEBGL_draw_buffers")||{drawBuffersWEBGL:function(){}},a=[],u=0;u<i;u++)a.push(o["COLOR_ATTACHMENT"+u+"_WEBGL"]);for(o.drawBuffersWEBGL(a),u=0;u<i;u++){null==t.textures[u]&&(t.textures[u]=e.createTexture());var c=t.textures[u];e.bindTexture(e.TEXTURE_2D,c),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,t.textureConfig.type,null),_(e,n,r),e.framebufferTexture2D(e.FRAMEBUFFER,a[u],e.TEXTURE_2D,c,0)}}else null==t.textures[0]&&(t.textures[0]=e.createTexture()),c=t.textures[0],e.bindTexture(e.TEXTURE_2D,c),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,t.textureConfig.type,null),_(e,n,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,c,0);null==t.depthBuffer&&(t.depthBuffer=e.createRenderbuffer()),e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer);var s=e.checkFramebufferStatus(e.FRAMEBUFFER);s!==e.FRAMEBUFFER_COMPLETE&&console.error("framebuffer error",s,n),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null)}}function O(e,t){e.deleteFramebuffer(t.frameBuffer),e.deleteRenderbuffer(t.depthBuffer);for(var n=0,r=t.textures;n<r.length;n++){var i=r[n];e.deleteTexture(i)}}function E(e,t){if(t.enable)for(var n=0,r=t.enable;n<r.length;n++){var i=r[n];e.enable(i)}if(t.disable)for(var o=0,a=t.disable;o<a.length;o++)i=a[o],e.disable(i);t.blendFunc&&e.blendFunc.apply(e,t.blendFunc),null!=t.depthFunc&&e.depthFunc(t.depthFunc),null!=t.cullFace&&e.cullFace(t.cullFace),null!=t.frontFace&&e.frontFace(t.frontFace),null!=t.lineWidth&&e.lineWidth(t.lineWidth),t.colorMask&&e.colorMask.apply(e,t.colorMask),null!=t.depthMask&&e.depthMask(t.depthMask),t.clearColor&&e.clearColor.apply(e,t.clearColor),null!=t.clearDepth&&e.clearDepth(t.clearDepth),null!=t.clearBits&&e.clear(t.clearBits)}function w(e,t){if(t.enable)for(var n=0,r=t.enable;n<r.length;n++){var i=r[n];e.disable(i)}if(t.disable)for(var o=0,a=t.disable;o<a.length;o++)i=a[o],e.enable(i)}function S(e){var t={update:function(n){n.drawType&&(t.drawType=e[n.drawType]),n.itemCount&&(t.itemCount=n.itemCount);var r=t.attribs||{};for(var i in n.attribs){var o=n.attribs[i];null==r[i]&&(r[i]={buffer:e.createBuffer()}),e.bindBuffer(e.ARRAY_BUFFER,r[i].buffer),e.bufferData(e.ARRAY_BUFFER,o.buffer,e[(o.storeType||"STATIC")+"_DRAW"])}if(t.attribs=r,n.elements){var u=n.elements.buffer;null==t.elements&&(t.elements={buffer:e.createBuffer(),glType:null}),t.elements.glType=function(e){if(e instanceof Int8Array)return a.d.BYTE;if(e instanceof Uint8Array)return a.d.UNSIGNED_BYTE;if(e instanceof Uint8ClampedArray)return a.d.UNSIGNED_BYTE;if(e instanceof Int16Array)return a.d.SHORT;if(e instanceof Uint16Array)return a.d.UNSIGNED_SHORT;if(e instanceof Int32Array)return a.d.INT;if(e instanceof Uint32Array)return a.d.UNSIGNED_INT;if(e instanceof Float32Array)return a.d.FLOAT;throw"unsupported typed array type"}(u),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.elements.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,u,e[(n.elements.storeType||"STATIC")+"_DRAW"])}return t},destroy:function(){for(var n in t.attribs)e.deleteBuffer(t.attribs[n].buffer);return t.elements&&e.deleteBuffer(t.elements.buffer),t}};return t}function A(e){var t={program:e.createProgram(),frag:e.createShader(e.FRAGMENT_SHADER),vert:e.createShader(e.VERTEX_SHADER)};return e.attachShader(t.program,t.vert),e.attachShader(t.program,t.frag),t.update=function(n){var r=n.frag&&n.frag.trim()||t.fragSource,i=n.vert&&n.vert.trim()||t.vertSource;if(!r||!i)return t;if(r.indexOf("GL_EXT_draw_buffers")>=0&&e.getExtension("WEBGL_draw_buffers"),e.shaderSource(t.vert,i),e.shaderSource(t.frag,r),e.compileShader(t.vert),e.compileShader(t.frag),e.getShaderParameter(t.vert,e.COMPILE_STATUS)||console.error("Error Compiling Vertex Shader!\n",e.getShaderInfoLog(t.vert),j(i)),e.getShaderParameter(t.frag,e.COMPILE_STATUS)||console.error("Error Compiling Fragment Shader!\n",e.getShaderInfoLog(t.frag),j(r)),e.linkProgram(t.program),!e.getProgramParameter(t.program,e.LINK_STATUS)){var o=e.getProgramInfoLog(t.program);console.error("Error in program linking:",o)}return t.uniformSetters=function(e,t){var n=0;function r(t,r){var i=e.getUniformLocation(t,r.name),o=r.size>1&&"[0]"===r.name.substr(-3),a=r.type,u=v[a];if(!u)throw"unknown type: 0x"+a.toString(16);if(null!=i){var c;if(null===u.Type){var s=n;n+=r.size,c=o?u.arraySetter(e,a,s,i,r.size):u.setter(e,a,s,i)}else c=u.arraySetter&&o?u.arraySetter(e,i):u.setter(e,i);return{setter:c,location:i}}}for(var i={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=0;a<o;++a){var u=e.getActiveUniform(t,a);if(!u)break;var c=u.name;if("[0]"===c.substr(-3)&&(c=c.substr(0,c.length-3)),t){var s=r(t,u);s&&(i[c]=s)}}return i}(e,t.program),t.attributeSetters=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i);if(!o)break;var a=e.getAttribLocation(t,o.name),u=b[o.type],c=u.setter(e,a,u);n[o.name]={setter:c,location:a}}return n}(e,t.program),t.fragSource=r,t.vertSource=i,t},t.destroy=function(){e.deleteProgram(t.program),e.deleteShader(t.frag),e.deleteShader(t.vert)},t}function j(e){return e.trim().split("\n").map(function(e,t){return t+1+": "+e}).join("\n")}function k(){var e={update:function(t){return t.drawSettings&&(e.drawSettings=t.drawSettings),t.form&&(e.form=t.form),t.shade&&(e.shade=t.shade),t.uniforms&&(e.uniforms=t.uniforms),e},destroy:function(){e.form&&e.form.destroy(),e.shade&&e.shade.destroy()}};return e}function I(e){var t={textures:[],data:{},texture:function(e){return void 0===e&&(e=0),t.textures[e]},update:function(n){if(n.buffered&&!t.target?(t.target={width:n.width||e.canvas.width,height:n.height||e.canvas.height,frameBuffer:null,textures:[],depthBuffer:null,textureConfig:{type:n.textureConfig&&n.textureConfig.type||e.UNSIGNED_BYTE,count:n.textureConfig&&n.textureConfig.count||1}},T(e,t.target,n,t.data),t.textures=t.target.textures):t.target&&n.width&&n.height&&(t.target.width=n.width,t.target.height=n.height,T(e,t.target,n,t.data)),n.sketches&&(t.sketches=n.sketches),n.frag){var r=t.sketches&&t.sketches[0];r&&r.shade.update({frag:n.frag})}return n.uniforms&&(t.uniforms=n.uniforms),Object.assign(t.data,n),t},destroy:function(){if(t.sketches)for(var n=0,r=t.sketches;n<r.length;n++)r[n].destroy();if(t.target)O(e,t.target);else for(var i=0,o=t.textures;i<o.length;i++){var a=o[i];e.deleteTexture(a)}}};return t}(o={})[a.d.BYTE]=Int8Array,o[a.d.UNSIGNED_BYTE]=Uint8Array,o[a.d.SHORT]=Int16Array,o[a.d.UNSIGNED_SHORT]=Uint16Array,o[a.d.INT]=Int32Array,o[a.d.UNSIGNED_INT]=Uint32Array,o[a.d.FLOAT]=Float32Array,o[a.d.UNSIGNED_SHORT_4_4_4_4]=Uint16Array,o[a.d.UNSIGNED_SHORT_5_5_5_1]=Uint16Array,o[a.d.UNSIGNED_SHORT_5_6_5]=Uint16Array,o[a.d.HALF_FLOAT]=Uint16Array,o[a.d.UNSIGNED_INT_2_10_10_10_REV]=Uint32Array,o[a.d.UNSIGNED_INT_10F_11F_11F_REV]=Uint32Array,o[a.d.UNSIGNED_INT_5_9_9_9_REV]=Uint32Array,o[a.d.FLOAT_32_UNSIGNED_INT_24_8_REV]=Uint32Array,o[a.d.UNSIGNED_INT_24_8]=Uint32Array;var x,N=n(7),C={wrap:"CLAMP_TO_EDGE",minFilter:"LINEAR",magFilter:"NEAREST"},R={renderQuad:{attribs:(x={},x[a.b]={buffer:new Float32Array([-1,1,-1,-1,1,1,1,-1]),storeType:"STATIC"},x[a.c]={buffer:new Float32Array([0,1,0,0,1,1,1,0]),storeType:"STATIC"},x),drawType:"TRIANGLE_STRIP",itemCount:4}},M={basicEffect:{vert:"\n\t\t\tattribute vec2 "+a.b+";\n\t\t\tattribute vec2 "+a.c+";\n\t\t\tvarying vec2 "+a.f+";\n\t\t\tvoid main() {\n\t\t\t\t"+a.f+" = "+a.c+";\n\t\t\t\tgl_Position = vec4("+a.b+", 0.0, 1.0);\n\t\t\t}",frag:"precision mediump float;\n\t\t\tuniform sampler2D "+a.e+";\n\t\t\tvarying vec2 "+a.f+";\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D("+a.e+", "+a.f+");\n\t\t\t}"}};n.d(t,"a",function(){return U});var P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function U(e){var t=[{},{}],n=function(e){return{clearColor:[0,0,0,1],enable:[e.DEPTH_TEST],blendFunc:[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA]}}(e),r=S(e).update(R.renderQuad),i=function(){return k().update({form:r,shade:A(e).update(M.basicEffect)})},o=i(),a=function(n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e.canvas;return(Object(N.c)(i,n)||r)&&t.forEach(function(t){t.width=i.width,t.height=i.height,t.textureConfig={count:1,type:e.UNSIGNED_BYTE},T(e,t,C)}),u};a(1,!0);var u={gl:e,updateDrawSettings:function(t){return E(e,P({},n,t)),u},createForm:function(){return S(e)},createShade:function(){return A(e)},createSketch:function(){return k()},createFlatSketch:i,createStaticLayer:function(){return function(e){var t={},n=e.createTexture();return t.textures=[n],t.data={},t.texture=function(){return n},t.update=function(r){return e.bindTexture(e.TEXTURE_2D,n),_(e,r,t.data),r.asset&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r.asset),r.minFilter&&r.minFilter.indexOf("MIPMAP")>0&&e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null),Object.assign(t.data,r),t},t.destroy=function(){e.deleteTexture(n)},t}(e)},createDrawingLayer:function(){return I(e)},createEffectLayer:function(){return I(e).update({sketches:[i()]})},draw:function(t,n){return L(e,t,null,n),u},compose:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return function(e,t,n,r){for(var i=t.length-1,o=function(o){var a=t[o],u=function(t,i){var o=n[0],u=n[1],c=!i&&null==a.target;if(i?(e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)):a.target?(e.bindFramebuffer(e.FRAMEBUFFER,a.target.frameBuffer),e.viewport(0,0,a.target.width,a.target.height)):(e.bindFramebuffer(e.FRAMEBUFFER,u.frameBuffer),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)),a.data.drawSettings&&E(e,a.data.drawSettings),a.sketches)for(var s=0,l=a.sketches;s<l.length;s++){var f=l[s];L(e,f,o.textures[0],t)}else L(e,r,null,{source:a.texture()});a.data.drawSettings&&w(e,a.data.drawSettings),c&&(n[0]=u,n[1]=o)};if(Array.isArray(a.uniforms))for(var c=i+a.uniforms.length-1,s=0;s<a.uniforms.length;s++){var l=o+s===c;u(a.uniforms[s],l)}else{l=o===i;u(a.uniforms,l)}},a=0;a<t.length;a++)o(a)}(e,n,t,o),u},resize:a,destroy:function(){o.destroy();for(var n=0,r=t;n<r.length;n++){var i=r[n];O(e,i)}}};return u}function L(e,t,n,r){var i=t.shade,o=t.uniforms,a=t.form,u=t.drawSettings;if(!i||!a)throw Error("cannot draw, shader or geometry are not set");if(e.useProgram(i.program),function(e,t){for(var n in t.attribs){var r=e.attributeSetters[n];r&&r.setter(t.attribs[n])}}(i,a),r&&F(i,r,n),u&&E(e,u),Array.isArray(o))for(var c=0,s=o;c<s.length;c++)D(e,t,n,s[c]);else D(e,t,n,o);u&&w(e,u)}function D(e,t,n,r){r&&F(t.shade,r,n),t.form.elements&&null!=t.form.elements.glType?(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.form.elements.buffer),e.drawElements(t.form.drawType,t.form.itemCount,t.form.elements.glType,0)):e.drawArrays(t.form.drawType,0,t.form.itemCount)}function F(e,t,n){for(var r in t){var i=e.uniformSetters[r];if(i){var o=t[r];null===o||"string"==typeof o?i.setter(n):i.setter(o)}}}},,,function(e,t,n){"use strict";function r(e){function t(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.r(t),n.d(t,"canvasSize",function(){return a}),n.d(t,"painter",function(){return u}),n.d(t,"gl",function(){return c});var r,i=n(9),o=n(32),a=(r=Object(i.g)(o.canvas,o.windowSize)).canvasSize,u=r.painter,c=r.gl},,function(e,t,n){"use strict";function r(e,t,n){return t+e*(n-t)}n.d(t,"a",function(){return r}),Math.PI},,function(e,t,n){"use strict";var r=n(3),i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};n.d(t,"a",function(){return a});var o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function a(){var e={},t={},n={},a={es:{},ps:{}},u={},c=null,s=!1;function l(e){return null==e||"object"!=typeof e||Array.isArray(e)||(u=function e(t,n){if("object"==typeof t&&"object"==typeof n&&!Array.isArray(t)&&!Array.isArray(n)&&t!==n){var r=i({},t);for(var o in n){var a=t[o],u=n[o];void 0!==u?r[o]=e(a,u):delete r[o]}return r}return n}(u,e)),u}function f(e){return a.es[e]&&a.es[e].val}function d(e,t){j(k(e),t,!0)&&S()}function p(t){var n=Object(r.c)(t);e[n.id]=n;var i,o=k(n.id);return void 0===n.value||!n.reset&&void 0!==o.val||(o.val=n.value,O[n.id]=!1,w=!0),o.accept=n.accept,n.meta&&l({entities:(i={},i[n.id]=n.meta,i)}),n}function h(t){var n=k(t);for(var r in n.arcs)m(r);var i,o=e[t];o&&o.meta&&l({entities:(i={},i[o.id]=void 0,i)}),delete a.es[t],delete e[t]}function v(e){var i,o=Object(r.d)(e,c),a=o.ports,u=I(o.id);for(var s in t[o.id]=o,delete u.acc,u.values=[],u.sources=[],u.async=o.async,u.delta=o.delta,Object.keys(u.arcs).forEach(function(e){var t=n[e].port;null==t||a[t]&&a[t]!==r.a.ACCUMULATOR||m(e)}),a.forEach(function(e,t){e===r.a.ACCUMULATOR&&(u.acc=t)}),u.arcs)b(n[s]);return o.meta&&l({processes:(i={},i[o.id]=o.meta,i)}),o}function g(e){var n=I(e);for(var r in n.stop&&(n.stop(),delete n.stop),n.arcs)m(r);delete a.ps[e];var i,o=t[e];o&&o.meta&&l({processes:(i={},i[o.id]=void 0,i)}),delete t[e]}function y(e){var i=Object(r.b)(e);n[i.id]=i,b(i);var o,a=I(i.process),u=t[i.process];return u&&!0===u.autostart&&Object.keys(a.arcs).length===Object.keys(u.ports).length+1&&function(e){e.async?requestAnimationFrame(function(){A(e)}):(A(e),e.out&&(O[e.out.id]=!1))}(a),i.meta&&l({arcs:(o={},o[i.id]=i.meta,o)}),i}function m(e){var t,r=n[e];if(r){var i=I(r.process),o=k(r.entity);delete i.arcs[e],delete o.arcs[e],null!=r.port?(delete o.effects[r.process],delete i.sources[r.port],delete i.values[r.port]):(i.stop&&(i.stop(),delete i.stop),i.sink=function(){},delete i.out,delete o.reactions[r.process]),r.meta&&l({arcs:(t={},t[r.id]=void 0,t)})}delete n[e]}function b(e){var n=e.process,i=e.entity,o=I(n),a=k(i),u=t[n];a.arcs[e.id]=!0,u&&(o.arcs[e.id]=!0,null!=e.port?(delete a.effects[n],u.ports&&null!=u.ports[e.port]&&(o.sources[e.port]=a,u.ports[e.port]===r.a.HOT&&(a.effects[n]=o))):(o.out=a,null!=o.acc?(o.sources[o.acc]=a,a.reactions[n]=o):delete a.reactions[n],o.sink=function(e){j(a,e,!0)&&!E&&S()}))}function _(e){if(e.entities)for(var t in e.entities)p(e.entities[t]);if(e.processes)for(var t in e.processes)v(e.processes[t]);if(e.arcs)for(var t in e.arcs)y(e.arcs[t]);l(e.meta)}var T={},O={},E=!1,w=!1;function S(){s&&console.log("flushing graph recursively with",O);for(var e=Object.keys(O),t=0,n=e;t<n.length;t++){var r=n[t];if(O[r]){var i=a.es[r];for(var o in i.reactions)A(i.reactions[o])}}var u={};O={},w=!1,E=!0;for(var c=0,l=e;c<l.length;c++)for(var o in r=l[c],(i=a.es[r]).cb.length>0&&(T[r]=i),i.effects)u[o]||(A(i.effects[o]),u[o]=!0);if(E=!1,w)S();else{var f=Object.keys(T);for(var d in T={},f)for(var p=0,h=(i=a.es[f[d]]).cb;p<h.length;p++)(0,h[p])(i.val);s&&console.log("flush finished")}}function A(e){for(var n=!0,r=0;r<e.sources.length;r++){var i=e.sources[r];if(void 0===i.val){n=!1;break}if(e.values[r]=i.val,e.delta){if(void 0===i.oldVal){n=!1;break}e.values[r+1]=i.oldVal}}if(n)if(s&&console.log("running process",e.id),e.async)e.stop&&e.stop(),e.stop=t[e.id].procedure.apply(c,[e.sink].concat(e.values));else{var o=t[e.id].procedure.apply(c,e.values);e.out&&j(e.out,o,null==e.acc)}}function j(e,t,n){return!(void 0===t||e.accept&&!e.accept(t,e.val)||(e.oldVal=e.val,e.val=t,O[e.id]=n,w=!0,0))}function k(t){return e[t]||p({id:t}),a.es[t]||(a.es[t]={id:t,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function I(e){return a.ps[e]||(a.ps[e]={id:e,arcs:{},sink:function(){}})}return{addEntity:p,removeEntity:h,addProcess:v,removeProcess:g,addArc:y,removeArc:m,addGraph:_,replaceGraph:function(n){var r={},i={};if(n.entities)for(var o in n.entities){var a=n.entities[o];a.id&&(r[a.id]=!0)}if(n.processes)for(var o in n.processes){var u=n.processes[o];u.id&&(i[u.id]=!0)}Object.keys(e).filter(function(e){return!r[e]}).forEach(h),Object.keys(t).filter(function(e){return!i[e]}).forEach(g),_(n)},getGraph:function(){return{entities:e,processes:t,arcs:n,meta:u}},getState:function(){var e={};for(var t in a.es)e[t]=a.es[t].val;return e},setMeta:l,getMeta:function(){return u},getContext:function(){return c},setContext:function(e){c=e},setDebug:function(e){s=e},get:f,set:d,update:function(e,t){d(e,t(f(e)))},on:function(e,t){k(e).cb.push(t)},off:function(e,t){var n=k(e);n.cb=t?n.cb.filter(function(e){return e!==t}):[]},start:function(e){var t=I(e);A(t),t.async||S()},stop:function(e){var t=I(e);t.stop&&(t.stop(),delete t.stop)},flush:S,PORT_TYPES:o({},r.a)}}},function(e,t,n){"use strict";var r=n(1);function i(e,t){e.replaceGraph(function(e,t){var n=e.keys().map(function(t){var n=e(t);return Object.values(Object(r.f)(n,function(e,n){return void 0===n&&(n="."),t.split(".")[1].split("/").filter(function(e){return e}).join(n)}(0,void 0))).filter(r.e)}).reduce(function(e,t){return e.concat(t)},[]);return Object(r.d)(n)}(t)),window.entities=function(e){function t(e){return function(){for(var t in this)"function"==typeof this[t][e]&&this[t][e]()}}function n(n){var r=e.getGraph(),i=r.entities,o=r.arcs,a=r.processes;return Object.keys(i).reduce(function(n,r){var u,c=(void 0===(u=n)&&(u={}),r.split(".").reduce(function(e,n){return e[n]=e[n]||{reset:t("reset"),watch:t("watch"),unwatch:t("unwatch")}},u)),s=i[r],l=Object.keys(o).map(function(e){return o[e]}).filter(function(e){return e.entity===r&&!e.port}).map(function(e){return e.process});return c.id=r,Object.defineProperty(c,"val",{get:function(){return e.get(r)},set:function(t){return e.set(r,t)}}),c.update=function(t){e.update(r,t)},c.reset=function(){null!=s.value&&e.set(r,s.value)},c.watch=function(){e.on(r,function(e){return console.log(r,e)})},c.unwatch=function(){e.off(r)},c.streams={},l.forEach(function(t){var n=t.split(".").pop();n&&(c.streams[n]={start:function(){e.start(t)}},a[t].async&&(c.streams[n].stop=function(){e.stop(t)}))}),n},n)}return n({update:function(){for(var e in this)"update"!==e&&delete this[e];n(this)}})}(e)}n.d(t,"a",function(){return i})},function(module,exports,__webpack_require__){module.exports=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=33)}([function(e,t,n){"use strict";function r(e,t){return t?t+"."+e:e}function i(e){var t,n,i,a=e.value,l=Object(s.a)(),f=[],p={};return p.HOT={entity:p,type:c.PORT_TYPES.HOT},p.COLD={entity:p,type:c.PORT_TYPES.COLD},p.id=function(e,n){return l=r(e,n),t=n,p},p.val=function(e){return a=e,p},p.updateVal=function(e){return a=e(a),p},p.accept=function(e){return n=e,p},p.reset=function(){return i=!0,p},p.getId=function(){return l},e.procedure&&f.push(e),p.react=function(e,t,n){var r=o(e,t,n);r.pidSuffix=d;var i=r.dependencies;return r.dependencies=[{entity:p,type:c.PORT_TYPES.ACCUMULATOR}],i&&i.length&&(r.dependencies=r.dependencies.concat(i)),f.push(r),p},p.getGraph=function(){var e=u.empty();return e.entities[l]=Object(c.createEntity)({id:l,value:a,accept:n,reset:i}),f.forEach(function(n){var i=n.dependencies,o=n.processId?r(n.processId,t):l+n.pidSuffix+(i&&i.length?":"+i.reduce(function(e,t){var n=t.entity.getId();return n===l?e:e+":"+n},""):""),a=[];i&&i.forEach(function(t,n){if(a[n]=t.type,t.type!==c.PORT_TYPES.ACCUMULATOR){var r=Object(c.createArc)({process:o,entity:t.entity.getId(),port:n});e.arcs[r.id]=r}});var u=Object(c.createArc)({process:o,entity:l});e.arcs[u.id]=u,e.processes[o]=Object(c.createProcess)({id:o,ports:a,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),e},p}function o(e,t,n){var r={procedure:t};return null!=e&&e.length&&(r.dependencies=e),"string"==typeof n?r.processId=n:r.pidSuffix=f,r}function a(e){return e&&"function"==typeof e.id&&"function"==typeof e.getGraph&&e.HOT&&e.COLD}Object.defineProperty(t,"__esModule",{value:!0}),t.val=function(e){return i({value:e})},n.d(t,"stream",function(){return p}),n.d(t,"asyncStream",function(){return h}),n.d(t,"streamStart",function(){return v}),n.d(t,"asyncStreamStart",function(){return g}),n.d(t,"delta",function(){return y}),t.isEntity=a,t.resolveEntityIds=function(e,t){for(var n in e){var r=e[n];a(r)&&r.id(n,t)}return e},t.getGraphFromAll=function(e){var t=[];for(var n in e){var r=e[n];a(r)&&t.push(r)}return t.reduce(function(e,t){return u.merge(e,t.getGraph())},u.empty())};var u=n(20),c=n(4),s=n(19),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f="Stream",d="Reaction",p=function(e,t,n){return i(o(e,t,n))},h=function(e,t,n){return i(l({},o(e,t,n),{async:!0}))},v=function(e,t,n){return i(l({},o(e,t,n),{autostart:!0}))},g=function(e,t,n){return i(l({},o(e,t,n),{async:!0,autostart:!0}))},y=function(e,t,n){return i(l({},o([e.HOT],t,n),{delta:!0}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44);t.TypeStyle=r.TypeStyle;var i=n(46);t.types=i;var o=n(24);t.extend=o.extend,t.classes=o.classes,t.media=o.media;var a=new r.TypeStyle({autoGenerateTag:!0});t.setStylesTarget=a.setStylesTarget,t.cssRaw=a.cssRaw,t.cssRule=a.cssRule,t.forceRenderStyles=a.forceRenderStyles,t.fontFace=a.fontFace,t.getStyles=a.getStyles,t.keyframes=a.keyframes,t.reinit=a.reinit,t.style=a.style,t.createTypeStyle=function(e){var t=new r.TypeStyle({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},function(e,t,n){"use strict";var r=n(50);n.d(t,"d",function(){return r.a}),n.d(t,"h",function(){return r.b});var i=n(51);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b}),n.d(t,"c",function(){return i.c}),n.d(t,"e",function(){return i.d}),n.d(t,"f",function(){return i.e}),n.d(t,"g",function(){return i.f}),n.d(t,"i",function(){return i.g});var o=n(52);n.d(t,"j",function(){return o.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"runtimes",function(){return f}),n.d(t,"selectedRuntimeId",function(){return d}),n.d(t,"runtime",function(){return p}),n.d(t,"meta",function(){return h}),n.d(t,"metaGraph",function(){return v}),n.d(t,"metaTree",function(){return g}),n.d(t,"metaEntity",function(){return y}),n.d(t,"metaEntities",function(){return m}),n.d(t,"metaControls",function(){return b}),n.d(t,"graph",function(){return _}),n.d(t,"enhancedGraphData",function(){return T});var r=n(0),i=n(17),o=n(8),a=n(5),u=n(13),c=n(7),s=n(64),l=(n.n(s),this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}),f=Object(r.val)({}).react([i.action.HOT],function(e,t){if(t.type===a.a.SET_RUNTIME)return l({},e,((n={})[t.payload.label]=t.payload.runtime,n));var n}),d=Object(r.val)("").react([f.HOT],function(e,t){return e||Object.keys(t)[0]}).react([i.action.HOT],function(e,t){if(t.type===a.a.SELECT_ACTIVE_RUNTIME)return t.payload}),p=Object(r.stream)([f.COLD,d.HOT],function(e,t){return e[t]}).react([i.action.HOT],function(e,t){var n=t.type,r=t.payload;switch(n){case a.a.PROCESS_RUN:return void e.start(r);case a.a.PROCESS_STOP:return void e.stop(r);case a.a.ENTITY_RESET:return void e.set(r,e.getGraph().entities[r].value);case a.a.ENTITY_INSPECT:return void console.log(r,e.get(r))}}),h=Object(r.stream)([p.HOT],function(e){return e.getMeta()}).react([i.action.HOT,p.COLD],function(e,t,n){var r,i,o,c,s,l,f,d=t.type,p=t.payload,h=n,v=e.ui,g=v&&v.graph,y=v&&v.tree,m=v&&v.entity,b=g&&g.viewBox,_=v&&v.activeWindow;switch(d){case a.b.MAIN.SET_ACTIVE_WINDOW:return h.setMeta({ui:{activeWindow:p}});case a.b.MAIN.UPDATE_VISIBILITY:var T=v&&v[p],O=T&&T.window&&T.window.visible;return h.setMeta({ui:(r={activeWindow:p},r[p]={window:{visible:!O}},r)});case a.b.MAIN.CLOSE_WINDOW:return h.setMeta({ui:(i={},i[p]={window:{visible:!1}},i)});case a.b.MAIN.MOVE_WINDOW:if(_){var E=v&&v[_];if(E&&E.position){var w=E.position.top-p.y,S=E.position.left-p.x;return h.setMeta(Object(u.d)({ui:{controls:{position:{top:w,left:S}}}}))}if(E){var A=E.window&&E.window.area;if(A){var j=A.top-p.y;S=A.left-p.x;return h.setMeta(Object(u.d)({ui:(o={},o[_]={window:{area:{top:j,left:S}}},o)}))}}}break;case a.b.MAIN.RESIZE_WINDOW:var k=_&&v&&v[_]&&v[_].window&&v[_].window.area;if(k)return h.setMeta(Object(u.d)({ui:(c={},c[_]={window:{area:{width:k.width-p.x,height:k.height-p.y}}},c)}));break;case a.b.TREE.TOGGLE_LEVEL:var I=y&&y.fold||{};return h.setMeta({ui:{tree:{fold:(s={},s[p]=!I[p],s)}}});case a.b.ENTITY.SET_ACTIVE_ENTITY:return h.setMeta({ui:{entity:{activeEntityId:p,activeProcessId:"",watchingEntity:!0}}});case a.b.ENTITY.SET_ACTIVE_PROCESS:return h.setMeta({ui:{entity:{activeProcessId:p,activeEntityId:"",watchingEntity:!1}}});case a.b.ENTITY.RESET_ACTIVE_NODE:return h.setMeta({ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1}}});case a.b.ENTITY.SAVE_VALUE:var x=m&&m.activeEntityId;return x&&h.set(x,p),h.setMeta({ui:{entity:{watchingEntity:!0}}});case a.b.ENTITY.WATCH_ACTIVE_ENTITY:return h.setMeta({ui:{entity:{watchingEntity:p}}});case a.b.ENTITY.SET_VIEW_MODE:return h.setMeta({ui:{entity:{viewMode:p}}});case a.b.ENTITY.SAVE_META:return h.setMeta({entities:(l={},l[p.id]=p.value,l)});case a.b.GRAPH.MOVE_VIEWPORT:return h.setMeta({ui:{graph:{viewBox:{offsetX:(b&&b.offsetX||0)+p.x,offsetY:(b&&b.offsetY||0)+p.y}}}});case a.b.GRAPH.UPDATE_SCALE:return h.setMeta({ui:{graph:{viewBox:{scale:p}}}});case a.b.GRAPH.UPDATE_SIZE:return p.width&&p.height?h.setMeta({ui:{graph:{viewBox:{width:p.width,height:p.height}}}}):void 0;case a.b.GRAPH.MOVE_ENTITY_POSITION:if(m&&m.activeEntityId){var N=e.entities&&e.entities[m.activeEntityId],C=N&&N.ui&&N.ui.graph&&N.ui.graph.position||p.start,R=g&&g.viewBox&&g.viewBox.scale||1;if(C)return h.setMeta({entities:(f={},f[m.activeEntityId]={ui:{graph:{position:{x:C.x-p.delta.x*R,y:C.y-p.delta.y*R}}}},f)})}}}).react([p.COLD,i.windowSize.HOT],function(e,t,n){return t.setMeta(Object(u.d)(e))}),v=Object(r.stream)([h.HOT],function(e){return e&&e.ui&&e.ui.graph}).accept(o.d),g=Object(r.stream)([h.HOT],function(e){return e&&e.ui&&e.ui.tree}).accept(o.d),y=Object(r.stream)([h.HOT],function(e){return e&&e.ui&&e.ui.entity}).accept(o.d),m=Object(r.stream)([h.HOT],function(e){return e&&e.entities}).accept(Object(o.c)(s)),b=Object(r.stream)([h.HOT],function(e){return e&&e.ui&&e.ui.controls}).accept(o.d),_=Object(r.stream)([p.HOT],function(e){return e.getGraph()}),T=Object(r.stream)([_.HOT],c.processGraph)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEntity=function(e){var t=e.id,n=void 0===t?Object(r.a)():t,i=e.value,o=e.json,a=e.accept,u=e.reset,c=e.meta;return void 0===i&&o&&(i=JSON.parse(o)),{id:n,value:i,accept:a,reset:u,meta:c}},t.createProcess=function(e,t){var n=e.id,a=void 0===n?Object(r.a)():n,u=e.ports,c=void 0===u?[]:u,s=e.procedure,l=e.code,f=e.autostart,d=void 0!==f&&f,p=e.async,h=void 0!==p&&p,v=e.delta,g=void 0!==v&&v,y=e.meta;if(null==s&&null!=l&&(s=Object(i.a)(l,t)),null==s)throw TypeError("Process must have procedure or code set");return g&&!c.length&&c.push(o.HOT),{id:a,ports:c,procedure:s,autostart:d,async:h,delta:g,meta:y}},t.createArc=function(e){var t=e.id,n=e.entity,r=e.process,i=e.port,o=e.meta;if(null==n)throw TypeError("no entity specified in arc "+t);if(null==r)throw TypeError("no process specified in arc "+t);return null==t&&(t=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:t,entity:n,process:r,port:i,meta:o}},n.d(t,"PORT_TYPES",function(){return o});var r=n(19),i=n(37),o={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r={ENTITY_INSPECT:"flow:entity_inspect",ENTITY_RESET:"flow:entity_reset",PROCESS_RUN:"flow:process_run",PROCESS_STOP:"flow:process_stop",SET_RUNTIME:"flow:set_runtime",SELECT_ACTIVE_RUNTIME:"flow:select_active_runtime"},i={ENTITY:{WATCH_ACTIVE_ENTITY:"gui:entity:watch_active_entity",SAVE_VALUE:"gui:entity:save_value",SAVE_META:"gui:entity:save_meta",SET_ACTIVE_PROCESS:"gui:entity:open_process",SET_ACTIVE_ENTITY:"gui:entity:open_entity",RESET_ACTIVE_NODE:"gui:entity:reset_entity",SET_VIEW_MODE:"gui:entity:set_view_mode"},GRAPH:{UPDATE_SCALE:"gui:graph:update_scale",UPDATE_SIZE:"gui:graph:update_size",MOVE_VIEWPORT:"gui:graph:move_viewport",MOVE_ENTITY_POSITION:"gui:graph:set_entity_position"},TREE:{TOGGLE_LEVEL:"gui:tree:toggle_level"},MAIN:{SET_ACTIVE_WINDOW:"gui:main:set_active_window",UPDATE_VISIBILITY:"gui:main:update_visibility",CLOSE_WINDOW:"gui:main:close_window",MOVE_WINDOW:"gui:main:set_window_position",RESIZE_WINDOW:"gui:main:resize_window"}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return f});var r=n(1),i=(n.n(r),n(47)),o="white",a=16,u="cyan",c={borderRadius:4,backgroundColor:Object(i.a)(40,40,40,.75).toString(),boxShadow:"0 10px 15px rgba(0,0,0,0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",borderBottom:"1px solid rgba(0, 0, 0, 0.6)"},s={borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.3) inset",borderBottom:"1px solid rgba(255, 255, 255, 0.4)",borderTop:"1px solid rgba(0, 0, 0, 0.6)"},l={padding:0,listStyle:"none"},f=Object(r.style)({position:"fixed",top:0,left:0,width:0,height:0,zIndex:1e3,fontSize:a,fontFamily:"sans-serif",lineHeight:1.5,color:o,userSelect:"none",$nest:{"& *":{userSelect:"none",MozUserSelect:"none"}}})},function(e,t,n){"use strict";function r(e){var t=e.split(".");return{label:t.pop(),group:t.join(".")}}Object.defineProperty(t,"__esModule",{value:!0}),t.createEntityTree=function(e,t){void 0===t&&(t=".");var n={};return Object.keys(e).sort().forEach(function(r){var i=e[r],o=i.id.split(t),a=n,u=o.slice(),c=[];o.forEach(function(){var e=u.shift();u.length?(c.push(e),a=a[e]=a[e]||{__path__:c.join(t)}):a[e]={__entity__:i}})}),n},t.processGraph=function(e){var t={},n={},a=function(n){var i=e.entities[n],a=r(n);t[n]=o({},i,{name:a.label,namespace:a.group,processes:Object.values(e.arcs).filter(function(e){return e.entity===i.id&&null==e.port}).map(function(e){return e.process})})};for(var u in e.entities)a(u);var c=function(t){var a=e.processes[t],u=r(t.split("::").shift()),c=a.ports.indexOf(i.PORT_TYPES.ACCUMULATOR),s=[],l=Object.values(e.arcs).find(function(e){return e.process===t&&null==e.port}),f=l&&l.entity;c>=0&&f&&(s[c]={eid:f,type:i.PORT_TYPES.ACCUMULATOR}),n[t]=o({},a,{name:u.label,namespace:u.group,reaction:c>=0,output:f,inputs:Object.values(e.arcs).filter(function(e){return e.process===t&&null!=e.port}).reduce(function(e,t){return e[t.port]={eid:t.entity,type:a.ports[t.port]},e},s)})};for(var s in e.processes)c(s);return{entities:t,processes:n}},t.printEntityName=function(e){return e.name?e.namespace+" / "+e.name:e.id||"No entity selected"};var i=n(4),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),t.a=r,t.b=function(e,t){if(e===t)return!0;if(!t)return!1;var n=Object.keys(e);if(!r(n,Object.keys(t)))return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(e[a]!==t[a])return!1}return!0};var i=function(e){return function(t,n){return!e(t,n)}},o=function(e,t){return e!==t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"activeEntityId",function(){return u}),n.d(t,"activeProcessId",function(){return c}),n.d(t,"activeEntity",function(){return s}),n.d(t,"activeProcess",function(){return l}),n.d(t,"activeNode",function(){return f}),n.d(t,"watchingEntity",function(){return d}),n.d(t,"activeValue",function(){return p});var r=n(0),i=n(8),o=n(3),a=n(12),u=Object(r.stream)([o.metaEntity.HOT],function(e){return e.activeEntityId}).accept(i.d),c=Object(r.stream)([o.metaEntity.HOT],function(e){return e.activeProcessId}).accept(i.d),s=Object(r.stream)([u.HOT,o.enhancedGraphData.COLD],function(e,t){return t.entities[e]||{id:e}}),l=Object(r.stream)([c.HOT,o.enhancedGraphData.COLD],function(e,t){return t.processes[e]||{id:e}}),f=Object(r.val)({id:""}).react([l.HOT,s.HOT],function(e,t,n){return t.id?t:n}),d=Object(r.stream)([o.metaEntity.HOT],function(e){return e.watchingEntity}).accept(i.d),p=Object(r.asyncStream)([o.runtime.COLD,u.HOT,a.visibility.HOT,d.HOT],function(e,t,n,r,i){if(n){var o=t.get(n);if(e(void 0===o?null:o),r.entity&&i)return t.on(n,e),function(){return t.off(n,e)}}else e(null)})},function(e,t,n){"use strict";(function(e){function n(e){return e.replace(p,y).replace(h,"-ms-")}function r(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function i(e,t){return"number"!=typeof t||0===t||b[e]?e+":"+t:e+":"+t+"px"}function o(e){return e.sort(function(e,t){return e[0]>t[0]?1:-1})}function a(e,r){for(var a=[],u=[],c=!1,s=0,l=Object.keys(e);s<l.length;s++){var f=l[s],d=e[f];null!==d&&void 0!==d&&(f===t.IS_UNIQUE?c=!0:"object"!=typeof d||Array.isArray(d)?a.push([n(f.trim()),d]):u.push([f.trim(),d]))}return{styleString:o(a).map(function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map(function(e){return i(t,e)}).join(";"):i(t,n)}).join(";"),nestedStyles:r?u:o(u),isUnique:c}}function u(e,t){return e.indexOf("&")>-1?e.replace(v,t):t+" "+e}function c(e,t,n,r,i){var o=a(n,!!t),s=o.styleString,l=o.nestedStyles,f=o.isUnique,p=s;if(64===t.charCodeAt(0)){var h=e.add(new I(t,i?void 0:s,e.hash));s&&i&&(b=h.add(new k(s,h.hash,f?"u"+(++d).toString(36):void 0)),r.push([i,b]));for(var v=0,g=l;v<g.length;v++){var y=g[v];p+=(E=y[0])+c(h,E,w=y[1],r,i)}}else{var m=i?u(t,i):t;if(s){var b=e.add(new k(s,e.hash,f?"u"+(++d).toString(36):void 0));r.push([m,b])}for(var _=0,T=l;_<T.length;_++){var O=T[_],E=O[0],w=O[1];p+=E+c(e,E,w,r,m)}}return p}function s(e,n,r,i,o){for(var a=new A(e.hash),s=[],l=c(a,n,r,s),f="f"+a.hash(l),d=o?o+"_"+f:f,p=0,h=s;p<h.length;p++){var v=h[p],g=v[0],y=v[1],m=i?u(g,"."+t.escape(d)):g;y.add(new j(m,y.hash,void 0,l))}return{cache:a,pid:l,id:d}}function l(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}var f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var d=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var p=/[A-Z]/g,h=/^ms-/,v=/&/g,g=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,y=function(e){return"-"+e.toLowerCase()},m=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],b=Object.create(null),_=0,T=["-webkit-","-ms-","-moz-","-o-",""];_<T.length;_++)for(var O=T[_],E=0,w=m;E<w.length;E++)b[O+w[E]]=!0;t.escape=function(e){return e.replace(g,"\\$&")},t.hyphenate=n,t.stringHash=r;var S={add:function(){},change:function(){},remove:function(){}},A=function(){function e(e,t){void 0===e&&(e=r),void 0===t&&(t=S),this.hash=e,this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,r=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else{if(r.getIdentifier()!==t.getIdentifier())throw new TypeError("Hash collision: "+t.getStyles()+" === "+r.getStyles());var i=this._keys.indexOf(t.id),o=this._keys.length-1,a=this.changeId;if(i!==o&&(this._keys.splice(i,1),this._keys.push(t.id),this.changeId++),r instanceof e&&t instanceof e){var u=r.changeId;r.merge(t),r.changeId!==u&&this.changeId++}this.changeId!==a&&(i===o?this.sheet.splice(i,1,r.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(o,0,r.getStyles())),this.changes.change(r,i,o))}return r},e.prototype.remove=function(t){var n=this._counters[t.id];if(n>0){this._counters[t.id]=n-1;var r=this._children[t.id],i=this._keys.indexOf(r.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(r,i);else if(r instanceof e&&t instanceof e){var o=r.changeId;r.unmerge(t),r.changeId!==o&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}}},e.prototype.merge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.add(e._children[r])}return this},e.prototype.unmerge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.remove(e._children[r])}return this},e.prototype.clone=function(){return new e(this.hash).merge(this)},e}();t.Cache=A;var j=function(){function e(e,t,n,r){void 0===n&&(n="s"+t(e)),void 0===r&&(r=""),this.selector=e,this.hash=t,this.id=n,this.pid=r}return e.prototype.getStyles=function(){return this.selector},e.prototype.getIdentifier=function(){return this.pid+"."+this.selector},e.prototype.clone=function(){return new e(this.selector,this.hash,this.id,this.pid)},e}();t.Selector=j;var k=function(e){function t(t,n,r){void 0===r&&(r="c"+n(t));var i=e.call(this,n)||this;return i.style=t,i.hash=n,i.id=r,i}return f(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.getIdentifier=function(){return this.style},t.prototype.clone=function(){return new t(this.style,this.hash,this.id).merge(this)},t}(A);t.Style=k;var I=function(e){function t(t,n,r,i,o){void 0===n&&(n=""),void 0===i&&(i="a"+r(t+"."+n)),void 0===o&&(o="");var a=e.call(this,r)||this;return a.rule=t,a.style=n,a.hash=r,a.id=i,a.pid=o,a}return f(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+l(this.sheet)+"}"},t.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},t.prototype.clone=function(){return new t(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},t}(A);t.Rule=I;var x=function(n){function i(t,i,o,a){void 0===t&&(t=r),void 0===i&&(i=void 0!==e&&!1),void 0===o&&(o="f"+(++d).toString(36));var u=n.call(this,t,a)||this;return u.hash=t,u.debug=i,u.id=o,u}return f(i,n),i.prototype.registerStyle=function(e,t){var n=s(this,"&",e,!0,this.debug?t:void 0),r=n.cache,i=n.id;return this.merge(r),i},i.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},i.prototype.registerHashRule=function(e,n,r){var i=s(this,"",n,!1,this.debug?r:void 0),o=i.cache,a=i.pid,u=i.id,c=new I(e+" "+t.escape(u),void 0,this.hash,void 0,a);return this.add(c.merge(o)),u},i.prototype.registerRule=function(e,t){this.merge(s(this,e,t,!1).cache)},i.prototype.registerCss=function(e){this.merge(s(this,"",e,!1).cache)},i.prototype.getStyles=function(){return l(this.sheet)},i.prototype.getIdentifier=function(){return this.id},i.prototype.clone=function(){return new i(this.hash,this.debug,this.id,this.changes).merge(this)},i}(A);t.FreeStyle=x,t.create=function(e,t,n){return new x(e,t,void 0,n)}}).call(t,n(42))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return c});var r=n(1),i=(n.n(r),n(6)),o=(Object(r.style)({margin:"0 4px",verticalAlign:"top",display:"inline-block",$nest:{"& input":{margin:5,verticalAlign:"middle"}}}),{margin:"0 4px",padding:"4px 10px 3px",border:0,color:i.a,fontSize:"1.0em",verticalAlign:"middle",cursor:"pointer",outline:"none",$nest:{"& > svg":{verticalAlign:"middle"},"&.selected":{backgroundColor:"transparent"},"&.tiny":{margin:0,fontSize:"0.9em",padding:"2px 5px",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"}}}),a=Object(r.style)(i.c,o),u=Object(r.style)(i.c,o,{padding:"0 4px"}),c=Object(r.style)({display:"inline-block",margin:"0 2px",padding:0,border:0,background:"transparent",boxShadow:"none",fontSize:"0.9em"})},function(e,t,n){"use strict";function r(e,t){e.react([d.COLD,p.HOT],function(e,n,r){if(n===t)return u({},e,{zIndex:r})})}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"metaTreeWindow",function(){return c}),n.d(t,"metaGraphWindow",function(){return s}),n.d(t,"metaEntityWindow",function(){return l}),n.d(t,"visibility",function(){return f}),n.d(t,"activeWindow",function(){return d}),n.d(t,"zIndex",function(){return p}),n.d(t,"controlsPosition",function(){return h}),n.d(t,"treeWindow",function(){return v}),n.d(t,"graphWindow",function(){return g}),n.d(t,"entityWindow",function(){return y});var i=n(0),o=n(8),a=n(3),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c=Object(i.stream)([a.metaTree.HOT],function(e){return e.window}).accept(o.d),s=Object(i.stream)([a.metaGraph.HOT],function(e){return e.window}).accept(o.d),l=Object(i.stream)([a.metaEntity.HOT],function(e){return e.window}).accept(o.d),f=Object(i.val)({tree:!1,graph:!1,entity:!1}).react([s.HOT],function(e,t){return u({},e,{graph:!!t.visible})}).react([l.HOT],function(e,t){return u({},e,{entity:!!t.visible})}).react([c.HOT],function(e,t){return u({},e,{tree:!!t.visible})}).accept(function(e,t){return t&&e&&(t.tree!==e.tree||t.entity!==e.entity||t.graph!==e.graph)}),d=Object(i.stream)([a.meta.HOT],function(e){return e.ui&&e.ui.activeWindow}).accept(o.d),p=Object(i.val)(0).react([d.HOT],function(e){return e+1}),h=Object(i.stream)([a.metaControls.HOT],function(e){return e.position}).accept(o.d),v=Object(i.stream)([c.HOT],function(e){return e.area}).accept(o.d),g=Object(i.stream)([s.HOT],function(e){return e.area}).accept(o.d),y=Object(i.stream)([l.HOT],function(e){return e.area}).accept(o.d);r(h,"controls"),r(v,"tree"),r(g,"graph"),r(y,"entity")},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),t.d=function(e){return function e(t,n){for(var r in t)"function"==typeof n[r]?t[r]=n[r](t[r]):t[r]&&"object"==typeof t[r]&&n[r]&&"object"==typeof n[r]&&e(t[r],n[r]);return t}(e,f)};var r,i=n(63),o={width:0,height:0,offsetX:0,offsetY:0,scale:1};!function(e){e.DETAILS="details",e.VALUE="value"}(r||(r={}));var a={ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1,window:{visible:!1,area:{top:50,left:400,width:400,height:500}}},graph:{viewBox:{width:600,height:600,offsetX:0,offsetY:0,scale:1},window:{visible:!1,area:{top:200,left:100,width:600,height:600}}},tree:{window:{visible:!1,area:{top:100,left:0,width:300,height:400}}},controls:{position:{top:0,left:0}}},entities:{}},u=function(e){return Object(i.a)(0,window.innerHeight-20,e)},c=function(e){return Object(i.a)(0,window.innerWidth-20,e)},s=function(e){return Math.min(window.innerWidth-20,e)},l=function(e){return Math.min(window.innerHeight-20,e)},f={ui:{entity:{window:{area:{top:u,left:c,width:s,height:l}}},graph:{window:{area:{top:u,left:c,width:s,height:l}}},tree:{window:{area:{top:u,left:c,width:s,height:l}}},controls:{position:{top:u,left:c}}}}},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 24 24"},["title","close"],["path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"}]]},t.d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 24 24"},["title","graph"],["path",{d:"M18 16.078c1.594 0 2.906 1.313 2.906 2.906s-1.313 2.953-2.906 2.953-2.906-1.359-2.906-2.953c0-0.234 0-0.469 0.047-0.656l-7.078-4.125c-0.563 0.516-1.266 0.797-2.063 0.797-1.641 0-3-1.359-3-3s1.359-3 3-3c0.797 0 1.5 0.281 2.063 0.797l7.031-4.078c-0.047-0.234-0.094-0.469-0.094-0.703 0-1.641 1.359-3 3-3s3 1.359 3 3-1.359 3-3 3c-0.797 0-1.5-0.328-2.063-0.844l-7.031 4.125c0.047 0.234 0.094 0.469 0.094 0.703s-0.047 0.469-0.094 0.703l7.125 4.125c0.516-0.469 1.219-0.75 1.969-0.75z"}]]},t.e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 24 24"},["title","list"],["path",{d:"M9 5.016h12v3.984h-12v-3.984zM9 18.984v-3.984h12v3.984h-12zM9 14.016v-4.031h12v4.031h-12zM3.984 9v-3.984h4.031v3.984h-4.031zM3.984 18.984v-3.984h4.031v3.984h-4.031zM3.984 14.016v-4.031h4.031v4.031h-4.031z"}]]},t.c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 24 24"},["title","entity"],["path",{d:"M16.641 1.688l5.672 5.672-5.672 5.625h4.359v8.016h-8.016v-8.016h3.656l-5.625-5.625v3.656h-8.016v-8.016h8.016v4.359zM3 21v-8.016h8.016v8.016h-8.016z"}]]},t.g=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 32 32"},["title","play"],["path",{d:"M6 4l20 12-20 12z"}]]},t.j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 32 32"},["title","stop"],["path",{d:"M4 4h24v24h-24z"}]]},t.k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 32 32"},["title","stopMarked"],["path",{d:"M4 4h24v24h-24z"}],["circle",{cx:"16",cy:"16",r:"6",fill:"#666"}]]},t.h=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 32 32"},["title","reset"],["path",{d:"M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"}]]},t.i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 32 32"},["title","show"],["path",{d:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"}]]},t.b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 32 32"},["title","copy"],["path",{d:"M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.122-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5z"}],["path",{d:"M18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"}]]},t.f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["svg",{class:r.a.apply(void 0,[o].concat(e)),viewBox:"0 0 32 32"},["title","more"],["path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"}],["path",{d:"M11.086 22.086l2.829 2.829 8.914-8.914-8.914-8.914-2.828 2.828 6.086 6.086z"}]]};var r=n(22),i=n(6),o=Object(r.b)({display:"inline-block",width:"1.1em",height:"1.1em",margin:4,strokeWidth:0,stroke:"currentColor",fill:"currentColor",verticalAlign:"bottom",$nest:{"&.selected":{fill:i.e}}})},function(e,t,n){"use strict";t.a=function(e){var t=e.title,n=e.onclick,o=e.icon,a=e.key,u=e.class,c=["button",{class:Object(r.classes)(i.c,u),onmouseup:n,title:t},o];return a&&(c[1].key=a),c};var r=n(1),i=(n.n(r),n(11))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var r=n(1),i=(n.n(r),n(6)),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=Object(r.style)(i.c,{display:"inline-block",position:"relative",padding:2,whiteSpace:"nowrap",$nest:{"& h1, & h2":{display:"inline-block",margin:"0 8px",fontSize:i.d,fontWeight:"normal",verticalAlign:"middle"},"& ul":o({},i.g,{display:"inline-block",margin:0,fontSize:i.d,fontWeight:"normal"}),"& li":{display:"inline-block"},"& nav":{display:"inline-block"}}}),u=Object(r.style)(i.c,{position:"absolute",display:"flex",flexDirection:"column",padding:5,paddingTop:1,alignItems:"stretch",alignContent:"stretch",$nest:{"&>.resize":{position:"absolute",width:20,height:20,bottom:0,right:0,borderRadius:4,cursor:"nwse-resize",background:"linear-gradient(135deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%)"},"&>header":{display:"flex",alignItems:"center",minHeight:26},"&>header input":{verticalAlign:"middle"},"&>header .gap":{flexGrow:1}}}),c=Object(r.style)(i.b,{overflow:"auto",position:"relative",flexGrow:1,padding:5,$nest:{"& h3":{fontSize:"1em"},"& a":{$nest:{"&:hover, &:focus":{cursor:"pointer",textDecoration:"underline"}}},"& td, & th":{paddingRight:"1em",paddingBottom:"0.5em",verticalAlign:"top",textAlign:"left"},"& p, & div":{marginTop:0,marginBottom:"0.5em"}}}),s=Object(r.style)(i.g,{margin:0,$nest:{"& ul":i.g,"& li":{paddingLeft:"1.5em",cursor:"pointer"},"&>li":{paddingLeft:0},"& .entity-controls":{display:"none"},"& .entity-item:hover>.entity-controls":{display:"inline"},"& .entity-item.selected":{color:i.e}}}),l=Object(r.style)({display:"flex",flexDirection:"column",flexGrow:1,overflow:"auto",$nest:{"& pre":{margin:0,MozUserSelect:"text",userSelect:"text"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"windowSize",function(){return o}),n.d(t,"element",function(){return a}),n.d(t,"action",function(){return u});var r=n(0),i=n(62),o=Object(r.asyncStreamStart)(null,i.a),a=Object(r.val)(),u=Object(r.val)()},function(e,t,n){e.exports=n(68).default,e.exports.default=e.exports},function(e,t,n){"use strict";t.a=function(){var e=function(){for(var e=0,t=void 0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random(),r[e]=t>>>((3&e)<<3)&255);return r}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){var t=i,n=0;return t[e[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+"-"+t[e[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]+t[e[n++]]}(e)};for(var r=new Array(16),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=function(){return{entities:{},processes:{},arcs:{},meta:{}}},t.merge=function(e,t){return{entities:r({},e.entities,t.entities),processes:r({},e.processes,t.processes),arcs:r({},e.arcs,t.arcs),meta:r({},e.meta,t.meta)}};var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t="."),e.split(".")[1].split("/").filter(function(e){return e}).join(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.modulePathToNamespace=r,t.getGraphFromModules=function(e,t){var n=e.keys().map(function(n){var o=e(n);return Object.values(Object(i.resolveEntityIds)(o,r(n,t))).filter(i.isEntity)}).reduce(function(e,t){return e.concat(t)},[]);return Object(i.getGraphFromAll)(n)};var i=n(0)},function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n(40),i=n(43),o=(n.n(i),n(23));n.d(t,"a",function(){return o.a});var a=new r.a({autoGenerateTag:!0}),u=(a.setStylesTarget,a.cssRaw,a.cssRule,a.forceRenderStyles,a.fontFace,a.getStyles,a.keyframes,a.reinit,a.style)},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return!!e}).join(" ")},t.b=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r={},i=0,o=t;i<o.length;i++){var a=o[i];if(null!=a&&!1!==a)for(var u in a){var c=a[u];(c||0===c)&&("$nest"===u&&c?r[u]=r.$nest?e(r.$nest,c):c:-1!==u.indexOf("&")||0===u.indexOf("@media")?r[u]=r[u]?e(r[u],c):c:r[u]=c)}}return r};var r="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:requestAnimationFrame.bind(window)},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},i=0,o=e;i<o.length;i++){var a=o[i];if(null!=a&&!1!==a)for(var u in a){var c=a[u];(c||0===c)&&("$nest"===u&&c?n[u]=n.$nest?r(n.$nest,c):c:-1!==u.indexOf("&")||0===u.indexOf("@media")?n[u]=n[u]?r(n[u],c):c:n[u]=c)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.raf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:requestAnimationFrame.bind(window),t.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return!!e}).join(" ")},t.extend=r,t.media=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o,a=[];return e.type&&a.push(e.type),e.orientation&&a.push(e.orientation),e.minWidth&&a.push("(min-width: "+i(e.minWidth)+")"),e.maxWidth&&a.push("(max-width: "+i(e.maxWidth)+")"),e.minHeight&&a.push("(min-height: "+i(e.minHeight)+")"),e.maxHeight&&a.push("(max-height: "+i(e.maxHeight)+")"),{$nest:(o={},o["@media "+a.join(" and ")]=r.apply(void 0,t),o)}};var i=function(e){return"string"==typeof e?e:e+"px"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),i=n(26),o=function(e){return function(){return Object(r.d)(arguments,function(e){return e||0===e}).map(function(e){return"number"==typeof e?Object(i.a)(e):e.toString()}).join(e)}},a=o(" ");o(",")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),i=(Object(r.g)("%"),Object(r.g)("deg"),Object(r.g)("em"),Object(r.g)("px"));Object(r.g)("rad"),Object(r.g)("rem"),Object(r.g)("vh"),Object(r.g)("vw"),Object(r.g)("turn")},function(e,t,n){"use strict";t.a=function(e,t){function n(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n),r=r.filter(function(e){return e!==o})}function i(t){for(var n=0,i=r;n<i.length;n++){var c=i[n];if(c!==o&&o.contains(c))return}e({x:a-t.clientX,y:u-t.clientY}),a=t.clientX,u=t.clientY}var o,a=0,u=0;return{onmousedown:function(e){o=e.currentTarget,r.push(o),a=e.clientX,u=e.clientY,document.addEventListener("mousemove",i),document.addEventListener("mouseup",n),t&&t(e)}}};var r=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"entityWindowProps",function(){return u}),n.d(t,"controlProps",function(){return c}),n.d(t,"treeWindowProps",function(){return s}),n.d(t,"graphWindowProps",function(){return l}),n.d(t,"entityViewProps",function(){return f}),n.d(t,"processViewProps",function(){return d});var r=n(0),i=n(9),o=n(12),a=n(3),u=Object(r.stream)([a.metaEntity.HOT,o.entityWindow.HOT,i.activeNode.HOT,o.activeWindow.HOT],function(e,t,n,r){return{viewMode:e.viewMode,dimensions:t,node:n,window:r}}),c=Object(r.stream)([o.visibility.HOT,o.controlsPosition.HOT],function(e,t){return{visibility:e,position:t}}),s=Object(r.stream)([o.treeWindow.HOT,o.activeWindow.HOT],function(e,t){return{dimensions:e,window:t}}),l=Object(r.stream)([o.graphWindow.HOT,o.activeWindow.HOT],function(e,t){return{dimensions:e,window:t}}),f=Object(r.stream)([i.activeEntity.HOT,i.activeValue.HOT,i.watchingEntity.HOT,a.enhancedGraphData.COLD,a.metaEntities.HOT],function(e,t,n,r,i){return{entity:e,value:t,watching:n,graph:r,meta:i[e.id]}}),d=Object(r.stream)([i.activeProcess.HOT,a.enhancedGraphData.COLD],function(e,t){return{process:e,graph:t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"viewBox",function(){return f}),n.d(t,"simulationSteps",function(){return d}),n.d(t,"initialPosition",function(){return p}),n.d(t,"entityPositions",function(){return h}),n.d(t,"graphData",function(){return v});var r=n(0),i=n(8),o=n(3),a=n(4),u=n(9),c=n(13),s=n(65),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f=Object(r.stream)([o.metaGraph.HOT],function(e){return e.viewBox||c.c}).accept(function(e,t){return!t||!Object(i.b)(e,t)}),d=Object(r.val)(500),p=Object(r.stream)([o.graph.HOT],function(e){var t={};for(var n in e.entities)t[n]={x:800*Math.random(),y:800*Math.random()};return t}),h=Object(r.asyncStream)([o.metaEntities.HOT,d.HOT,o.enhancedGraphData.COLD,p.HOT],function(e,t,n,r,i){function o(){for(var e={},t=0;t<f.length;t++){for(var o=f[t],u=r.entities[o],c=i[o],l=0,d=u.processes;l<d.length;l++)for(var p=d[l],h=0,v=r.processes[p].inputs;h<v.length;h++){var g=v[h],y=r.entities[g.eid].namespace===u.namespace?200:300,m=i[g.eid],b=Object(s.e)([m.x,m.y],[c.x,c.y]),_=Object(s.b)(b),T=Object(s.d)(b),O=_-y,E=g.type===a.PORT_TYPES.COLD?.5*O:2*O;e[o]=Object(s.a)(e[o]||[0,0],Object(s.c)(E,T)),e[g.eid]=Object(s.a)(e[g.eid]||[0,0],Object(s.c)(-1*E,T))}for(var w=t+1;w<f.length;w++){var S=f[w],A=r.entities[S];m=i[S],b=Object(s.e)([m.x,m.y],[c.x,c.y]),_=Object(s.b)(b),T=Object(s.d)(b),E=Math.max(100-_,0);if(e[o]=Object(s.a)(e[o]||[0,0],Object(s.c)(-1*E,T)),e[S]=Object(s.a)(e[S]||[0,0],Object(s.c)(E,T)),u.namespace===A.namespace){var j=_-300;e[o]=Object(s.a)(e[o]||[0,0],Object(s.c)(j,T)),e[S]=Object(s.a)(e[S]||[0,0],Object(s.c)(-1*j,T))}else{var k=Math.max(300-_,0);e[o]=Object(s.a)(e[o]||[0,0],Object(s.c)(-1*k,T)),e[S]=Object(s.a)(e[S]||[0,0],Object(s.c)(k,T))}}}for(var o in e){E=e[o];var I=Object(s.b)(E);if(I>n/2){var x=Object(s.d)(E),N=i[o],C=Object(s.a)([N.x,N.y],Object(s.c)(I/n,x)),R=C[0],M=C[1];i[o]={x:Math.floor(R),y:Math.floor(M)}}}}for(var u in t){var c=t[u],l=c&&c.ui&&c.ui.graph&&c.ui.graph.position;l&&(i[u]=l)}e(i);var f=Object.keys(r.entities),d=n;return requestAnimationFrame(function t(){if(d>10){var n={};for(var r in i)n[r]=i[r];for(var a=10;a>0;a--)o(),d--;var u=!0;for(var r in i){var c=n[r],s=i[r];c===s||c.x===s.x&&c.y===s.y||(u=!1)}u||(e(i),d>10&&setTimeout(t,60))}}),function(){d=0}});o.runtime.react([h.HOT],function(e,t){var n={};for(var r in t)n[r]={ui:{graph:{position:t[r]}}};e.setMeta({entities:n})});var v=Object(r.stream)([o.enhancedGraphData.HOT,u.activeNode.HOT,h.HOT],function(e,t,n){var r={},i=0,o=[],u=[],c=[];for(var s in e.entities){var f=e.entities[s];r[f.namespace]=r[f.namespace]||i++%7+1;var d=l({},n[s],{id:f.id,class:"group-"+r[f.namespace],label:f.name,active:f.id===t.id});null!=f.accept&&(d.accept=!0),null!=f.value&&(d.initial=!0),u.push(d);for(var p=0,h=f.processes;p<h.length;p++){var v=h[p],g=e.processes[v],y={id:g.id,async:g.async,autostart:g.autostart,active:g.id===t.id,acc:g.reaction,from:g.inputs,to:s,class:d.class};if(g.inputs.length){y.x=0,y.y=0;for(var m=0,b=g.inputs;m<b.length;m++){var _=b[m],T=_.eid,O=_.type,E=n[T];if(E){var w=E.x-d.x,S=E.y-d.y;O===a.PORT_TYPES.COLD&&(w/=2,S/=2),y.x+=w,y.y+=S}y.fromIsActive=y.fromIsActive||T===t.id,c.push({from:E,to:y,class:"from"+(O===a.PORT_TYPES.COLD?" cold":""),title:O,active:d.active||y.active||T===t.id})}var A=Math.sqrt(y.x*y.x+y.y*y.y);y.x=50*y.x/A+d.x,y.y=50*y.y/A+d.y}else y.x=d.x,y.y=d.y-50;o.push(y),c.push({from:y,to:d,class:"to"+(g.async?" async":""),active:d.active||y.active||y.fromIsActive}),g.reaction&&c.push({from:y,to:d,class:"to acc"})}}return{entities:u,processes:o,edges:c}}).react([f.HOT],function(e,t){return e.viewBox={x:t.offsetX*t.scale,y:t.offsetY*t.scale,width:t.width*t.scale,height:t.height*t.scale},e})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"entityTree",function(){return u}),n.d(t,"treeData",function(){return c});var r=n(0),i=n(9),o=n(3),a=n(7),u=Object(r.stream)([o.enhancedGraphData.HOT],function(e){return Object(a.createEntityTree)(e.entities)}),c=Object(r.stream)([o.metaTree.HOT,u.HOT,i.activeEntity.HOT],function(e,t,n){return{fold:e.fold||{},tree:t,selected:n}}).val({fold:{},tree:{},selected:null})},function(e,t,n){"use strict";function r(){for(var e in f)f[e]();f={},d=!0}function i(e){if("function"==typeof e)return c()(e);if(!Array.isArray(e))return e;var t=e.shift(),n=e[0];return"object"!=typeof n||Array.isArray(n)?n={}:e.shift(),e.length?c()(t,n,e.map(i)):c()(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ComponentClass",function(){return l}),t.flowComponentFactory=function(e,t,n){function o(n,r){"string"==typeof n?e.set(t,{type:n,payload:r}):e.set(t,n)}void 0===n&&(n=!1);var a={};return function t(u,c){var p=c.getId(),h=p+u.toString();if(a[h])return a[h];var v=function(a){function c(){var t=null!==a&&a.apply(this,arguments)||this;return t.state={current:e.get(p)},t.update=function(){t.setState(function(t){return t.current=e.get(p),t})},t.updateAsync=function(){!function(e,t){f[e]=t,d&&(requestAnimationFrame(r),d=!1)}(h,t.update)},t}return s(c,a),c.prototype.render=function(){if(void 0!==this.state.current)return i(u(this.state.current,o,t))},c.prototype.componentDidMount=function(){n&&console.log("component mounted!",this),e.on(p,this.updateAsync)},c.prototype.componentWillUnmount=function(){n&&console.log("component will unmount!",this),e.off(p,this.updateAsync)},c}(l);return a[h]=v,v}},t.h=i;var o=n(66),a=n.n(o),u=n(32),c=n.n(u),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(a.a),f={},d=!0},function(e,t,n){e.exports=n(69).default,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ui",function(){return c}),n.d(t,"console",function(){return s}),n.d(t,"utils",function(){return l});var r=n(34),i=n(81),o=n(7),a=n(21),u=n(31);t.default=r;var c=r,s={tree:i},l={entityData:o,webpack:a,yoyo:u}},function(e,t,n){"use strict";function r(e){return"tvsFlowTools::"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e){var t=b({debug:!1,graph:null},e),n=i.a.create();n.addGraph(Object(o.getGraphFromModules)(_)),n.flush();var s=Object(u.flowComponentFactory)(n,c.action.getId(),t.debug),f=Object(a.a)(s),p=document.createElement("div");p.className="tvs-flow-tools-container",document.body.appendChild(p),d.a.render(h()(f),p),n.set(c.element.getId(),p);var T=new l.a(".tvs-save-graph",{text:function(){return JSON.stringify(n.get(g.meta.getId()),null,"  ")}});return T.on("success",function(e){return console.log("saved graph to clipboard",e)}),T.on("error",function(e){return console.log("error while saving graph to clipboard",e)}),n.on(g.meta.getId(),m(function(e){var t=n.get(g.selectedRuntimeId.getId());t&&localStorage.setItem(r(t),JSON.stringify(e))},300)),{setFlow:function(e,t){var i=e.getMeta(),o=localStorage.getItem(r(t));if(e.setMeta(b({},y.b,{name:t})),o){var a=JSON.parse(o);e.setMeta(a)}e.setMeta(i),requestAnimationFrame(function(){n.set(c.action.getId(),{type:v.a.SET_RUNTIME,payload:{label:t,runtime:e}})})},dispose:function(){document.body.removeChild(p),T.destroy()},getState:function(){return n},getElement:function(){return p}}};var i=n(35),o=n(21),a=n(39),u=n(31),c=n(17),s=n(70),l=n.n(s),f=n(18),d=n.n(f),p=n(32),h=n.n(p),v=n(5),g=n(3),y=n(13),m=n(78),b=(n.n(m),this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}),_=n(80)},function(e,t,n){"use strict";var r=n(36);n(0),n(20),n(4),t.a=r,r.create},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){function e(e){return null==e||"object"!=typeof e||Array.isArray(e)||(E=Object(i.a)(E,e)),E}function t(e){return O.es[e]&&O.es[e].val}function n(e,t){g(y(e),t,!0)&&h()}function a(t){var n=Object(r.createEntity)(t);b[n.id]=n;var i,o=y(n.id);return void 0===n.value||!n.reset&&void 0!==o.val||(o.val=n.value,j[n.id]=!1,I=!0),o.accept=n.accept,n.meta&&e({entities:(i={},i[n.id]=n.meta,i)}),n}function u(t){var n=y(t);for(var r in n.arcs)f(r);var i,o=b[t];o&&o.meta&&e({entities:(i={},i[o.id]=void 0,i)}),delete O.es[t],delete b[t]}function c(t){var n,i=Object(r.createProcess)(t,w),o=i.ports,a=m(i.id);for(var u in _[i.id]=i,delete a.acc,a.values=[],a.sources=[],a.async=i.async,a.delta=i.delta,Object.keys(a.arcs).forEach(function(e){var t=T[e].port;null==t||o[t]&&o[t]!==r.PORT_TYPES.ACCUMULATOR||f(e)}),o.forEach(function(e,t){e===r.PORT_TYPES.ACCUMULATOR&&(a.acc=t)}),a.arcs)d(T[u]);return i.meta&&e({processes:(n={},n[i.id]=i.meta,n)}),i}function s(t){var n=m(t);for(var r in n.stop&&(n.stop(),delete n.stop),n.arcs)f(r);delete O.ps[t];var i,o=_[t];o&&o.meta&&e({processes:(i={},i[o.id]=void 0,i)}),delete _[t]}function l(t){var n=Object(r.createArc)(t);T[n.id]=n,d(n);var i,o=m(n.process),a=_[n.process];return a&&!0===a.autostart&&Object.keys(o.arcs).length===Object.keys(a.ports).length+1&&function(e){e.async?requestAnimationFrame(function(){v(e)}):(v(e),e.out&&(j[e.out.id]=!1))}(o),n.meta&&e({arcs:(i={},i[n.id]=n.meta,i)}),n}function f(t){var n,r=T[t];if(r){var i=m(r.process),o=y(r.entity);delete i.arcs[t],delete o.arcs[t],null!=r.port?(delete o.effects[r.process],delete i.sources[r.port],delete i.values[r.port]):(i.stop&&(i.stop(),delete i.stop),i.sink=function(){},delete i.out,delete o.reactions[r.process]),r.meta&&e({arcs:(n={},n[r.id]=void 0,n)})}delete T[t]}function d(e){var t=e.process,n=e.entity,i=m(t),o=y(n),a=_[t];o.arcs[e.id]=!0,a&&(i.arcs[e.id]=!0,null!=e.port?(delete o.effects[t],a.ports&&null!=a.ports[e.port]&&(i.sources[e.port]=o,a.ports[e.port]===r.PORT_TYPES.HOT&&(o.effects[t]=i))):(i.out=o,null!=i.acc?(i.sources[i.acc]=o,o.reactions[t]=i):delete o.reactions[t],i.sink=function(e){g(o,e,!0)&&!k&&h()}))}function p(t){if(t.entities)for(var n in t.entities)a(t.entities[n]);if(t.processes)for(var n in t.processes)c(t.processes[n]);if(t.arcs)for(var n in t.arcs)l(t.arcs[n]);e(t.meta)}function h(){S&&console.log("flushing graph recursively with",j);for(var e=Object.keys(j),t=0,n=e;t<n.length;t++)if(u=n[t],j[u])for(var r in(l=O.es[u]).reactions)v(l.reactions[r]);var i={};j={},I=!1,k=!0;for(var o=0,a=e;o<a.length;o++){var u=a[o];for(var r in(l=O.es[u]).cb.length>0&&(A[u]=l),l.effects)i[r]||(v(l.effects[r]),i[r]=!0)}if(k=!1,I)h();else{var c=Object.keys(A);for(var s in A={},c)for(var l,f=0,d=(l=O.es[c[s]]).cb;f<d.length;f++)(0,d[f])(l.val);S&&console.log("flush finished")}}function v(e){for(var t=!0,n=0;n<e.sources.length;n++){var r=e.sources[n];if(void 0===r.val){t=!1;break}if(e.values[n]=r.val,e.delta){if(void 0===r.oldVal){t=!1;break}e.values[n+1]=r.oldVal}}if(t)if(S&&console.log("running process",e.id),e.async)e.stop&&e.stop(),e.stop=_[e.id].procedure.apply(w,[e.sink].concat(e.values));else{var i=_[e.id].procedure.apply(w,e.values);e.out&&g(e.out,i,null==e.acc)}}function g(e,t,n){return!(void 0===t||e.accept&&!e.accept(t,e.val)||(e.oldVal=e.val,e.val=t,j[e.id]=n,I=!0,0))}function y(e){return b[e]||a({id:e}),O.es[e]||(O.es[e]={id:e,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function m(e){return O.ps[e]||(O.ps[e]={id:e,arcs:{},sink:function(){}})}var b={},_={},T={},O={es:{},ps:{}},E={},w=null,S=!1,A={},j={},k=!1,I=!1;return{addEntity:a,removeEntity:u,addProcess:c,removeProcess:s,addArc:l,removeArc:f,addGraph:p,replaceGraph:function(e){var t={},n={};if(e.entities)for(var r in e.entities){var i=e.entities[r];i.id&&(t[i.id]=!0)}if(e.processes)for(var r in e.processes){var o=e.processes[r];o.id&&(n[o.id]=!0)}Object.keys(b).filter(function(e){return!t[e]}).forEach(u),Object.keys(_).filter(function(e){return!n[e]}).forEach(s),p(e)},getGraph:function(){return{entities:b,processes:_,arcs:T,meta:E}},getState:function(){var e={};for(var t in O.es)e[t]=O.es[t].val;return e},setMeta:e,getMeta:function(){return E},getContext:function(){return w},setContext:function(e){w=e},setDebug:function(e){S=e},get:t,set:n,update:function(e,r){n(e,r(t(e)))},on:function(e,t){y(e).cb.push(t)},off:function(e,t){var n=y(e);n.cb=t?n.cb.filter(function(e){return e!==t}):[]},start:function(e){var t=m(e);v(t),t.async||h()},stop:function(e){var t=m(e);t.stop&&(t.stop(),delete t.stop)},flush:h,PORT_TYPES:o({},r.PORT_TYPES)}};var r=n(4),i=n(38),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(e,t,n){"use strict";t.a=function e(t,n){if("object"==typeof t&&"object"==typeof n&&!Array.isArray(t)&&!Array.isArray(n)&&t!==n){var i=r({},t);for(var o in n){var a=t[o],u=n[o];void 0!==u?i[o]=e(a,u):delete i[o]}return i}return n};var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},function(e,t,n){"use strict";function r(e,t){return["h2",I({},Object(A.a)(function(e){t(_.b.MAIN.MOVE_WINDOW,e)})),Object(k.printEntityName)(e)]}function i(e){return["footer",I({},Object(A.a)(function(t){e(_.b.MAIN.RESIZE_WINDOW,t)}),{class:"resize"})]}function o(e,t){return function(){return t(_.b.MAIN.SET_ACTIVE_WINDOW,e)}}function a(e,t,n){var i=e.visibility,a=e.position,u=function(e){return function(){return t(_.b.MAIN.UPDATE_VISIBILITY,e)}};return["header",{class:Object(f.a)("tvs-flow-controls",v.a),onmousedown:o("controls",t),style:I({},a)},["nav",I({class:"tvs-controls-btns"},Object(A.a)(function(e){t(_.b.MAIN.MOVE_WINDOW,e)})),["ul",["li",Object(h.a)({class:i.tree&&x,onclick:u("tree"),icon:d.e(),title:"toggle entity tree"})],["li",Object(h.a)({class:i.graph&&x,onclick:u("graph"),icon:d.d(),title:"toggle flow graph"})],["li",Object(h.a)({class:i.entity&&x,onclick:u("entity"),icon:d.c(),title:"toggle entity details"})]]],n(r,w.activeNode)]}function u(e,t,n){var r=e.dimensions,a=e.window;return["article",{class:Object(f.a)("tvs-flow-tree",v.e),style:I({},r),onmousedown:o("tree",t)},["header",I({},Object(A.a)(function(e){t(_.b.MAIN.MOVE_WINDOW,e)})),d.e("tree"===a?"selected":"")," Tree ",["span",{class:"gap"}]," ",Object(h.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return t(_.b.MAIN.CLOSE_WINDOW,"tree")}})],["section",{class:v.d},n(m.a,S.treeData)],i(t)]}function c(e,t,n){var r=e.dimensions,a=e.window,u=n(g.a,E.graphData);return["article",{ref:function(e){if(e&&e.querySelector){var n=e.querySelector("section");requestAnimationFrame(function(){t(_.b.GRAPH.UPDATE_SIZE,{width:n.clientWidth,height:n.clientHeight})})}},class:Object(f.a)("tvs-flow-graph",v.e),style:I({},r),onmousedown:o("graph",t)},["header",I({},Object(A.a)(function(e){t(_.b.MAIN.MOVE_WINDOW,e)})),d.d("graph"===a?"selected":"")," Graph ",["span",{class:"gap"}],n(g.b,E.viewBox)," ",Object(h.a)({icon:d.b(),class:Object(f.a)(b.b,"tvs-save-graph"),title:"copy the current graph state to clipboard"}),Object(h.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return t(_.b.MAIN.CLOSE_WINDOW,"graph")}})],u,i(t)]}function s(e,t,n){var r=e.dimensions,a=e.node,u=e.window,c=e.viewMode;c=c||j.a.VALUE;var s=a&&a.procedure,l=c===j.a.VALUE?s?n(y.d,O.processViewProps):n(y.b,O.entityViewProps):s?n(y.c,O.processViewProps):n(y.a,O.entityViewProps);return["article",{class:Object(f.a)("tvs-flow-entity",v.e),style:I({},r),onmousedown:o("entity",t)},["header",I({},Object(A.a)(function(e){t(_.b.MAIN.MOVE_WINDOW,e)})),d.c("entity"===u?"selected":""),s?" Process ":" Entity ",["span",{class:"gap"}," "],["button",{class:Object(f.a)(b.a,"tiny",c===j.a.VALUE&&"selected"),onClick:function(){return t(_.b.ENTITY.SET_VIEW_MODE,j.a.VALUE)}},"value"],["button",{class:Object(f.a)(b.a,"tiny",c===j.a.DETAILS&&"selected"),onClick:function(){return t(_.b.ENTITY.SET_VIEW_MODE,j.a.DETAILS)}},"details"],Object(h.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return t(_.b.MAIN.CLOSE_WINDOW,"entity")}})],l,i(t)]}function l(e,t,n){var r=e.tree?n(u,O.treeWindowProps):"",i=e.graph?n(c,O.graphWindowProps):"",o=e.entity?n(s,O.entityWindowProps):"";return["article",{class:Object(f.a)("tvs-flow-tools",p.f)},n(a,O.controlProps),i,o,r]}t.a=function(e){return e(l,T.visibility)};var f=n(22),d=n(14),p=n(6),h=n(15),v=n(16),g=n(58),y=n(60),m=n(61),b=n(11),_=n(5),T=n(12),O=n(28),E=n(29),w=n(9),S=n(30),A=n(27),j=n(13),k=n(7),I=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x=Object(f.b)({color:p.e})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(41),i=n(23),o=n(10),a=(n.n(o),function(){return o.create(void 0,!0)}),u=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var a=Object(r.a)(i.b.apply(void 0,t)).result;n._freeStyle.registerRule(e,a),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,i=0,o=e;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=Object(r.b)(e),i=t.keyframes,o=t.$debugName,a=n._freeStyle.registerKeyframes(i,o);return n._styleUpdated(),a},this.reinit=function(){var e=a();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.style=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=n._freeStyle,a=Object(r.a)(i.b.apply(void 0,e)),u=a.result,c=a.debugName,s=c?o.registerStyle(u,c):o.registerStyle(u);return n._styleUpdated(),s};var o=a();this._autoGenerateTag=t,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;Object(i.c)(function(){n===t._pending&&e()})},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},e}()},function(e,t,n){"use strict";t.a=function e(t){var n={},i="";for(var o in t){var a=t[o];if("$unique"===o)n[r.IS_UNIQUE]=a;else if("$nest"===o){var u=a;for(var c in u){var s=u[c];n[c]=e(s).result}}else"$debugName"===o?i=a:n[o]=a}return{result:n,debugName:i}},t.b=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t};var r=n(10);n.n(r)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):v=-1,p.length&&a())}function a(){if(!h){var e=i(o);h=!0;for(var t=p.length;t;){for(d=p,p=[];++v<t;)d&&d[v].run();v=-1,t=p.length}d=null,h=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var s,l,f=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(e){s=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,p=[],h=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||h||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45),i=n(24),o=n(10),a=function(){return o.create(void 0,!0)},u=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var a=r.ensureStringObj(i.extend.apply(void 0,t)).result;n._freeStyle.registerRule(e,a),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,i=0,o=e;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=r.explodeKeyframes(e),i=t.keyframes,o=t.$debugName,a=n._freeStyle.registerKeyframes(i,o);return n._styleUpdated(),a},this.reinit=function(){var e=a();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.style=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=n._freeStyle,a=r.ensureStringObj(i.extend.apply(void 0,e)),u=a.result,c=a.debugName,s=c?o.registerStyle(u,c):o.registerStyle(u);return n._styleUpdated(),s};var o=a();this._autoGenerateTag=t,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;i.raf(function(){n===t._pending&&e()})},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},e}();t.TypeStyle=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.ensureStringObj=function e(t){var n={},i="";for(var o in t){var a=t[o];if("$unique"===o)n[r.IS_UNIQUE]=a;else if("$nest"===o){var u=a;for(var c in u){var s=u[c];n[c]=e(s).result}}else"$debugName"===o?i=a:n[o]=a}return{result:n,debugName:i}},t.explodeKeyframes=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=n(48);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n(49),n(53);var r=n(54);n.d(t,"a",function(){return r.a}),n(55),n(25),n(56),n(57),n(26)},function(e,t,n){"use strict";n(2)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e,t){return Array.prototype.filter.call(e,t)},i=function(e,t){return Array.prototype.map.call(e,t)}},function(e,t,n){"use strict";function r(e){return o.exec(e.toString())[1]}n.d(t,"f",function(){return a}),t.c=function(e){return"number"==typeof e?e:.01*parseFloat(e)},t.e=function(e){return r(100*e)+"%"},t.d=r,t.b=function(e){if(null!==e&&void 0!==e){var t=+e;return t==t?e+"px":e}},t.g=function(e){var t=i.exec(e);if(t&&t.length)return[t[1]].concat(t[2].split(","))},t.a=function(e,t){return e+"("+Array.prototype.join.call(t,",")+")"};var i=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,o=/^(\-?\d+\.?\d{0,5})/,a=function(e){return function(t){return t+e}}},function(e,t,n){"use strict";t.a=function(e,t){return Math.round(e*t)/t}},function(e,t,n){"use strict";n(2);var r=n(25);r.a,r.a,r.a},function(e,t,n){"use strict";function r(e){return l(e)||function(e){var t=e.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i);if(t){var n=t[1],r=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16);return new b(v,r>>16&255,r>>8&255,255&r,1,!1)}}(e)||function(e){var t=Object(p.i)(e);if(t&&(4===t.length||5===t.length)){var n,r=t[0],i="rgba"===r,o="hsla"===r,a="rgb"===r,u=o||i;if(a||i)n=v;else{if("hsl"!==r&&!o)throw new Error("unsupported color string");n=g}var c=parseFloat(t[1]),s=a||i?parseFloat(t[2]):Object(p.c)(t[2]),l=a||i?parseFloat(t[3]):Object(p.c)(t[3]),f=u?parseFloat(t[4]):1;return new b(n,c,s,l,f,u)}}(e)||l("red")}function i(e,t,n){return new b(v,e,t,n,1,!1)}function o(e,t,n,r){return new b(v,e,t,n,Object(p.c)(r),!0)}function a(e){var t=Math.round(e);return(t<16?"0":"")+t.toString(16)}function u(e,t,n,r,i,o,a){return e===t?new b(e,n,r,i,o,a):y[e-t](n,r,i,o,a)}function c(e,t,n,r){if(!h)return[e||0,t||0,n||0,r||0];var i=new Float32Array(4);return i[0]=e||0,i[1]=t||0,i[2]=n||0,i[3]=r||0,i}function s(e,t,n){var r=m[e][t];return n<0?0:n>r?r:n}function l(e){return _[e]||void 0}t.a=o;var f,d,p=n(2),h="undefined"!=typeof Float32Array,v=0,g=1,y=((f={})[v-g]=function(e,t,n,r,i){var o,a=e/255,u=t/255,c=n/255,s=Math.min(a,u,c),l=Math.max(a,u,c),f=(s+l)/2,d=l-s;return o=l===s?0:a===l?(u-c)/d:u===l?2+(c-a)/d:c===l?4+(a-u)/d:0,(o=Math.min(60*o,360))<0&&(o+=360),new b(g,o,l===s?0:f<=.5?d/(l+s):d/(2-l-s),f,r,i)},f[g-v]=function(e,t,n,r,i){var o=e/360,a=t,u=n;if(0===a)return new b(v,g=255*u,g,g,r,i);for(var c=u<.5?u*(1+a):u+a-u*a,s=2*u-c,l=0,f=0,d=0,p=0;p<3;p++){var h=o+1/3*-(p-1);h<0&&h++,h>1&&h--;var g=void 0;g=6*h<1?s+6*(c-s)*h:2*h<1?c:3*h<2?s+(c-s)*(2/3-h)*6:s,g*=255,0===p?l=g:1===p?f=g:d=g}return new b(v,l,f,d,r,i)},f),m=((d={})[v]=c(255,255,255,1),d[g]=c(360,1,1,1),d),b=function(){function e(e,t,n,r,i,o){this._format=e,this._hasAlpha=o,this._values=c(s(e,0,t),s(e,1,n),s(e,2,r),s(e,3,i))}return e.convertHelper=function(e,t){var n=t._format,r=t._values,i=t._hasAlpha;return n===e?t:y[n-e](r[0],r[1],r[2],r[3],i)},e.prototype.toString=function(){var e,t,n=this._format,r=this._values,i=this._hasAlpha;if(n===v)e=i?"rgba":"rgb",t=[Math.round(r[0]),Math.round(r[1]),Math.round(r[2])];else{if(n!==g)throw new Error("Invalid color format");e=i?"hsla":"hsl",t=[Math.round(r[0]),Object(p.f)(Object(p.j)(r[1],100)),Object(p.f)(Object(p.j)(r[2],100))]}return i&&t.push(Object(p.e)(Object(p.j)(r[3],1e5))),Object(p.a)(e,t)},e.prototype.toHexString=function(){var t=e.convertHelper(v,this)._values;return"#"+(a(t[0])+a(t[1])+a(t[2])).toUpperCase()},e.prototype.toHSL=function(){var e=this._values;return u(this._format,g,e[0],e[1],e[2],1,!1)},e.prototype.toHSLA=function(){var e=this._values;return u(this._format,g,e[0],e[1],e[2],e[3],!0)},e.prototype.toRGB=function(){var e=this._values;return u(this._format,v,e[0],e[1],e[2],1,!1)},e.prototype.toRGBA=function(){var e=this._values;return u(this._format,v,e[0],e[1],e[2],e[3],!0)},e.prototype.red=function(){return(this._format===v?this:this.toRGB())._values[0]},e.prototype.green=function(){return(this._format===v?this:this.toRGB())._values[1]},e.prototype.blue=function(){return(this._format===v?this:this.toRGB())._values[2]},e.prototype.hue=function(){return(this._format===g?this:this.toHSL())._values[0]},e.prototype.saturation=function(){return(this._format===g?this:this.toHSL())._values[1]},e.prototype.lightness=function(){return(this._format===g?this:this.toHSL())._values[2]},e.prototype.alpha=function(){return this._values[3]},e.prototype.opacity=function(){return this.alpha()},e.prototype.invert=function(){var t=e.convertHelper(v,this)._values;return e.convertHelper(this._format,new e(v,255-t[0],255-t[1],255-t[2],this._values[3],this._hasAlpha))},e.prototype.lighten=function(t,n){var r=e.convertHelper(g,this)._values,i=m[g][2],o=r[2]+(n?i-r[2]:i)*Object(p.c)(t);return e.convertHelper(this._format,new e(g,r[0],r[1],o,this._values[3],this._hasAlpha))},e.prototype.darken=function(t,n){var r=e.convertHelper(g,this)._values,i=r[2]-(n?r[2]:m[g][2])*Object(p.c)(t);return e.convertHelper(this._format,new e(g,r[0],r[1],i,this._values[3],this._hasAlpha))},e.prototype.saturate=function(t,n){var r=e.convertHelper(g,this)._values,i=m[g][1],o=r[1]+(n?i-r[1]:i)*Object(p.c)(t);return e.convertHelper(this._format,new e(g,r[0],o,r[2],this._values[3],this._hasAlpha))},e.prototype.desaturate=function(t,n){var r=e.convertHelper(g,this)._values,i=m[g][1],o=r[1]-(n?r[1]:i)*Object(p.c)(t);return e.convertHelper(this._format,new e(g,r[0],o,r[2],this._values[3],this._hasAlpha))},e.prototype.grayscale=function(){return this.desaturate(1)},e.prototype.fade=function(t){var n=this._values,r=s(v,3,Object(p.c)(t));return e.convertHelper(this._format,new e(this._format,n[0],n[1],n[2],r,!0))},e.prototype.fadeOut=function(t,n){var r=this._values,i=s(v,3,r[3]-(n?r[3]:1)*Object(p.c)(t));return e.convertHelper(this._format,new e(this._format,r[0],r[1],r[2],i,!0))},e.prototype.fadeIn=function(t,n){var r=this._values,i=s(v,3,r[3]+(n?r[3]:1)*Object(p.c)(t));return e.convertHelper(this._format,new e(this._format,r[0],r[1],r[2],i,!0))},e.prototype.mix=function(t,n){var i=t instanceof b?t:r(t),o=e.convertHelper(v,this)._values,a=e.convertHelper(v,i)._values,u=void 0===n?.5:n,c=2*u-1,s=Math.abs(o[3]-a[3]),l=((c*s==-1?c:(c+s)/(1+c*s))+1)/2,f=1-l,d=new e(v,Math.round(o[0]*l+a[0]*f),Math.round(o[1]*l+a[1]*f),Math.round(o[2]*l+a[2]*f),o[3]*u+a[3]*(1-u),this._hasAlpha||i._hasAlpha);return e.convertHelper(this._format,d)},e.prototype.tint=function(e){return O.mix(this,e)},e.prototype.shade=function(e){return T.mix(this,e)},e.prototype.spin=function(t){var n=e.convertHelper(g,this)._values;return e.convertHelper(this._format,new e(g,function(e){return((e<0?360:0)+e%360)%360}(n[0]+t),n[1],n[2],this._values[3],this._hasAlpha))},e}(),_={aliceblue:i(240,248,245),antiquewhite:i(250,235,215),aqua:i(0,255,255),aquamarine:i(127,255,212),azure:i(240,255,255),beige:i(245,245,220),bisque:i(255,228,196),black:i(0,0,0),blanchedalmond:i(255,235,205),blue:i(0,0,255),blueviolet:i(138,43,226),brown:i(165,42,42),burlywood:i(222,184,35),cadetblue:i(95,158,160),chartreuse:i(127,255,0),chocolate:i(210,105,30),coral:i(255,127,80),cornflowerblue:i(100,149,237),cornsilk:i(255,248,220),crimson:i(220,20,60),cyan:i(0,255,255),darkblue:i(0,0,139),darkcyan:i(0,139,139),darkgoldenrod:i(184,134,11),darkgray:i(169,169,169),darkgreen:i(0,100,0),darkgrey:i(169,169,169),darkkhaki:i(189,183,107),darkmagenta:i(139,0,139),darkolivegreen:i(85,107,47),darkorange:i(255,140,0),darkorchid:i(153,50,204),darkred:i(139,0,0),darksalmon:i(233,150,122),darkseagreen:i(143,188,143),darkslateblue:i(72,61,139),darkslategray:i(47,79,79),darkslategrey:i(47,79,79),darkturquoise:i(0,206,209),darkviolet:i(148,0,211),deeppink:i(255,20,147),deepskyblue:i(0,191,255),dimgray:i(105,105,105),dimgrey:i(105,105,105),dodgerblue:i(30,144,255),firebrick:i(178,34,34),floralwhite:i(255,250,240),forestgreen:i(34,139,34),fuchsia:i(255,0,255),gainsboro:i(220,220,220),ghostwhite:i(248,248,255),gold:i(255,215,0),goldenrod:i(218,165,32),gray:i(128,128,128),green:i(0,128,0),greenyellow:i(173,255,47),grey:i(128,128,128),honeydew:i(240,255,240),hotpink:i(255,105,180),indianred:i(205,92,92),indigo:i(75,0,130),ivory:i(255,255,240),khaki:i(240,230,140),lavender:i(230,230,250),lavenderblush:i(255,240,245),lawngreen:i(124,252,0),lemonchiffon:i(255,250,205),lightblue:i(173,216,230),lightcoral:i(240,128,128),lightcyan:i(224,255,255),lightgoldenrodyellow:i(250,250,210),lightgray:i(211,211,211),lightgreen:i(144,238,144),lightgrey:i(211,211,211),lightpink:i(255,182,193),lightsalmon:i(255,160,122),lightseagreen:i(32,178,170),lightskyblue:i(135,206,250),lightslategray:i(119,136,153),lightslategrey:i(119,136,153),lightsteelblue:i(176,196,222),lightyellow:i(255,255,224),lime:i(0,255,0),limegreen:i(50,205,50),linen:i(250,240,230),maroon:i(128,0,0),mediumaquamarine:i(102,205,170),mediumblue:i(0,0,205),mediumorchid:i(186,85,211),mediumpurple:i(147,112,219),mediumseagreen:i(60,179,113),mediumslateblue:i(123,104,238),mediumspringgreen:i(0,250,154),mediumturquoise:i(72,209,204),mediumvioletred:i(199,21,133),midnightblue:i(25,25,112),mintcream:i(245,255,250),mistyrose:i(255,228,225),moccasin:i(255,228,181),navajowhite:i(255,222,173),navy:i(0,0,128),oldlace:i(253,245,230),olive:i(128,128,0),olivedrab:i(107,142,35),orange:i(255,165,0),purple:i(128,0,128),rebeccapurple:i(102,51,153),red:i(255,0,0),silver:i(192,192,192),teal:i(0,128,128),transparent:o(0,0,0,0),white:i(255,255,255),yellow:i(255,255,0)},T=(_.aliceblue,_.antiquewhite,_.aqua,_.aquamarine,_.azure,_.beige,_.bisque,_.black),O=(_.blanchedalmond,_.blue,_.blueviolet,_.brown,_.burlywood,_.cadetblue,_.chartreuse,_.chocolate,_.coral,_.cornflowerblue,_.cornsilk,_.crimson,_.cyan,_.darkblue,_.darkcyan,_.darkgoldenrod,_.darkgray,_.darkgreen,_.darkgrey,_.darkkhaki,_.darkmagenta,_.darkolivegreen,_.darkorange,_.darkorchid,_.darkred,_.darksalmon,_.darkseagreen,_.darkslateblue,_.darkslategray,_.darkslategrey,_.darkturquoise,_.darkviolet,_.deeppink,_.deepskyblue,_.dimgray,_.dimgrey,_.dodgerblue,_.firebrick,_.floralwhite,_.forestgreen,_.fuchsia,_.gainsboro,_.ghostwhite,_.gold,_.goldenrod,_.gray,_.green,_.greenyellow,_.grey,_.honeydew,_.hotpink,_.indianred,_.indigo,_.ivory,_.khaki,_.lavender,_.lavenderblush,_.lawngreen,_.lemonchiffon,_.lightblue,_.lightcoral,_.lightcyan,_.lightgoldenrodyellow,_.lightgray,_.lightgreen,_.lightgrey,_.lightpink,_.lightsalmon,_.lightseagreen,_.lightskyblue,_.lightslategray,_.lightslategrey,_.lightsteelblue,_.lightyellow,_.lime,_.limegreen,_.linen,_.maroon,_.mediumaquamarine,_.mediumblue,_.mediumorchid,_.mediumpurple,_.mediumseagreen,_.mediumslateblue,_.mediumspringgreen,_.mediumturquoise,_.mediumvioletred,_.midnightblue,_.mintcream,_.mistyrose,_.moccasin,_.navajowhite,_.navy,_.oldlace,_.olive,_.olivedrab,_.orange,_.purple,_.rebeccapurple,_.red,_.silver,_.teal,_.transparent,_.white);_.yellow},function(e,t,n){"use strict";n(2)},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(2)},function(e,t,n){"use strict";t.b=function(e,t){return["span",["input",{type:"range",value:e.scale,min:.5,max:3,step:.2,onchange:function(e){return t(o.b.GRAPH.UPDATE_SCALE,e.target.value)},onmousemove:function(e){return e.stopPropagation()}}]]},t.a=function(e,t){if(!e)return["section",{class:r.a}];var n=e.entities,c=e.processes,s=e.edges,l=e.viewBox,f=void 0===l?{}:l;return["section",{class:r.a},["svg",u({width:"100%",height:"100%",id:"graph-ui",viewBox:f.x+", "+f.y+", "+f.width+", "+f.height},Object(a.a)(function(e){return t(o.b.GRAPH.MOVE_VIEWPORT,e)},function(e){e&&2===e.button&&e.target===e.currentTarget&&t(o.b.ENTITY.RESET_ACTIVE_NODE)}),{oncontextmenu:function(e){return e.preventDefault()}})].concat(s.map(function(e){return["line",{x1:e.from.x,y1:e.from.y,x2:e.to.x,y2:e.to.y,class:Object(i.classes)(e.class,e.active&&"active")}]}),c.map(function(e){return["circle",{class:Object(i.classes)(e.class,e.active&&"active"),transform:"translate("+e.x+", "+e.y+")",onmousedown:function(){return t(o.b.ENTITY.SET_ACTIVE_PROCESS,e.id)},cx:0,cy:0,r:e.autostart?13:8,title:e.id}]}),n.map(function(e){return["g",u({"data-eid":e.id,transform:"translate("+e.x+", "+e.y+")",title:e.id,class:Object(i.classes)(e.class,e.active&&"active")},Object(a.a)(function(n){return t(o.b.GRAPH.MOVE_ENTITY_POSITION,{start:e,delta:n})},function(){return t(o.b.ENTITY.SET_ACTIVE_ENTITY,e.id)})),["rect",{x:-15,y:-15,width:30,height:30,class:e.accept?"accept":""}],["text",{"text-anchor":"middle",x:0,y:30},e.label],e.initial&&["circle",{cx:0,cy:0,r:6,class:"initial"}]]}))]};var r=n(59),i=n(1),o=(n.n(i),n(5)),a=n(27),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i=(n.n(r),n(6)),o=Object(r.style)(i.b,{position:"relative",flexGrow:1,$nest:{"& svg":{position:"absolute",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.6))"},"& text":{fill:"white",stroke:"black",paintOrder:"stroke"},"& line":{stroke:"darkgray",$nest:{"&.active":{stroke:"#ff7"},"&.to":{strokeWidth:6},"&.to.async":{strokeDasharray:"4, 5"},"&.to.acc":{stroke:"black",strokeWidth:2},"&.from":{strokeWidth:2},"&.from.cold":{strokeDasharray:"7, 10"}}},"& rect":{$nest:{"&.accept":{strokeWidth:3,strokeDasharray:"3, 3"}}},"& .group-1 rect":{fill:"orangered"},"& .group-1.active rect":{fill:"lightsalmon",stroke:"orangered",strokeWidth:5},"& circle.group-1":{fill:"orangered"},"& circle.group-1.active":{fill:"lightsalmon"},"& .group-1 .initial":{fill:"darkred"},"& .group-1 .accept":{stroke:"darkred"},"& .group-2 rect":{fill:"limegreen"},"& .group-2.active rect":{fill:"palegreen",stroke:"limegreen",strokeWidth:5},"& circle.group-2":{fill:"limegreen"},"& circle.group-2.active":{fill:"palegreen"},"& .group-2 .initial":{fill:"darkgreen"},"& .group-2 .accept":{stroke:"darkgreen"},"& .group-3 rect":{fill:"cornflowerblue"},"& .group-3.active rect":{fill:"lightblue",stroke:"cornflowerblue",strokeWidth:5},"& circle.group-3":{fill:"cornflowerblue"},"& circle.group-3.active":{fill:"lightblue"},"& .group-3 .initial":{fill:"darkslateblue"},"& .group-3 .accept":{stroke:"darkslateblue"},"& .group-4 rect":{fill:"orchid"},"& .group-4.active rect":{fill:"thistle",stroke:"orchid",strokeWidth:5},"& circle.group-4":{fill:"orchid"},"& circle.group-4.active":{fill:"thistle"},"& .group-4 .initial":{fill:"purple"},"& .group-4 .accept":{stroke:"purple"},"& .group-5 rect":{fill:"gold"},"& .group-5.active rect":{fill:"palegoldenrod",stroke:"gold",strokeWidth:5},"& circle.group-5":{fill:"gold"},"& circle.group-5.active":{fill:"beige"},"& .group-5 .initial":{fill:"darkgoldenrod"},"& .group-5 .accept":{stroke:"darkgoldenrod"},"& .group-6 rect":{fill:"lightseagreen"},"& .group-6.active rect":{fill:"paleturquoise",stroke:"lightseagreen",strokeWidth:5},"& circle.group-6":{fill:"lightseagreen"},"& circle.group-6.active":{fill:"paleturquoise"},"& .group-6 .initial":{fill:"darkslategray"},"& .group-6 .accept":{stroke:"darkslategray"},"& .group-7 rect":{fill:"orange"},"& .group-7.active rect":{fill:"moccasin",stroke:"orange",strokeWidth:5},"& circle.group-7":{fill:"orange"},"& circle.group-7.active":{fill:"moccasin"},"& .group-7 .initial":{fill:"saddlebrown"},"& .group-7 .accept":{stroke:"saddlebrown"}}})},function(e,t,n){"use strict";function r(e,t){var n=["div",{style:"margin-top: 4px"}];return n.push(Object(o.a)({onclick:function(){return t(c.a.PROCESS_RUN,e.id)},icon:i.g(),title:"Run process"})),e.async&&n.push(Object(o.a)({onclick:function(){return t(c.a.PROCESS_STOP,e.id)},icon:i.j(),title:"Stop async process"})),n}t.b=function(e,t){var n=e.entity,r=e.value,s=e.watching,l={value:r},f=["div",{style:"margin-top: 4px"}];return s?(f.push(["button",{class:a.a,key:"edit-btn",onclick:function(){return t(c.b.ENTITY.WATCH_ACTIVE_ENTITY,!1)}},"Edit"],Object(o.a)({key:"inspect-btn-"+n.id,onclick:function(){return t(c.a.ENTITY_INSPECT,n.id)},icon:i.i(),title:"Inspect entity value"})),n.value&&f.push(Object(o.a)({key:"reset-btn-"+n.id,onclick:function(){return t(c.a.ENTITY_RESET,n.id)},icon:i.h(),title:"Reset entity value"}))):f.push(["button",{class:a.a,onclick:function(){return t(c.b.ENTITY.WATCH_ACTIVE_ENTITY,!0)}},"Cancel"],["button",{class:a.a,key:"save-btn-"+n.id,onclick:function(){var e=JSON.parse(l.value);t(c.b.ENTITY.SAVE_VALUE,e)}},"Save"]),["section",{class:u.b},["div",{class:u.d,key:n.id+s},function(e,t,n){var r="";if(null!=e)try{r=JSON.stringify(e,null,"  ")}catch(e){r="Error: "+e.message}return["code",["pre",{contentEditable:!t,onInput:function(e){return n.value=e.target.textContent}},r]]}(r,s,l)],n.id&&f]},t.a=function(e,t){function n(e){var t=["(",e.inputs.filter(function(e){return e.type!==l.PORT_TYPES.ACCUMULATOR}).map(function(e){var t=s.entities[e.eid];return(t.namespace===r.namespace?t.name:t.namespace+"/"+t.name)+"::"+e.type}).join(", "),")"];return e.autostart&&t.unshift("S"),e.async&&t.unshift("A"),t.join("")}var r=e.entity,s=e.graph,f=e.meta;if(!r.id)return["section",{class:u.b},["div",{class:u.d}]];var d=(r.processes||[]).map(function(e){return s.processes[e]}),p=d.filter(function(e){return!e.reaction}),h=d.filter(function(e){return e.reaction}),v=f?JSON.stringify(f,null,"  "):"";return["section",{class:u.b},["div",{class:u.d},["table",["tr",["th","name"],["td",r.name]],["tr",["th","namespace"],["td",r.namespace]],p.length>0&&["tr",["th","streams"],["td"].concat(p.map(function(e){return["p",["a",{onClick:function(){return t(c.b.ENTITY.SET_ACTIVE_PROCESS,e.id)}},n(e)]]}))],h.length>0&&["tr",["th","reactions"],["td"].concat(h.map(function(e){return["p",["a",{onClick:function(){return t(c.b.ENTITY.SET_ACTIVE_PROCESS,e.id)}},n(e)]]}))]],r.value&&["h3"," initial value  ",Object(o.a)({onclick:function(){return t(c.a.ENTITY_RESET,r.id)},icon:i.h(),title:"Reset entity value"})],r.value&&["code",["pre",JSON.stringify(r.value,null,"  ")]],f&&["h3"," meta data  ",["button",{class:a.a,onclick:function(){var e=JSON.parse(v);t(c.b.ENTITY.SAVE_META,{id:r.id,value:e})}},"Save"]],f&&["code",["pre",{contentEditable:!0,onInput:function(e){return v=e.target.textContent}},v]]],["div",{style:"margin-top: 4px"},Object(o.a)({key:"inspect-btn-"+r.id,onclick:function(){return t(c.a.ENTITY_INSPECT,r.id)},icon:i.i(),title:"Inspect entity value"})]]},t.d=function(e,t){var n=e.process;return["section",{class:u.b},["div",{class:u.d},["code",["pre",n.procedure.toString()]]],r(n,t)]},t.c=function(e,t){var n=e.process,i=e.graph,o=n.reaction?"Reaction":n.async?"Async Stream":"Stream";return n.autostart&&(o+=" Autostart"),n.delta&&(o="Delta "+o),["section",{class:u.b},["div",{class:u.d},["table",["tr",["td","type"],["td",o]],["tr",["td","output"],["td",["a",{onClick:function(){return t(c.b.ENTITY.SET_ACTIVE_ENTITY,n.output)}},Object(s.printEntityName)(i.entities[n.output])]]],["tr",["td","inputs"],["td"].concat(n.inputs.filter(function(e){return e.type!==l.PORT_TYPES.ACCUMULATOR}).map(function(e){return["p",["a",{onClick:function(){return t(c.b.ENTITY.SET_ACTIVE_ENTITY,e.eid)}},Object(s.printEntityName)(i.entities[e.eid])+" :: "+e.type]]}))]]],r(n,t)]};var i=n(14),o=n(15),a=n(11),u=n(16),c=n(5),s=n(7),l=n(4)},function(e,t,n){"use strict";function r(e,t,n,i,o){if(t.__entity__){var f=t.__entity__,d=["span",{class:"entity-controls"},Object(u.a)({icon:a.i(),class:c.b,onclick:function(){return i(s.a.ENTITY_INSPECT,f.id)},title:"Inspect entity value"})];null!=f.value&&d.push(Object(u.a)({class:c.b,onclick:function(){return i(s.a.ENTITY_RESET,f.id)},icon:a.h(),title:"Reset entity value"}));var p="entity-item";return n===f.id&&(p+=" selected"),["li",["div",{class:p,onclick:function(){return i(s.b.ENTITY.SET_ACTIVE_ENTITY,f.id)}},null!=f.value?a.k():a.j()," "+e+" ",d]]}var h=["li",["div",{onclick:function(){return i(s.b.TREE.TOGGLE_LEVEL,t.__path__)}},a.f(o[t.__path__]?"":l)," "+e]];if(!o[t.__path__]){var v=["ul"];for(var g in t)"__path__"!==g&&v.push(r(g,t[g],n,i,o));h.push(v)}return h}t.a=function(e,t){var n=e.fold,o=e.tree,a=e.selected,u=["ul",{class:i.c}];if(o){var c=Object.keys(o).map(function(e){return r(e,o[e],a.id,t,n)});u.push.apply(u,c)}return u};var i=n(16),o=n(1),a=(n.n(o),n(14)),u=n(15),c=n(11),s=n(5),l=Object(o.style)({transform:"rotate(90deg)"})},function(e,t,n){"use strict";t.a=function(e){function t(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}}},function(e,t,n){"use strict";t.a=function(e,t,n){return Math.max(e,Math.min(n,t))},Math.PI},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),o=Array.isArray(n);if(i&&o){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=o)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var u=t instanceof Date,c=n instanceof Date;if(u&&c)return t.getTime()==n.getTime();if(u!=c)return!1;var s=t instanceof RegExp,l=n instanceof RegExp;if(s&&l)return t.toString()==n.toString();if(s!=l)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r*r}return Math.sqrt(t)}t.a=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]+t[r];return n},t.e=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]-t[r];return n},t.c=function(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]*e;return n},t.b=r,t.d=function(e){return function(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]/e;return n}(r(e),e)},n(8).a},function(e,t,n){e.exports=n(67).default,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e){return a(e)||o(e)}function i(e){return"function"==typeof e}function o(e){return null===e}function a(e){return void 0===e}function u(e){throw e||(e=p),new Error("Inferno Error: "+e)}function c(e,t){var n={};if(e)for(var r in e)n[r]=e[r];if(t)for(var i in t)n[i]=t[i];return n}function s(){this.listeners=[]}function l(e,t,n){if(!e._unmounted){if(t||!e._blockRender){e._pendingSetState=!1;var s=e._pendingState,l=e.state,p=c(l,s),v=e.props,g=e.context;e._pendingState=null;var y,m=e._updateComponent(l,p,v,v,g,t,!0),b=!0;if(function(e){return o(e)||!1===e||!0===e||a(e)}(m))y=f.createVNode(4096,null);else if(m===d)y=e._lastInput,b=!1;else if(function(e){var t=typeof m;return"string"===t||"number"===t}())y=f.createVNode(1,null,null,m);else{if(h(m))return u();y=m}var _=e._lastInput,T=e._vNode,O=_.dom&&_.dom.parentNode||(_.dom=T.dom);if(28&y.flags&&(y.parentVNode=T),e._lastInput=y,b){var E;r(e.getChildContext)||(E=e.getChildContext()),E=r(E)?e._childContext:c(g,E);var w=e._lifecycle;if(f.internal_patch(_,y,O,w,E,e._isSVG,!1),e._unmounted)return;w.trigger(),r(e.componentDidUpdate)||e.componentDidUpdate(v,l,g),o(f.options.afterUpdate)||f.options.afterUpdate(T)}var S=T.dom=y.dom;for(f.options.findDOMNodeEnabled&&f.internal_DOMNodeMap.set(e,y.dom);!r(T=T.parentVNode);)(28&T.flags)>0&&(T.dom=S)}else e.state=e._pendingState,e._pendingState=null;i(n)&&n.call(e)}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(18),d="$NO_OP",p="a runtime error occured! Use Inferno in development environment to find the error.",h=Array.isArray;s.prototype.addListener=function(e){this.listeners.push(e)},s.prototype.trigger=function(){for(var e,t=this.listeners;e=t.shift();)e()};var v=new Map,g=Promise.resolve(),y=function(e,t){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=e||f.EMPTY_OBJ,this.context=t||f.EMPTY_OBJ};y.prototype.forceUpdate=function(e){this._unmounted||l(this,!0,e)},y.prototype.setState=function(e,t){this._unmounted||(this._blockSetState?u():function(e,t,n){i(t)&&(t=t(e.state,e.props,e.context));var o=e._pendingState;if(r(o))e._pendingState=t;else for(var a in t)o[a]=t[a];e._pendingSetState||e._blockRender?(e._pendingSetState=!0,i(n)&&e._blockRender&&e._lifecycle.addListener(n.bind(e))):e._updating?function(e,t,n){var i=v.get(e);void 0===i&&(i=[],v.set(e,i),g.then(function(){v.delete(e),e._updating=!0,l(e,!1,function(){for(var t=0,n=i.length;t<n;t++)i[t].call(e)}),e._updating=!1})),r(n)||i.push(n)}(e,0,n):(e._pendingSetState=!0,e._updating=!0,l(e,!1,n),e._updating=!1)}(this,e,t))},y.prototype._updateComponent=function(e,t,n,i,o,a,s){if(!0===this._unmounted&&u(),n!==i||i===f.EMPTY_OBJ||e!==t||a){if(n!==i||i===f.EMPTY_OBJ){if(!r(this.componentWillReceiveProps)&&!s){if(this._blockRender=!0,this.componentWillReceiveProps(i,o),this._unmounted)return d;this._blockRender=!1}this._pendingSetState&&(t=c(t,this._pendingState),this._pendingSetState=!1,this._pendingState=null)}if(a||r(this.shouldComponentUpdate)||this.shouldComponentUpdate&&this.shouldComponentUpdate(i,t,o)){r(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(i,t,o),this._blockSetState=!1),this.props=i,this.state=t,this.context=o,f.options.beforeRender&&f.options.beforeRender(this);var l=this.render(i,t,o);return f.options.afterRender&&f.options.afterRender(this),l}this.props=i,this.state=t,this.context=o}return d},y.prototype.render=function(e,t,n){},t.default=y},function(e,t,n){"use strict";function r(e){var t=typeof e;return"string"===t||"number"===t}function i(e){return l(e)||s(e)}function o(e){return s(e)||!1===e||function(e){return!0===e}(e)||l(e)}function a(e){return"function"==typeof e}function u(e){return"string"==typeof e}function c(e){return"number"==typeof e}function s(e){return null===e}function l(e){return void 0===e}function f(e){return"object"==typeof e}function d(e){throw e||(e=Ae),new Error("Inferno Error: "+e)}function p(e,t){var n={};if(e)for(var r in e)n[r]=e[r];if(t)for(var i in t)n[i]=t[i];return n}function h(){this.listeners=[]}function v(e,t,n,r){var i=He.get(e);if(n)i||((i={items:new Map,docEvent:null}).docEvent=function(e,t){var n=function(e){var n=t.items.size;if(n>0){e.stopPropagation=y;var r={dom:document};try{Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(e){}!function(e,t,n,r,i,o){for(var a=t;r>0;){if(i&&a.disabled)return;var u=n.get(a);if(u&&(r--,o.dom=a,u.event?u.event(u.data,e):u(e),e.cancelBubble))return;if(null===(a=a.parentNode))return}}(e,e.target,t.items,n,"click"===e.type,r)}};return document.addEventListener(g(e),n),n}(e,i),He.set(e,i)),t||Fe&&"onClick"===e&&(r.onclick=m),i.items.set(r,n);else if(i){var o=i.items;o.delete(r)&&0===o.size&&(document.removeEventListener(g(e),i.docEvent),He.delete(e))}}function g(e){return e.substr(2).toLowerCase()}function y(){this.cancelBubble=!0,this.stopImmediatePropagation()}function m(){}function b(e){return"checkbox"===e||"radio"===e}function _(e){var t=this.vNode,n=t.props||Ye,r=t.dom,i=n.value;if(n.onInput){var o=n.onInput;o.event?o.event(o.data,e):o(e)}else n.oninput&&n.oninput(e);var a=this.vNode.props||Ye;i!==a.value&&E(a,r)}function T(e){var t=(this.vNode.props||Ye).onChange;t.event?t.event(t.data,e):t(e)}function O(e){e.stopPropagation();var t=this.vNode,n=t.props||Ye,r=t.dom;if(n.onClick){var i=n.onClick;i.event?i.event(i.data,e):i(e)}else n.onclick&&n.onclick(e);E(this.vNode.props||Ye,r)}function E(e,t){var n=e.type,r=e.value,o=e.checked,a=e.multiple,u=e.defaultValue,c=!i(r);n&&n!==t.type&&t.setAttribute("type",n),a&&a!==t.multiple&&(t.multiple=a),i(u)||c||(t.defaultValue=u+""),b(n)?(c&&(t.value=r),i(o)||(t.checked=o)):c&&t.value!==r?(t.defaultValue=r,t.value=r):i(o)||(t.checked=o)}function w(e,t){if("optgroup"===e.type){var n=e.children;if(ke(n))for(var r=0,i=n.length;r<i;r++)S(n[r],t);else ge(n)&&S(n,t)}else S(e,t)}function S(e,t){var n=e.props||Ye,r=e.dom;r.value=n.value,ke(t)&&-1!==t.indexOf(n.value)||n.value===t?r.selected=!0:i(t)&&i(n.selected)||(r.selected=n.selected||!1)}function A(e){var t=this.vNode,n=t.props||Ye,r=t.dom,i=n.value;if(n.onChange){var o=n.onChange;o.event?o.event(o.data,e):o(e)}else n.onchange&&n.onchange(e);var a=this.vNode,u=a.props||Ye;i!==u.value&&j(a,r,u,!1)}function j(e,t,n,r){n.multiple!==t.multiple&&(t.multiple=n.multiple);var a=e.children;if(!o(a)){var u=n.value;if(r&&i(u)&&(u=n.defaultValue),ke(a))for(var c=0,s=a.length;c<s;c++)w(a[c],u);else ge(a)&&w(a,u)}}function k(e){var t=(this.vNode.props||Ye).onChange;t.event?t.event(t.data,e):t(e)}function I(e){var t=this.vNode,n=t.props||Ye,r=n.value;if(n.onInput){var i=n.onInput;i.event?i.event(i.data,e):i(e)}else n.oninput&&n.oninput(e);var o=this.vNode;r!==(o.props||Ye).value&&x(o,t.dom,!1)}function x(e,t,n){var r=e.value,o=t.value;if(i(r)){if(n){var a=e.defaultValue;i(a)?""!==o&&(t.defaultValue="",t.value=""):a!==o&&(t.defaultValue=a,t.value=a)}}else o!==r&&(t.defaultValue=r,t.value=r)}function N(e,t,n,r,i,o){(512&e)>0?function(e,t,n,r,i){E(n,t),i&&(t.vNode=e,r&&(b(n.type)?(t.onclick=O,t.onclick.wrapped=!0):(t.oninput=_,t.oninput.wrapped=!0),n.onChange&&(t.onchange=T,t.onchange.wrapped=!0)))}(t,n,r,i,o):(2048&e)>0?function(e,t,n,r,i){j(e,t,n,r),i&&(t.vNode=e,r&&(t.onchange=A,t.onchange.wrapped=!0))}(t,n,r,i,o):(1024&e)>0&&function(e,t,n,r,i){x(n,t,r),i&&(t.vNode=e,r&&(t.oninput=I,t.oninput.wrapped=!0,n.onChange&&(t.onchange=k,t.onchange.wrapped=!0)))}(t,n,r,i,o)}function C(e){return e.type&&b(e.type)?!i(e.checked):!i(e.value)}function R(e,t,n,a,u){var c=e.children,l=e.props,d=e.className,p=e.flags,h=e.ref;if(u=u||(128&p)>0,1!==t.nodeType||t.tagName.toLowerCase()!==e.type){var v=$(e,null,n,a,u);return e.dom=v,ce(t.parentNode,v,t),v}if(e.dom=t,o(c)?null===t.firstChild||function(e,t){return Boolean(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&le(e,t.dangerouslySetInnerHTML.__html))}(t,l)||(t.textContent=""):function(e,t,n,i,o){!function(e){for(var t=e.firstChild;t;)if(8===t.nodeType)if("!"===t.data){var n=document.createTextNode("");e.replaceChild(n,t),t=t.nextSibling}else{var r=t.previousSibling;e.removeChild(t),t=r||e.firstChild}else t=t.nextSibling}(t);var a=t.firstChild;if(r(e))s(a)||3!==a.nodeType?""===e?t.appendChild(document.createTextNode("")):t.textContent=e:a.nodeValue!==e&&(a.nodeValue=e),s(a)||(a=a.nextSibling);else if(ke(e))for(var u=0,c=e.length;u<c;u++){var l=e[u];if(!s(l)&&f(l))if(s(a))Y(l,t,n,i,o);else{var d=a.nextSibling;M(l,a,n,i,o),a=d}}else s(a)?Y(e,t,n,i,o):(M(e,a,n,i,o),a=a.nextSibling);for(;a;){var p=a.nextSibling;t.removeChild(a),a=p}}(c,t,n,a,u),l){var g=!1,y=(3584&p)>0;for(var m in y&&(g=C(l)),l)G(m,null,l[m],t,u,g);y&&N(p,e,t,l,!0,g)}return i(d)?""!==t.className&&t.removeAttribute("class"):u?t.setAttribute("class",d):t.className=d,h&&ee(t,h,n),t}function M(e,t,n,r,i){var o=e.flags;28&o?function(e,t,n,r,i,o){var a=e.type,u=e.ref,c=e.props||Ye;if(o){var s=t.namespaceURI===Ce,l=te(e,a,c,r,s,n),f=l._lastInput;l._vNode=e,M(f,t,n,l._childContext,s),e.dom=f.dom,Z(e,u,l,n),l._updating=!1,Ie.findDOMNodeEnabled&&Be.set(l,t)}else{var d=re(e,a,c,r);M(d,t,n,r,i),e.children=d,e.dom=d.dom,Q(c,u,t,n)}}(e,t,n,r,i,(4&o)>0):3970&o?R(e,t,n,r,i):1&o?function(e,t){if(3!==t.nodeType){var n=X(e,null);return e.dom=n,ce(t.parentNode,n,t),n}var r=e.children;t.nodeValue!==r&&(t.nodeValue=r),e.dom=t}(e,t):4096&o?function(e,t){e.dom=t}(e,t):d()}function P(e,t,n,r,u){var c=e.flags,d=e.dom;if(28&c){var p=e.children,h=(4&c)>0,v=e.props||Ye,g=e.ref;u||(h?p._unmounted||(s(Ie.beforeUnmount)||Ie.beforeUnmount(e),l(p.componentWillUnmount)||p.componentWillUnmount(),g&&!u&&g(null),p._unmounted=!0,Ie.findDOMNodeEnabled&&Be.delete(p),P(p._lastInput,null,p._lifecycle,!1,u)):(i(g)||i(g.onComponentWillUnmount)||g.onComponentWillUnmount(d,v),P(p,null,n,!1,u))),Ie.recyclingEnabled&&!h&&(t||r)&&function(e){var t=e.ref;if(!t||!(t.onComponentWillMount||t.onComponentWillUnmount||t.onComponentDidMount||t.onComponentWillUpdate||t.onComponentDidUpdate)){var n=e.type,r=e.key,i=Ve.get(n);if(l(i)&&(i={keyed:new Map,nonKeyed:[]},Ve.set(n,i)),s(r))i.nonKeyed.push(e);else{var o=i.keyed.get(r);l(o)&&(o=[],i.keyed.set(r,o)),o.push(e)}}}(e)}else if(3970&c){var y=e.ref,m=e.props;!u&&a(y)&&y(null);var b=e.children;if(!i(b))if(ke(b))for(var _=0,T=b.length;_<T;_++){var O=b[_];!o(O)&&f(O)&&P(O,null,n,!1,u)}else f(b)&&P(b,null,n,!1,u);if(!s(m))for(var E in m)null!==m[E]&&B(E)&&(W(E,m[E],null,d),m[E]=null);Ie.recyclingEnabled&&(t||r)&&function(e){var t=e.type,n=e.key,r=ze.get(t);if(l(r)&&(r={keyed:new Map,nonKeyed:[]},ze.set(t,r)),s(n))r.nonKeyed.push(e);else{var i=r.keyed.get(n);l(i)&&(i=[],r.keyed.set(n,i)),i.push(e)}}(e)}s(t)||function(e,t){e.removeChild(t)}(t,d)}function U(e){Ie.findDOMNodeEnabled||d();var t=e&&e.nodeType?e:null;return Be.get(e)||t}function L(e,t){if(We===t&&d(),e!==Se){var n=function(e){for(var t=0,n=Ge.length;t<n;t++){var r=Ge[t];if(r.dom===e)return r}return null}(t);if(s(n)){var r=new h;o(e)||(e.dom&&(e=de(e)),function(e,t,n){if(!s(t)){var r=t.firstChild;if(!s(r)){for(M(e,r,n,Ye,!1),r=t.firstChild;r=r.nextSibling;)t.removeChild(r);return!0}}return!1}(e,t,r)||Y(e,t,r,Ye,!1),n=function(e,t,n){var r={dom:e,input:t,lifecycle:n};return Ge.push(r),r}(t,e,r),r.trigger())}else{var a=n.lifecycle;a.listeners=[],i(e)?(P(n.input,t,a,!1,!1),function(e){for(var t=0,n=Ge.length;t<n;t++)if(Ge[t]===e)return void Ge.splice(t,1)}(n)):(e.dom&&(e=de(e)),F(n.input,e,t,a,Ye,!1,!1)),n.input=e,a.trigger()}if(n){var u=n.input;if(u&&28&u.flags)return u.children}}}function D(e){return function(t,n){e||(e=t),L(n,e)}}function F(e,t,n,r,i,o,a){if(e!==t){var u=e.flags,c=t.flags;if(28&c){var s=(4&c)>0;28&u?z(e,t,n,r,i,o,s,a):ne(n,J(t,null,r,i,o,s),e,r,a)}else 3970&c?3970&u?V(e,t,n,r,i,o,a):ne(n,$(t,null,r,i,o),e,r,a):1&c?1&u?function(e,t){var n=t.children,r=e.dom;t.dom=r,e.children!==n&&(r.nodeValue=n)}(e,t):ne(n,X(t,null),e,r,a):4096&c?4096&u?function(e,t){t.dom=e.dom}(e,t):ne(n,q(t,null),e,r,a):function(e,t,n,r,i,o,a){ne(n,Y(t,null,r,i,o),e,r,a)}(e,t,n,r,i,o,a)}}function H(e,t,n,r){ge(e)?P(e,t,n,!0,r):ke(e)?se(t,e,n,r):t.textContent=""}function V(e,t,n,a,u,c,f){var d=t.type;if(e.type!==d)ue(e,t,n,a,u,c,f);else{var p=e.dom,h=e.props,g=t.props,y=e.children,m=t.children,b=e.flags,_=t.flags,T=t.ref,O=e.className,E=t.className;if(t.dom=p,c=c||(128&_)>0,y!==m&&function(e,t,n,a,u,c,f,d,p){var h=!1,v=!1;if(64&t?h=!0:(32&e)>0&&(32&t)>0?(v=!0,h=!0):o(a)?H(n,u,c,p):o(n)?r(a)?ie(u,a):ke(a)?K(a,u,c,f,d):Y(a,u,c,f,d):r(a)?r(n)?function(e,t){var n=e.firstChild;s(n)?ie(e,t):n.nodeValue=t}(u,a):(H(n,u,c,p),ie(u,a)):ke(a)?ke(n)?(h=!0,function(e,t){return t.length>0&&!i(t[0])&&!i(t[0].key)&&e.length>0&&!i(e[0])&&!i(e[0].key)}(n,a)&&(v=!0)):(H(n,u,c,p),K(a,u,c,f,d)):ke(n)?(se(u,n,c,p),Y(a,u,c,f,d)):ge(a)&&(ge(n)?F(n,a,u,c,f,d,p):(H(n,u,c,p),Y(a,u,c,f,d))),h){var g=n.length,y=a.length;0===g?y>0&&K(a,u,c,f,d):0===y?se(u,n,c,p):v?function(e,t,n,r,i,o,a,u,c){var f,d,p,h,v,g,y,m=u-1,b=c-1,_=0,T=0,O=e[_],E=t[T],w=e[m],S=t[b];E.dom&&(t[T]=E=de(E)),S.dom&&(t[b]=S=de(S));e:{for(;O.key===E.key;){if(F(O,E,n,r,i,o,a),T++,++_>m||T>b)break e;O=e[_],(E=t[T]).dom&&(t[T]=E=de(E))}for(;w.key===S.key;){if(F(w,S,n,r,i,o,a),b--,_>--m||T>b)break e;w=e[m],(S=t[b]).dom&&(t[b]=S=de(S))}}if(_>m){if(T<=b)for(v=(g=b+1)<c?t[g].dom:null;T<=b;)(y=t[T]).dom&&(t[T]=y=de(y)),T++,ae(n,Y(y,null,r,i,o),v)}else if(T>b)for(;_<=m;)P(e[_++],n,r,!1,a);else{var A=m-_+1,j=b-T+1,k=new Array(j);for(f=0;f<j;f++)k[f]=-1;var I=!1,x=0,N=0;if(j<=4||A*j<=16){for(f=_;f<=m;f++)if(p=e[f],N<j)for(d=T;d<=b;d++)if(h=t[d],p.key===h.key){k[d-T]=f,x>d?I=!0:x=d,h.dom&&(t[d]=h=de(h)),F(p,h,n,r,i,o,a),N++,e[f]=null;break}}else{var C=new Map;for(f=T;f<=b;f++)C.set(t[f].key,f);for(f=_;f<=m;f++)p=e[f],N<j&&(l(d=C.get(p.key))||(h=t[d],k[d-T]=f,x>d?I=!0:x=d,h.dom&&(t[d]=h=de(h)),F(p,h,n,r,i,o,a),N++,e[f]=null))}if(A===u&&0===N)for(se(n,e,r,a);T<j;)(y=t[T]).dom&&(t[T]=y=de(y)),T++,ae(n,Y(y,null,r,i,o),null);else{for(f=A-N;f>0;)s(p=e[_++])||(P(p,n,r,!0,a),f--);if(I){var R=function(e){var t,n,r,i,o,a=e.slice(0),u=[0],c=e.length;for(t=0;t<c;t++){var s=e[t];if(-1!==s){if(e[n=u[u.length-1]]<s){a[t]=n,u.push(t);continue}for(r=0,i=u.length-1;r<i;)e[u[o=(r+i)/2|0]]<s?r=o+1:i=o;s<e[u[r]]&&(r>0&&(a[t]=u[r-1]),u[r]=t)}}for(i=u[(r=u.length)-1];r-- >0;)u[r]=i,i=a[i];return u}(k);for(d=R.length-1,f=j-1;f>=0;f--)-1===k[f]?((y=t[x=f+T]).dom&&(t[x]=y=de(y)),g=x+1,ae(n,Y(y,null,r,i,o),g<c?t[g].dom:null)):d<0||f!==R[d]?(y=t[x=f+T],g=x+1,ae(n,y.dom,g<c?t[g].dom:null)):d--}else if(N!==j)for(f=j-1;f>=0;f--)-1===k[f]&&((y=t[x=f+T]).dom&&(t[x]=y=de(y)),g=x+1,ae(n,Y(y,null,r,i,o),g<c?t[g].dom:null))}}}(n,a,u,c,f,d,p,g,y):function(e,t,n,r,i,o,a,u,c){for(var s=u>c?c:u,l=0;l<s;l++){var f=t[l];f.dom&&(f=t[l]=de(f)),F(e[l],f,n,r,i,o,a)}if(u<c)for(l=s;l<c;l++){var d=t[l];d.dom&&(d=t[l]=de(d)),oe(n,Y(d,null,r,i,o))}else if(u>c)for(l=s;l<u;l++)P(e[l],n,r,!1,a)}(n,a,u,c,f,d,p,g,y)}}(b,_,y,m,p,a,u,!0===c&&"foreignObject"!==t.type,f),h!==g){var w=h||Ye,S=g||Ye,A=!1;if(S!==Ye){var j=(3584&_)>0;for(var k in j&&(A=C(S)),S){var I=S[k];G(k,w[k],I,p,c,A)}j&&N(_,t,p,S,f,A)}if(w!==Ye)for(var x in w)i(S[x])&&!i(w[x])&&function(e,t,n,r){"value"===e?n.value=2048&r?null:"":"style"===e?n.removeAttribute("style"):B(e)?v(e,t,null,n):n.removeAttribute(e)}(x,w[x],p,_)}O!==E&&(i(E)?p.removeAttribute("class"):c?p.setAttribute("class",E):p.className=E),T&&(e.ref!==T||f)&&ee(p,T,a)}}function z(e,t,n,a,u,c,h,v){var g=e.type,y=t.type,m=e.key,b=t.key;if(g!==y||m!==b)return ue(e,t,n,a,u,c,v),!1;var _=t.props||Ye;if(h){var T=e.children;if(T._updating=!0,T._unmounted){if(s(n))return!0;ce(n,J(t,null,a,u,c,(4&t.flags)>0),e.dom)}else{var O=!l(T.componentDidUpdate),E=T.state,w=O?p(E,null):E,S=T.props;t.children=T,T._isSVG=c;var A=T._lastInput,j=T._updateComponent(w,E,S,_,u,!1,!1);if(T._unmounted)return!1;var k,I=!0;i(T.getChildContext)||(k=T.getChildContext()),k=i(k)?u:p(u,k),T._childContext=k,o(j)?j=he():j===Se?(j=A,I=!1):r(j)?j=ve(j,null):ke(j)?d():f(j)&&(s(j.dom)||(j=de(j))),28&j.flags?j.parentVNode=t:28&A.flags&&(A.parentVNode=t),T._lastInput=j,T._vNode=t,I&&(F(A,j,n,a,k,c,v),O&&T.componentDidUpdate&&T.componentDidUpdate(S,w),s(Ie.afterUpdate)||Ie.afterUpdate(t),Ie.findDOMNodeEnabled&&Be.set(T,j.dom)),t.dom=j.dom}T._updating=!1}else{var x=!0,N=e.props,C=t.ref,R=!i(C),M=e.children,P=M;t.dom=e.dom,t.children=M,m!==b?x=!0:R&&!i(C.onComponentShouldUpdate)&&(x=C.onComponentShouldUpdate(N,_)),!1!==x&&(R&&!i(C.onComponentWillUpdate)&&C.onComponentWillUpdate(N,_),o(P=y(_,u))?P=he():r(P)&&P!==Se?P=ve(P,null):ke(P)?d():f(P)&&(s(P.dom)||(P=de(P))),P!==Se&&(F(M,P,n,a,u,c,v),t.children=P,R&&!i(C.onComponentDidUpdate)&&C.onComponentDidUpdate(N,_),t.dom=P.dom)),28&P.flags?P.parentVNode=t:28&M.flags&&(M.parentVNode=t)}return!1}function B(e){return"o"===e[0]&&"n"===e[1]}function G(e,t,n,r,o,a){if(t!==n){if(Le.has(e)||a&&"value"===e)return;if(Me.has(e))r[e="autoFocus"===e?e.toLowerCase():e]=!!n;else if(Re.has(e)){var s=i(n)?"":n;r[e]!==s&&(r[e]=s)}else if(B(e))W(e,t,n,r);else if(i(n))r.removeAttribute(e);else if("style"===e)!function(e,t,n){var r,o,a=n.style;if(u(t))a.cssText=t;else if(i(e)||u(e))for(r in t)o=t[r],a[r]=!c(o)||Ue.has(r)?o:o+"px";else{for(r in t)(o=t[r])!==e[r]&&(a[r]=!c(o)||Ue.has(r)?o:o+"px");for(r in e)i(t[r])&&(a[r]="")}}(t,n,r);else if("dangerouslySetInnerHTML"===e){var l=t&&t.__html,f=n&&n.__html;l!==f&&(i(f)||le(r,f)||(r.innerHTML=f))}else o&&Pe.has(e)?r.setAttributeNS(Pe.get(e),e,n):r.setAttribute(e,n)}}function W(e,t,n,r){if(t!==n)if(De.has(e))v(e,t,n,r);else{var o=e.toLowerCase(),u=r[o];if(u&&u.wrapped)return;if(a(n)||i(n))r[o]=n;else{var c=n.event;c&&a(c)?r[o]=function(e){c(n.data,e)}:d()}}}function Y(e,t,n,r,i){var o=e.flags;return 3970&o?$(e,t,n,r,i):28&o?J(e,t,n,r,i,(4&o)>0):4096&o?q(e,t):1&o?X(e,t):void d()}function X(e,t){var n=document.createTextNode(e.children);return e.dom=n,s(t)||oe(t,n),n}function q(e,t){var n=document.createTextNode("");return e.dom=n,s(t)||oe(t,n),n}function $(e,t,n,i,a){var u;if(Ie.recyclingEnabled&&!s(u=function(e,t,n,r){var i=e.type,o=ze.get(i);if(!l(o)){var a=e.key,u=null===a?o.nonKeyed:o.keyed.get(a);if(!l(u)){var c=u.pop();if(!l(c))return V(c,e,null,t,n,r,!0),e.dom}}return null}(e,n,i,a)))return s(t)||oe(t,u),u;var c=e.flags;a=a||(128&c)>0,u=function(e,t){return document.createElement(e)}(e.type);var f=e.children,d=e.props,p=e.className,h=e.ref;if(e.dom=u,!o(f))if(r(f))ie(u,f);else{var v=!0===a&&"foreignObject"!==e.type;ke(f)?K(f,u,n,i,v):ge(f)&&Y(f,u,n,i,v)}if(!s(d)){var g=!1,y=(3584&c)>0;for(var m in y&&(g=C(d)),d)G(m,null,d[m],u,a,g);y&&N(c,e,u,d,!0,g)}return null!==p&&(a?u.setAttribute("class",p):u.className=p),s(h)||ee(u,h,n),s(t)||oe(t,u),u}function K(e,t,n,r,i){for(var a=0,u=e.length;a<u;a++){var c=e[a];o(c)||(c.dom&&(e[a]=c=de(c)),Y(e[a],t,n,r,i))}}function J(e,t,n,r,i,o){var a;if(Ie.recyclingEnabled&&!s(a=function(e,t,n,r){var i=e.type,o=Ve.get(i);if(!l(o)){var a=e.key,u=null===a?o.nonKeyed:o.keyed.get(a);if(!l(u)){var c=u.pop();if(!l(c)&&!z(c,e,null,t,n,r,(4&e.flags)>0,!0))return e.dom}}return null}(e,n,r,i)))return s(t)||oe(t,a),a;var u=e.type,c=e.props||Ye,f=e.ref;if(o){var d=te(e,u,c,r,i,n),p=d._lastInput;d._vNode=e,e.dom=a=Y(p,null,n,d._childContext,i),s(t)||oe(t,a),Z(e,f,d,n),d._updating=!1,Ie.findDOMNodeEnabled&&Be.set(d,a)}else{var h=re(e,u,c,r);e.dom=a=Y(h,null,n,r,i),e.children=h,Q(c,f,a,n),s(t)||oe(t,a)}return a}function Z(e,t,n,r){t&&(a(t)?t(n):d());var i=!l(n.componentDidMount),o=Ie.afterMount;!i&&s(o)||r.addListener(function(){n._updating=!0,o&&o(e),i&&n.componentDidMount(),n._updating=!1})}function Q(e,t,n,r){t&&(i(t.onComponentWillMount)||t.onComponentWillMount(e),i(t.onComponentDidMount)||r.addListener(function(){return t.onComponentDidMount(n,e)}))}function ee(e,t,n){if(a(t))n.addListener(function(){return t(e)});else{if(o(t))return;d()}}function te(e,t,n,a,u,c){l(a)&&(a=Ye);var f,h=new t(n,a);if(e.children=h,h._blockSetState=!1,h.context=a,h.props===Ye&&(h.props=n),h._lifecycle=c,h._unmounted=!1,h._isSVG=u,!i(h.componentWillMount)){if(h._blockRender=!0,h.componentWillMount(),h._pendingSetState){var v=h.state,g=h._pendingState;if(null===v)h.state=g;else for(var y in g)v[y]=g[y];h._pendingSetState=!1,h._pendingState=null}h._blockRender=!1}i(h.getChildContext)||(f=h.getChildContext()),i(f)?h._childContext=a:h._childContext=p(a,f),s(Ie.beforeRender)||Ie.beforeRender(h);var m=h.render(n,h.state,a);return s(Ie.afterRender)||Ie.afterRender(h),ke(m)?d():o(m)?m=he():r(m)?m=ve(m,null):(m.dom&&(m=de(m)),28&m.flags&&(m.parentVNode=e)),h._lastInput=m,h}function ne(e,t,n,r,i){P(n,null,r,!1,i),ce(e,t,n.dom)}function re(e,t,n,i){var a=t(n,i);return ke(a)?d():o(a)?a=he():r(a)?a=ve(a,null):(a.dom&&(a=de(a)),28&a.flags&&(a.parentVNode=e)),a}function ie(e,t){""!==t?e.textContent=t:e.appendChild(document.createTextNode(""))}function oe(e,t){e.appendChild(t)}function ae(e,t,n){i(n)?oe(e,t):e.insertBefore(t,n)}function ue(e,t,n,r,i,o,a){P(e,null,r,!1,a);var u=Y(t,null,r,i,o);t.dom=u,ce(n,u,e.dom)}function ce(e,t,n){e||(e=n.parentNode),e.replaceChild(t,n)}function se(e,t,n,r){(!Ie.recyclingEnabled||Ie.recyclingEnabled&&!r)&&function(e,t,n,r){for(var i=0,a=t.length;i<a;i++){var u=t[i];o(u)||P(u,null,n,!0,r)}}(0,t,n,r),e.textContent=""}function le(e,t){var n=document.createElement("i");return n.innerHTML=t,n.innerHTML===e.innerHTML}function fe(e,t,n,r,i,o,a,u){16&e&&(e=function(e){return!l(e.prototype)&&!l(e.prototype.render)}(t)?4:8);var c={children:void 0===r?null:r,className:void 0===n?null:n,dom:null,flags:e,key:void 0===o?null:o,props:void 0===i?null:i,ref:void 0===a?null:a,type:t};return!0!==u&&Ee(c),null!==Ie.createVNode&&Ie.createVNode(c),c}function de(e){var t,n=e.flags;if(28&n){var i,a=e.props;if(s(a))i=Ye;else for(var u in i={},a)i[u]=a[u];var c=(t=fe(n,e.type,null,null,i,e.key,e.ref,!0)).props,l=c.children;if(l)if(ke(l)){var f=l.length;if(f>0){for(var d=[],p=0;p<f;p++){var h=l[p];r(h)?d.push(h):!o(h)&&ge(h)&&d.push(de(h))}c.children=d}}else ge(l)&&(c.children=de(l));t.children=null}else if(3970&n){var v,g=e.children,y=e.props;if(null===y)v=Ye;else for(var m in v={},y)v[m]=y[m];t=fe(n,e.type,e.className,g,v,e.key,e.ref,!g)}else 1&n&&(t=ve(e.children,e.key));return t}function pe(e,t){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var a,u=n,c=n.length;if(c>0&&!l(n[0])&&(t||(t={}),1===c&&(u=n[0]),l(u)||(t.children=u)),ke(e)){for(var s=[],f=0,d=e.length;f<d;f++)s.push(de(e[f]));a=s}else{var h=e.flags,v=e.className,g=e.key,y=e.ref;if(t&&(t.hasOwnProperty("className")&&(v=t.className),t.hasOwnProperty("ref")&&(y=t.ref),t.hasOwnProperty("key")&&(g=t.key)),28&h){var m=(a=fe(h,e.type,v,null,e.props||t?p(e.props,t):Ye,g,y,!0)).props;if(m){var b=m.children;if(b)if(ke(b)){var _=b.length;if(_>0){for(var T=[],O=0;O<_;O++){var E=b[O];r(E)?T.push(E):!o(E)&&ge(E)&&T.push(de(E))}m.children=T}}else ge(b)&&(m.children=de(b))}a.children=null}else 3970&h?(u=t&&!l(t.children)?t.children:e.children,a=fe(h,e.type,v,u,e.props||t?p(e.props,t):Ye,g,y,!1)):1&h&&(a=ve(e.children,g))}return a}function he(){return fe(4096,null)}function ve(e,t){return fe(1,null,null,e,null,t)}function ge(e){return!!e.flags}function ye(e,t){return t.key=e,t}function me(e,t){return c(e)&&(e="."+e),s(t.key)||"."===t.key[0]?ye(e,t):t}function be(e,t){return t.key=e+t.key,t}function _e(e,t,n,i){for(var a=e.length;n<a;n++){var u=e[n],c=i+"."+n;o(u)||(ke(u)?_e(u,t,0,c):(r(u)?u=ve(u,null):(ge(u)&&u.dom||u.key&&"."===u.key[0])&&(u=de(u)),u=s(u.key)||"."===u.key[0]?ye(c,u):be(i,u),t.push(u)))}}function Te(e){return ke(e)?function(e){var t;!0===e.$?e=e.slice():e.$=!0;for(var n=0,i=e.length;n<i;n++){var a=e[n];if(o(a)||ke(a)){var u=(t||e).slice(0,n);return _e(e,u,n,""),u}r(a)?(t||(t=e.slice(0,n)),t.push(me(n,ve(a,null)))):ge(a)&&null!==a.dom||s(a.key)&&0==(64&a.flags)?(t||(t=e.slice(0,n)),t.push(me(n,de(a)))):t&&t.push(me(n,de(a)))}return t||e}(e):ge(e)&&null!==e.dom?de(e):e}function Oe(e){return"svg"===e?128:"input"===e?512:"select"===e?2048:"textarea"===e?1024:"media"===e?256:2}function Ee(e){var t=e.props,n=e.children;if(28&e.flags){var r=e.type,a=r.defaultProps;if(!i(a))if(t)for(var c in a)l(t[c])&&(t[c]=a[c]);else t=e.props=a;u(r)&&(e.flags=Oe(r),t&&t.children&&(e.children=t.children,n=t.children))}t&&(function(e,t,n){3970&e.flags&&(i(n)&&t.hasOwnProperty("children")&&(e.children=t.children),t.hasOwnProperty("className")&&(e.className=t.className||null,delete t.className)),t.hasOwnProperty("ref")&&(e.ref=t.ref,delete t.ref),t.hasOwnProperty("key")&&(e.key=t.key,delete t.key)}(e,t,n),o(t.children)||(t.children=Te(t.children))),o(n)||(e.children=Te(n))}function we(e,t){return a(t)?{data:e,event:t}:null}Object.defineProperty(t,"__esModule",{value:!0});var Se="$NO_OP",Ae="a runtime error occured! Use Inferno in development environment to find the error.",je=!("undefined"==typeof window||!window.document),ke=Array.isArray;h.prototype.addListener=function(e){this.listeners.push(e)},h.prototype.trigger=function(){for(var e,t=this.listeners;e=t.shift();)e()};var Ie={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]},xe="http://www.w3.org/1999/xlink",Ne="http://www.w3.org/XML/1998/namespace",Ce="http://www.w3.org/2000/svg",Re=new Set;Re.add("volume"),Re.add("defaultChecked");var Me=new Set;Me.add("muted"),Me.add("scoped"),Me.add("loop"),Me.add("open"),Me.add("checked"),Me.add("default"),Me.add("capture"),Me.add("disabled"),Me.add("readOnly"),Me.add("required"),Me.add("autoplay"),Me.add("controls"),Me.add("seamless"),Me.add("reversed"),Me.add("allowfullscreen"),Me.add("novalidate"),Me.add("hidden"),Me.add("autoFocus"),Me.add("selected"),Me.add("indeterminate");var Pe=new Map;Pe.set("xlink:href",xe),Pe.set("xlink:arcrole",xe),Pe.set("xlink:actuate",xe),Pe.set("xlink:show",xe),Pe.set("xlink:role",xe),Pe.set("xlink:title",xe),Pe.set("xlink:type",xe),Pe.set("xml:base",Ne),Pe.set("xml:lang",Ne),Pe.set("xml:space",Ne);var Ue=new Set;Ue.add("animationIterationCount"),Ue.add("borderImageOutset"),Ue.add("borderImageSlice"),Ue.add("borderImageWidth"),Ue.add("boxFlex"),Ue.add("boxFlexGroup"),Ue.add("boxOrdinalGroup"),Ue.add("columnCount"),Ue.add("flex"),Ue.add("flexGrow"),Ue.add("flexPositive"),Ue.add("flexShrink"),Ue.add("flexNegative"),Ue.add("flexOrder"),Ue.add("gridRow"),Ue.add("gridColumn"),Ue.add("fontWeight"),Ue.add("lineClamp"),Ue.add("lineHeight"),Ue.add("opacity"),Ue.add("order"),Ue.add("orphans"),Ue.add("tabSize"),Ue.add("widows"),Ue.add("zIndex"),Ue.add("zoom"),Ue.add("fillOpacity"),Ue.add("floodOpacity"),Ue.add("stopOpacity"),Ue.add("strokeDasharray"),Ue.add("strokeDashoffset"),Ue.add("strokeMiterlimit"),Ue.add("strokeOpacity"),Ue.add("strokeWidth");var Le=new Set;Le.add("children"),Le.add("childrenType"),Le.add("defaultValue"),Le.add("ref"),Le.add("key"),Le.add("checked"),Le.add("multiple");var De=new Set;De.add("onClick"),De.add("onMouseDown"),De.add("onMouseUp"),De.add("onMouseMove"),De.add("onSubmit"),De.add("onDblClick"),De.add("onKeyDown"),De.add("onKeyUp"),De.add("onKeyPress");var Fe=je&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),He=new Map,Ve=new Map,ze=new Map,Be=new Map,Ge=Ie.roots,We=je?document.body:null,Ye={},Xe={EMPTY_OBJ:Ye,NO_OP:Se,cloneVNode:pe,createRenderer:D,createVNode:fe,findDOMNode:U,getFlagsForElementVnode:Oe,internal_DOMNodeMap:Be,internal_isUnitlessNumber:Ue,internal_normalize:Ee,internal_patch:F,linkEvent:we,options:Ie,render:L,version:"3.10.1"};t.default=Xe,t.EMPTY_OBJ=Ye,t.NO_OP=Se,t.cloneVNode=pe,t.createRenderer=D,t.createVNode=fe,t.findDOMNode=U,t.getFlagsForElementVnode=Oe,t.internal_DOMNodeMap=Be,t.internal_isUnitlessNumber=Ue,t.internal_normalize=Ee,t.internal_patch=F,t.linkEvent=we,t.options=Ie,t.render=L,t.version="3.10.1"},function(e,t,n){"use strict";function r(e){return o(e)||i(e)}function i(e){return null===e}function o(e){return void 0===e}function a(){this.listeners=[]}Object.defineProperty(t,"__esModule",{value:!0});var u=n(18);a.prototype.addListener=function(e){this.listeners.push(e)},a.prototype.trigger=function(){for(var e,t=this.listeners;e=t.shift();)e()};var c=new Set;c.add("onComponentWillMount"),c.add("onComponentDidMount"),c.add("onComponentWillUnmount"),c.add("onComponentShouldUpdate"),c.add("onComponentWillUpdate"),c.add("onComponentDidUpdate"),t.default=function(e,t){for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];if(function(e){return i(e)||!1===e||!0===e||o(e)}(e)||"object"==typeof e)throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var s,l=n,f=null,d=null,p=null,h=0;if(n&&(1===n.length?l=n[0]:0===n.length&&(l=void 0)),"string"==typeof e){if(h=u.getFlagsForElementVnode(e),!r(t))for(var v in s={},t)"className"===v||"class"===v?p=t[v]:"key"===v?d=t.key:"children"===v&&o(l)?l=t.children:"ref"===v?f=t.ref:s[v]=t[v]}else if(h=16,o(l)||(t||(t={}),t.children=l,l=null),!r(t))for(var g in s={},t)c.has(g)?(f||(f={}),f[g]=t[g]):"key"===g?d=t.key:s[g]=t[g];return u.createVNode(h,e,p,l,s,d,f)}},function(e,t,n){var r,i,o;i=[e,n(71),n(73),n(74)],void 0!==(o="function"==typeof(r=function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var a=i(t),u=i(n),c=i(r),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),l(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===s(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return o("action",e)}},{key:"defaultTarget",value:function(e){var t=o("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return o("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();e.exports=f})?r.apply(t,i):r)&&(e.exports=o)},function(e,t,n){var r,i,o;i=[e,n(72)],void 0!==(o="function"==typeof(r=function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=o})?r.apply(t,i):r)&&(e.exports=o)},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var r=n(75),i=n(76);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(77);e.exports=function(e,t,n,i,o){var a=function(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){(function(t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||!!e&&"object"==typeof e&&h.call(e)==o}(e))return i;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=c.test(e);return r||s.test(e)?l(e.slice(2),r?2:8):u.test(e)?i:+e}var i=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),h=Object.prototype.toString,v=Math.max,g=Math.min,y=function(){return p.Date.now()};e.exports=function(e,t,i){function o(t){var n=l,r=f;return l=f=void 0,b=t,p=e.apply(r,n)}function a(e){var n=e-m;return void 0===m||n>=t||n<0||T&&e-b>=d}function u(){var e,n=y();if(a(n))return c(n);h=setTimeout(u,(e=t-(n-m),T?g(e,d-(n-b)):e))}function c(e){return h=void 0,O&&l?o(e):(l=f=void 0,p)}function s(){var e=y(),n=a(e);if(l=arguments,f=this,m=e,n){if(void 0===h)return function(e){return b=e,h=setTimeout(u,t),_?o(e):p}(m);if(T)return h=setTimeout(u,t),o(m)}return void 0===h&&(h=setTimeout(u,t)),p}var l,f,d,p,h,m,b=0,_=!1,T=!1,O=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=r(t)||0,n(i)&&(_=!!i.leading,d=(T="maxWait"in i)?v(r(i.maxWait)||0,t):d,O="trailing"in i?!!i.trailing:O),s.cancel=function(){void 0!==h&&clearTimeout(h),b=0,l=m=f=h=void 0},s.flush=function(){return void 0===h?p:c(y())},s}}).call(t,n(79))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./events.ts":17,"./state/entity.ts":9,"./state/flow.ts":3,"./state/graph.ts":29,"./state/gui.ts":12,"./state/tree.ts":30,"./state/views.ts":28};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=80},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){function t(e){return function(){for(var t in this)"function"==typeof this[t][e]&&this[t][e]()}}function n(n){var r=e.getGraph(),i=r.entities,o=r.arcs,a=r.processes;return Object.keys(i).reduce(function(n,r){var u=function(e,n){return void 0===n&&(n={}),r.split(".").reduce(function(e,n){return e[n]=e[n]||{reset:t("reset"),watch:t("watch"),unwatch:t("unwatch")}},n)}(0,n),c=i[r],s=Object.keys(o).map(function(e){return o[e]}).filter(function(e){return e.entity===r&&!e.port}).map(function(e){return e.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return e.get(r)},set:function(t){return e.set(r,t)}}),u.update=function(t){e.update(r,t)},u.reset=function(){null!=c.value&&e.set(r,c.value)},u.watch=function(){e.on(r,function(e){return console.log(r,e)})},u.unwatch=function(){e.off(r)},u.streams={},s.forEach(function(t){var n=t.split(".").pop();n&&(u.streams[n]={start:function(){e.start(t)}},a[t].async&&(u.streams[n].stop=function(){e.stop(t)}))}),n},n)}return n({update:function(){for(var e in this)"update"!==e&&delete this[e];n(this)}})}}])}()},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_require__.d(__webpack_exports__,"a",function(){return evaluate})},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"canvas",function(){return a}),n.d(t,"timeToSort",function(){return u}),n.d(t,"tick",function(){return c}),n.d(t,"windowSize",function(){return s});var r=n(1),i=n(19),o=n(37),a=Object(r.h)(null,function(){return document.getElementById("canvas")||void 0}),u=Object(r.i)(10),c=Object(r.a)([u.HOT],function(e,t){var n=Object(o.a)(e);return setTimeout(n,1e3*t),n}),s=Object(r.b)(null,i.a)},,function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(4),o=n(21),a=n(8),u=n(32),c=n(5),s=function(){function e(e){this.value=e}return e.of=function(t){return new e(t)},e.prototype.of=function(t){return new e(t)},e.prototype.map=function(t){return new e(t(this.value))},e.prototype.ap=function(e){return e.chain(this.map.bind(this))},e.prototype.chain=function(e){return e(this.value)},e.prototype.combine=function(t,n){return this.chain(function(r){return n.chain(function(n){return e.of(t(r,n))})})},e.prototype.pull=function(t,n){return this.chain(function(r){return e.of(t(r,n))})},e}();function l(e,t,n){return e[t]=n(e[t]),e}n.d(t,"nodeCount",function(){return f}),n.d(t,"nameSpaceCount",function(){return d}),n.d(t,"nodes",function(){return p}),n.d(t,"connections",function(){return h}),n.d(t,"springLength",function(){return v});var f=Object(r.i)(40),d=Object(r.i)(6),p=Object(r.g)([f.HOT,d.HOT,o.canvasSize.HOT],function(e,t,n){return Object(i.c)(function(e){return{id:e,pos:[Math.random()*n.width,Math.random()*n.height],ns:Object(a.b)(t),force:[0,0]}},e)}),h=Object(r.g)([f.HOT],function(e){return Object(i.a)(Object(i.c)(function(t){if(t<e-3){var n=Object(a.c)(t+1,e-1),r=[[t,n]],i=Object(a.c)(t+1,e-1);return i!==n&&r.push([t,i]),r}return[]},e))}),v=Object(r.i)(200);p.react([u.tick.HOT,v.COLD,h.COLD],function(e,t,n,r){function i(e,t,n,r){var i=function(e){return function(n){return e.combine(c.f,t).pull(c.a,n).value}};l(n,"force",i(e)),l(r,"force",i(e.map(function(e){return-e})))}for(var o=0,a=r;o<a.length;o++){var u=a[o],f=e[u[0]],d=e[u[1]],p=(g=s.of(d.pos).pull(c.h,f.pos)).map(c.g);i(T=g.map(c.e).map(function(e){return e-n}).map(function(e){return 2*e}),p,f,d)}for(var h=0;h<e.length-1;h++){f=e[h];for(var v=h+1;v<e.length;v++){d=e[v],p=(g=s.of(d.pos).pull(c.h,f.pos)).map(c.g);var g,y=g.map(c.e);i(T=y.map(function(e){return-Math.max(100-e,0)}),p,f,d),d.ns===f.ns?i(y.map(function(e){return e-100}),p,f,d):i(y.map(function(e){return-Math.max(200-e,0)}),p,f,d)}}for(var m=0,b=e;m<b.length;m++){var _=b[m],T=_.force,O=Object(c.e)(T)-3;if(O>0){var E=Object(c.d)(O+3,T);_.pos=Object(c.a)(_.pos,Object(c.f)(O*(t/500),E)),_.force=[0,0]}}return e})},,,function(e,t,n){"use strict";function r(e){var t,n=!0;return requestAnimationFrame(function r(i){n&&(e(i-(t||i)),t=i,requestAnimationFrame(r))}),function(){n=!1}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(34),o=n(4);n(23);var a=n(5);n.d(t,"points",function(){return u}),n.d(t,"lineWidth",function(){return c}),n.d(t,"lines",function(){return s});var u=Object(r.g)([i.nodes.HOT,i.nameSpaceCount.HOT],function(e,t){return{drawType:"POINTS",attribs:{position:{buffer:new Float32Array(Object(o.b)(function(e){return e.pos},e)),storeType:"DYNAMIC"},color:{buffer:new Float32Array(Object(o.b)(function(e){return[e.ns/t*255,255*(e.ns/t+1/3)%255,255*(e.ns/t+2/3)%255].map(function(e){return e/255})},e)),storeType:"DYNAMIC"}},itemCount:e.length}}),c=Object(r.i)(3),s=Object(r.g)([i.connections.HOT,i.nodes.HOT,c.HOT],function(e,t,n){return{drawType:"TRIANGLES",attribs:{position:{buffer:new Float32Array(Object(o.b)(function(e){var r=t[e[0]],i=t[e[1]],u=Object(a.g)(Object(a.h)(i.pos,r.pos)),c=[u[1],-u[0]],s=Object(a.a)(r.pos,Object(a.f)(n/2,c)),l=Object(a.a)(r.pos,Object(a.f)(-n/2,c)),f=Object(a.a)(i.pos,Object(a.f)(n/2,c)),d=Object(a.a)(i.pos,Object(a.f)(-n/2,c));return Object(o.a)([f,l,s,l,f,d])},e)),storeType:"DYNAMIC"}},itemCount:6*e.length}})},,function(e,t,n){"use strict";n.r(t),n.d(t,"line",function(){return d}),n.d(t,"point",function(){return p});var r=n(53),i=n.n(r),o=n(52),a=n.n(o),u=n(51),c=n.n(u),s=n(50),l=n.n(s),f=n(1),d=Object(f.i)({vert:i.a,frag:a.a}).reset(),p=Object(f.i)({vert:c.a,frag:l.a}).reset()},,,,,,,,,,function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec3 vColor;\n\nvoid main() {\n\tgl_FragColor = vec4(vColor, 1.0);\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec2 position;\nattribute vec3 color;\n\nuniform vec2 size;\n\nvarying vec3 vColor;\n\nvoid main() {\n\tvColor = color;\n\tgl_Position = vec4((position / size) * 2.0 - 1.0, 0.0, 1.0);\n\tgl_PointSize = 20.0;\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nvoid main() {\n\tgl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec2 position;\n\nuniform vec2 size;\n\nvoid main() {\n\tgl_Position = vec4((position / size) * 2.0 - 1.0, 0.0, 1.0);\n}\n"},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(25),i=n(27),o=r.a(),a=i.ui.start("graph-sort");window.flow=o,window.tools=a;var u=n(26),c=n(69);o.setDebug(!0),Object(u.a)(o,c),a.setFlow(o,"graph-sort")},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"pointsShade",function(){return c}),n.d(t,"linesShade",function(){return s}),n.d(t,"pointsForm",function(){return l}),n.d(t,"linesForm",function(){return f}),n.d(t,"pointsData",function(){return d}),n.d(t,"linesData",function(){return p}),n.d(t,"pointsSketch",function(){return h}),n.d(t,"linesSketch",function(){return v}),n.d(t,"sceneData",function(){return g}),n.d(t,"scene",function(){return y}),n.d(t,"render",function(){return m});var r=n(1),i=n(21),o=n(38),a=n(40),u=n(9),c=Object(u.d)(i.painter,a.point),s=Object(u.d)(i.painter,a.line),l=Object(u.c)(i.painter,o.points),f=Object(u.c)(i.painter,o.lines),d=Object(r.g)([l.HOT,c.HOT],function(e,t){return{form:e,shade:t}}),p=Object(r.g)([f.HOT,s.HOT],function(e,t){return{form:e,shade:t}}),h=Object(u.e)(i.painter,d),v=Object(u.e)(i.painter,p),g=Object(r.g)([h.HOT,v.HOT,i.canvasSize.HOT,i.gl.HOT],function(e,t,n,r){return{sketches:[t,e],uniforms:{size:[n.width,n.height]},drawSettings:{clearColor:[0,0,0,1],clearBits:r.COLOR_BUFFER_BIT,cullFace:r.BACK,enable:[r.CULL_FACE]}}}),y=Object(u.a)(i.painter,g),m=Object(r.g)([i.painter.COLD,y.HOT],function(e,t){return e.compose(t)})},function(e,t,n){var r={"./events.ts":32,"./state/nodes.ts":34,"./view/context.ts":21,"./view/geometries.ts":38,"./view/renderer.ts":68,"./view/shaders.ts":40};function i(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=69},function(e,t,n){e.exports=n(63)}]);
//# sourceMappingURL=main.js.map