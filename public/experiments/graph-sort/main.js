!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=86)}([function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"d",function(){return c});const r="position",i="normal",o="uv",a="source",u="coords",c={FLOAT:5126,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FLOAT_MAT2X3:35685,FLOAT_MAT2X4:35686,FLOAT_MAT3X2:35687,FLOAT_MAT3X4:35688,FLOAT_MAT4X2:35689,FLOAT_MAT4X3:35690,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT:5125,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_3D:32879,TEXTURE_2D_ARRAY:35866,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};var i=n(7),o=n(21);n.d(e,"i",function(){return f}),n.d(e,"g",function(){return p}),n.d(e,"a",function(){return h}),n.d(e,"h",function(){return v}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return b}),n.d(e,"d",function(){return _});var a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},u="Stream",c="Reaction";function s(t,e){return e?e+"."+t:t}function l(t){var e,n,r,a=t.value,u=Object(o.a)(),l=[],f={};return f.HOT={entity:f,type:i.a.HOT},f.COLD={entity:f,type:i.a.COLD},f.id=function(t,n){return u=s(t,n),e=n,f},f.val=function(t){return a=t,f},f.updateVal=function(t){return a=t(a),f},f.accept=function(t){return n=t,f},f.reset=function(){return r=!0,f},f.getId=function(){return u},t.procedure&&l.push(t),f.react=function(t,e,n){var r=d(t,e,n);r.pidSuffix=c;var o=r.dependencies;return r.dependencies=[{entity:f,type:i.a.ACCUMULATOR}],o&&o.length&&(r.dependencies=r.dependencies.concat(o)),l.push(r),f},f.getGraph=function(){var t={entities:{},processes:{},arcs:{},meta:{}};return t.entities[u]=Object(i.c)({id:u,value:a,accept:n,reset:r}),l.forEach(function(n){var r=n.dependencies,o=n.processId?s(n.processId,e):u+n.pidSuffix+(r&&r.length?":"+r.reduce(function(t,e){var n=e.entity.getId();return n===u?t:t+":"+n},""):""),a=[];r&&r.forEach(function(e,n){if(a[n]=e.type,e.type!==i.a.ACCUMULATOR){var r=Object(i.b)({process:o,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var c=Object(i.b)({process:o,entity:u});t.arcs[c.id]=c,t.processes[o]=Object(i.d)({id:o,ports:a,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},f}function f(t){return l({value:t})}function d(t,e,n){var r={procedure:e};return null!=t&&t.length&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=u,r}var p=function(t,e,n){return l(d(t,e,n))},h=function(t,e,n){return l(a({},d(t,e,n),{async:!0}))},v=function(t,e,n){return l(a({},d(t,e,n),{autostart:!0}))},g=function(t,e,n){return l(a({},d(t,e,n),{async:!0,autostart:!0}))},y=function(t,e,n){return l(a({},d([t.HOT],e,n),{delta:!0}))};function m(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}function b(t,e){for(var n in t){var r=t[n];m(r)&&r.id(n,e)}return t}function _(t){var e=[];for(var n in t){var i=t[n];m(i)&&e.push(i)}return e.reduce(function(t,e){return function(t,e){return{entities:r({},t.entities,e.entities),processes:r({},t.processes,e.processes),arcs:r({},t.arcs,e.arcs),meta:r({},t.meta,e.meta)}}(t,e.getGraph())},{entities:{},processes:{},arcs:{},meta:{}})}},,function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return f});var r=n(8);function i(t){return t[Object(r.b)(t.length)]}function o(t,e){for(let n=0;n<e;n++)t(n)}function a(t,e,n=[]){for(let r=0;r<e;r++)n[r]=t(r);return n}function u(t,e,n,r=[]){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++)r[o]=t(e[o],n[o]);return r}function c(t,e=[]){for(const n of t){const t=e.length;for(let r=0;r<n.length;r++)e[r+t]=n[r]}return e}function s(t,e,n=[]){return c(e.map(t),n)}function l(t,e){if(Array.isArray(e))return e.map(t);{const n={};for(const r in e)n[r]=t(e[r],r);return n}}function f(t,e){for(const n in e)t(e[n],n)}},,,function(t,e,n){"use strict";function r(t,e,n=[]){for(let r=0;r<t.length;r++)n[r]=t[r]+e[r];return n}function i(t,e,n=[]){for(let r=0;r<t.length;r++)n[r]=t[r]-e[r];return n}function o(t,e,n=[]){for(let r=0;r<e.length;r++)n[r]=e[r]*t;return n}function a(t,e,n=[]){for(let r=0;r<e.length;r++)n[r]=e[r]/t;return n}function u(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];e+=r*r}return Math.sqrt(e)}function c(t,e=[]){return a(u(t),t,e)}function s(t,e){let n=0;for(let r=0;r<t.length;r++)n+=t[r]*e[r];return n}function l(t,e,n=[]){return n[0]=t[1]*e[2]-t[2]*e[1],n[1]=t[2]*e[0]-t[0]*e[2],n[2]=t[0]*e[1]-t[1]*e[0],n}function f(t,e){return t[0]*e[1]-t[1]*e[0]}n.d(e,"a",function(){return r}),n.d(e,"i",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return f});n(11).a},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n(21),i=n(35);function o(t){var e=t.id,n=void 0===e?Object(r.a)():e,i=t.value,o=t.json,a=t.accept,u=t.reset,c=t.meta;return void 0===i&&o&&(i=JSON.parse(o)),{id:n,value:i,accept:a,reset:u,meta:c}}function a(t,e){var n=t.id,o=void 0===n?Object(r.a)():n,a=t.ports,u=void 0===a?[]:a,s=t.procedure,l=t.code,f=t.autostart,d=void 0!==f&&f,p=t.async,h=void 0!==p&&p,v=t.delta,g=void 0!==v&&v,y=t.meta;if(null==s&&null!=l&&(s=Object(i.a)(l,e)),null==s)throw TypeError("Process must have procedure or code set");return g&&!u.length&&u.push(c.HOT),{id:o,ports:u,procedure:s,autostart:d,async:h,delta:g,meta:y}}function u(t){var e=t.id,n=t.entity,r=t.process,i=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:e,entity:n,process:r,port:i,meta:o}}var c={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";function r(t){return Math.floor(Math.random()*t)}function i(t,e){return r(e-t)+t}function o(){return(Math.random()+Math.random()+Math.random())/3}n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){const e=t.getContext("webgl")||t.getContext("experimental-webgl");if(null==e)throw Error("Webgl context cannot be initialized");return e}function i(t,...e){return e.reduce((e,n)=>e|t[n.toUpperCase()+"_BUFFER_BIT"],0)}function o(t,e=1){e=Math.max(1,e);const n=t.clientWidth*e|0,r=t.clientHeight*e|0;return(t.width!==n||t.height!==r)&&(t.width=n,t.height=r,!0)}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o})},,function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});const r=(t,e)=>t!==e;function i(t,e){if(t===e)return!0;if(!e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}},function(t,e,n){"use strict";n.d(e,"g",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"b",function(){return p});var r=n(1),i=n(9),o=n(14),a=n(11);function u(t,e,n){var u=Object(r.g)([t.HOT],i.a),c=Object(r.a)([u.HOT],function(t,e){var n=new o.a(e);return t(n),n.destroy}).accept(a.b),s=Object(r.g)([t.HOT,e.HOT],function(t){return{width:t.clientWidth,height:t.clientHeight}});return c.react([s.HOT],function(t,e){return t.resize()},"updateSize"),n&&c.react([n.HOT],function(t,e){return t.updateDrawSettings(e)}),{painter:c,gl:u,canvasSize:s}}function c(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createShade();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function s(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createForm();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function l(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createSketch();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function f(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createStaticLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function d(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createDrawingLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function p(t,e){var n=Object(r.a)([t.HOT],function(t,e){var n=e.createEffectLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}},,function(t,e,n){"use strict";var r=n(0);function i(t){return d[t].bindPoint}function o(t,e){return function(n){t.uniform1i(e,n)}}function a(t,e){return function(n){t.uniform1iv(e,n)}}function u(t,e){return function(n){t.uniform2iv(e,n)}}function c(t,e){return function(n){t.uniform3iv(e,n)}}function s(t,e){return function(n){t.uniform4iv(e,n)}}function l(t,e,n,r){const o=i(e);return function(e){t.uniform1i(r,n),t.activeTexture(t.TEXTURE0+n),t.bindTexture(o,e)}}function f(t,e,n,r,o){const a=i(e),u=new Int32Array(o);for(let t=0;t<o;++t)u[t]=n+t;return function(e){t.uniform1iv(r,u);for(const n in e)t.activeTexture(t.TEXTURE0+u[n]),t.bindTexture(a,e[n])}}const d={[r.d.FLOAT]:{Type:Float32Array,size:4,setter:function(t,e){return function(n){t.uniform1f(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1fv(e,n)}}},[r.d.FLOAT_VEC2]:{Type:Float32Array,size:8,setter:function(t,e){return function(n){t.uniform2fv(e,n)}}},[r.d.FLOAT_VEC3]:{Type:Float32Array,size:12,setter:function(t,e){return function(n){t.uniform3fv(e,n)}}},[r.d.FLOAT_VEC4]:{Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniform4fv(e,n)}}},[r.d.INT]:{Type:Int32Array,size:4,setter:o,arraySetter:a},[r.d.INT_VEC2]:{Type:Int32Array,size:8,setter:u},[r.d.INT_VEC3]:{Type:Int32Array,size:12,setter:c},[r.d.INT_VEC4]:{Type:Int32Array,size:16,setter:s},[r.d.UNSIGNED_INT]:{Type:Uint32Array,size:4,setter:function(t,e){return function(n){t.uniform1ui(e,n)}},arraySetter:function(t,e){return function(n){t.uniform1uiv(e,n)}}},[r.d.UNSIGNED_INT_VEC2]:{Type:Uint32Array,size:8,setter:function(t,e){return function(n){t.uniform2uiv(e,n)}}},[r.d.UNSIGNED_INT_VEC3]:{Type:Uint32Array,size:12,setter:function(t,e){return function(n){t.uniform3uiv(e,n)}}},[r.d.UNSIGNED_INT_VEC4]:{Type:Uint32Array,size:16,setter:function(t,e){return function(n){t.uniform4uiv(e,n)}}},[r.d.BOOL]:{Type:Uint32Array,size:4,setter:o,arraySetter:a},[r.d.BOOL_VEC2]:{Type:Uint32Array,size:8,setter:u},[r.d.BOOL_VEC3]:{Type:Uint32Array,size:12,setter:c},[r.d.BOOL_VEC4]:{Type:Uint32Array,size:16,setter:s},[r.d.FLOAT_MAT2]:{Type:Float32Array,size:16,setter:function(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}},[r.d.FLOAT_MAT3]:{Type:Float32Array,size:36,setter:function(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}},[r.d.FLOAT_MAT4]:{Type:Float32Array,size:64,setter:function(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}},[r.d.FLOAT_MAT2X3]:{Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}},[r.d.FLOAT_MAT2X4]:{Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}},[r.d.FLOAT_MAT3X2]:{Type:Float32Array,size:24,setter:function(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}},[r.d.FLOAT_MAT3X4]:{Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}},[r.d.FLOAT_MAT4X2]:{Type:Float32Array,size:32,setter:function(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}},[r.d.FLOAT_MAT4X3]:{Type:Float32Array,size:48,setter:function(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}},[r.d.SAMPLER_2D]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D},[r.d.SAMPLER_CUBE]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.SAMPLER_3D]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_3D},[r.d.SAMPLER_2D_SHADOW]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D},[r.d.SAMPLER_2D_ARRAY]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D_ARRAY},[r.d.SAMPLER_2D_ARRAY_SHADOW]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D_ARRAY},[r.d.SAMPLER_CUBE_SHADOW]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.INT_SAMPLER_2D]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D},[r.d.INT_SAMPLER_3D]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_3D},[r.d.INT_SAMPLER_CUBE]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.INT_SAMPLER_2D_ARRAY]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D_ARRAY},[r.d.UNSIGNED_INT_SAMPLER_2D]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D},[r.d.UNSIGNED_INT_SAMPLER_3D]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_3D},[r.d.UNSIGNED_INT_SAMPLER_CUBE]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_CUBE_MAP},[r.d.UNSIGNED_INT_SAMPLER_2D_ARRAY]:{Type:null,size:0,setter:l,arraySetter:f,bindPoint:r.d.TEXTURE_2D_ARRAY}};function p(t,e,n){return function(i){t.bindBuffer(t.ARRAY_BUFFER,i.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.itemSize,r.d.FLOAT,i.normalize||!1,i.stride||0,i.offset||0)}}function h(t,e,n){return function(i){t.bindBuffer(t.ARRAY_BUFFER,i.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.itemSize,r.d.INT,i.stride||0,i.offset||0)}}function v(t,e,n){const i=n.size,o=n.count;return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer);const a=i,u=a/o,c=d[r.d.FLOAT].size*a,s=n.normalize||!1,l=n.offset||0,f=c/o;for(let n=0;n<o;++n)t.enableVertexAttribArray(e+n),t.vertexAttribPointer(e+n,u,r.d.FLOAT,s,c,l+f*n)}}const g={[r.d.FLOAT]:{size:4,setter:p,itemSize:1},[r.d.FLOAT_VEC2]:{size:8,setter:p,itemSize:2},[r.d.FLOAT_VEC3]:{size:12,setter:p,itemSize:3},[r.d.FLOAT_VEC4]:{size:16,setter:p,itemSize:4},[r.d.INT]:{size:4,setter:h,itemSize:1},[r.d.INT_VEC2]:{size:8,setter:h,itemSize:2},[r.d.INT_VEC3]:{size:12,setter:h,itemSize:3},[r.d.INT_VEC4]:{size:16,setter:h,itemSize:4},[r.d.UNSIGNED_INT]:{size:4,setter:h,itemSize:1},[r.d.UNSIGNED_INT_VEC2]:{size:8,setter:h,itemSize:2},[r.d.UNSIGNED_INT_VEC3]:{size:12,setter:h,itemSize:3},[r.d.UNSIGNED_INT_VEC4]:{size:16,setter:h,itemSize:4},[r.d.BOOL]:{size:4,setter:h,itemSize:1},[r.d.BOOL_VEC2]:{size:8,setter:h,itemSize:2},[r.d.BOOL_VEC3]:{size:12,setter:h,itemSize:3},[r.d.BOOL_VEC4]:{size:16,setter:h,itemSize:4},[r.d.FLOAT_MAT2]:{size:4,setter:v,count:2},[r.d.FLOAT_MAT3]:{size:9,setter:v,count:3},[r.d.FLOAT_MAT4]:{size:16,setter:v,count:4}};Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array,Uint16Array,Uint16Array,Uint16Array,Uint32Array,Uint32Array,Uint32Array,Uint32Array,Uint32Array;function y(t,e={},n={}){if(null!=e.flipY&&e.flipY!==n.flipY&&t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY),e.wrap&&e.wrap!==n.wrap||e.wrapS&&e.wrapS!==n.wrapS||e.wrapT&&e.wrapT!==n.wrapT){let n,r;e.wrap?n=r=e.wrap:(r=e.wrapT||"CLAMP_TO_EDGE",n=e.wrapS||"CLAMP_TO_EDGE"),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t[n]),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t[r])}e.magFilter&&e.magFilter!==n.magFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t[e.magFilter]),e.minFilter&&e.minFilter!==n.minFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t[e.minFilter])}function m(t,e,n,r){if(null==e.width||null==e.height)return;null==e.frameBuffer&&(e.frameBuffer=t.createFramebuffer()),e.textures||(e.textures=[]),t.bindFramebuffer(t.FRAMEBUFFER,e.frameBuffer),e.textureConfig.type===t.FLOAT&&t.getExtension("OES_texture_float");const i=e.textureConfig.count;if(i>1){const o=t.getExtension("WEBGL_draw_buffers")||{drawBuffersWEBGL(){}},a=[];for(let t=0;t<i;t++)a.push(o[`COLOR_ATTACHMENT${t}_WEBGL`]);o.drawBuffersWEBGL(a);for(let o=0;o<i;o++){null==e.textures[o]&&(e.textures[o]=t.createTexture());const i=e.textures[o];t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),y(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,a[o],t.TEXTURE_2D,i,0)}}else{null==e.textures[0]&&(e.textures[0]=t.createTexture());const i=e.textures[0];t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),y(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0)}null==e.depthBuffer&&(e.depthBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e.depthBuffer);const o=t.checkFramebufferStatus(t.FRAMEBUFFER);o!==t.FRAMEBUFFER_COMPLETE&&console.error("framebuffer error",o,n),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null)}function b(t,e){t.deleteFramebuffer(e.frameBuffer),t.deleteRenderbuffer(e.depthBuffer);for(const n of e.textures)t.deleteTexture(n)}function _(t,e){if(e.enable)for(const n of e.enable)t.enable(n);if(e.disable)for(const n of e.disable)t.disable(n);e.blendFunc&&t.blendFunc.apply(t,e.blendFunc),null!=e.depthFunc&&t.depthFunc(e.depthFunc),null!=e.cullFace&&t.cullFace(e.cullFace),null!=e.frontFace&&t.frontFace(e.frontFace),null!=e.lineWidth&&t.lineWidth(e.lineWidth),e.colorMask&&t.colorMask.apply(t,e.colorMask),null!=e.depthMask&&t.depthMask(e.depthMask),e.clearColor&&t.clearColor.apply(t,e.clearColor),null!=e.clearDepth&&t.clearDepth(e.clearDepth),null!=e.clearBits&&t.clear(e.clearBits)}function T(t,e){if(e.enable)for(const n of e.enable)t.disable(n);if(e.disable)for(const n of e.disable)t.enable(n)}var O=n(9);const E={wrap:"CLAMP_TO_EDGE",minFilter:"LINEAR",magFilter:"NEAREST"};const w={renderQuad:{attribs:{[r.b]:{buffer:new Float32Array([-1,1,-1,-1,1,1,1,-1]),storeType:"STATIC"},[r.c]:{buffer:new Float32Array([0,1,0,0,1,1,1,0]),storeType:"STATIC"}},drawType:"TRIANGLE_STRIP",itemCount:4}},S={basicEffect:{vert:`\n\t\t\tattribute vec2 ${r.b};\n\t\t\tattribute vec2 ${r.c};\n\t\t\tvarying vec2 ${r.f};\n\t\t\tvoid main() {\n\t\t\t\t${r.f} = ${r.c};\n\t\t\t\tgl_Position = vec4(${r.b}, 0.0, 1.0);\n\t\t\t}`,frag:`precision mediump float;\n\t\t\tuniform sampler2D ${r.e};\n\t\t\tvarying vec2 ${r.f};\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D(${r.e}, ${r.f});\n\t\t\t}`}};class A{constructor(t){this.gl=t}update(t){const e=this.gl;t.drawType&&(this.drawType=e[t.drawType]),t.itemCount&&(this.itemCount=t.itemCount),this.attribs=this.attribs||{};for(const n in t.attribs){const r=t.attribs[n];null==this.attribs[n]&&(this.attribs[n]={buffer:e.createBuffer()}),e.bindBuffer(e.ARRAY_BUFFER,this.attribs[n].buffer),e.bufferData(e.ARRAY_BUFFER,r.buffer,e[(r.storeType||"STATIC")+"_DRAW"])}if(t.elements){const n=t.elements.buffer;null==this.elements&&(this.elements={buffer:e.createBuffer(),glType:null}),this.elements.glType=function(t){if(t instanceof Int8Array)return r.d.BYTE;if(t instanceof Uint8Array)return r.d.UNSIGNED_BYTE;if(t instanceof Uint8ClampedArray)return r.d.UNSIGNED_BYTE;if(t instanceof Int16Array)return r.d.SHORT;if(t instanceof Uint16Array)return r.d.UNSIGNED_SHORT;if(t instanceof Int32Array)return r.d.INT;if(t instanceof Uint32Array)return r.d.UNSIGNED_INT;if(t instanceof Float32Array)return r.d.FLOAT;throw"unsupported typed array type"}(n),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.elements.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e[(t.elements.storeType||"STATIC")+"_DRAW"])}return this}destroy(){for(const t in this.attribs)this.gl.deleteBuffer(this.attribs[t].buffer);this.elements&&this.gl.deleteBuffer(this.elements.buffer)}}class j{constructor(t){this.gl=t,this.program=t.createProgram(),this.frag=t.createShader(t.FRAGMENT_SHADER),this.vert=t.createShader(t.VERTEX_SHADER),t.attachShader(this.program,this.vert),t.attachShader(this.program,this.frag)}update(t){const e=this.gl,n=t.frag&&t.frag.trim()||this.fragSource,r=t.vert&&t.vert.trim()||this.vertSource;if(!n||!r)return this;if(n.indexOf("GL_EXT_draw_buffers")>=0&&e.getExtension("WEBGL_draw_buffers"),e.shaderSource(this.vert,r),e.shaderSource(this.frag,n),e.compileShader(this.vert),e.compileShader(this.frag),e.getShaderParameter(this.vert,e.COMPILE_STATUS)||console.error("Error Compiling Vertex Shader!\n",e.getShaderInfoLog(this.vert),k(r)),e.getShaderParameter(this.frag,e.COMPILE_STATUS)||console.error("Error Compiling Fragment Shader!\n",e.getShaderInfoLog(this.frag),k(n)),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS)){const t=e.getProgramInfoLog(this.program);console.error("Error in program linking:",t)}return this.uniformSetters=function(t,e){let n=0;function r(e,r){const i=t.getUniformLocation(e,r.name),o=r.size>1&&"[0]"===r.name.substr(-3),a=r.type,u=d[a];if(!u)throw"unknown type: 0x"+a.toString(16);if(null==i)return;let c;if(function(t){return null===t.Type}(u)){const e=n;n+=r.size,c=o?u.arraySetter(t,a,e,i,r.size):u.setter(t,a,e,i)}else c=u.arraySetter&&o?u.arraySetter(t,i):u.setter(t,i);return{setter:c,location:i}}const i={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let n=0;n<o;++n){const o=t.getActiveUniform(e,n);if(!o)break;let a=o.name;if("[0]"===a.substr(-3)&&(a=a.substr(0,a.length-3)),e){const t=r(e,o);t&&(i[a]=t)}}return i}(e,this.program),this.attributeSetters=function(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i);if(!r)break;const o=t.getAttribLocation(e,r.name),a=g[r.type],u=a.setter(t,o,a);n[r.name]={setter:u,location:o}}return n}(e,this.program),this.fragSource=n,this.vertSource=r,this}destroy(){this.gl.deleteProgram(this.program),this.gl.deleteShader(this.frag),this.gl.deleteShader(this.vert)}}function k(t){return t.trim().split("\n").map((t,e)=>e+1+": "+t).join("\n")}class x{update(t){return t.drawSettings&&(this.drawSettings=t.drawSettings),t.form&&(this.form=t.form),t.shade&&(this.shade=t.shade),t.uniforms&&(this.uniforms=t.uniforms),this}destroy(){this.form&&this.form.destroy(),this.shade&&this.shade.destroy()}}var I=n(3);class C{constructor(t){this.data={},this.gl=t,this._texture=t.createTexture()}texture(){return this._texture}update(t){return this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture()),y(this.gl,t,this.data),t.asset&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t.asset),t.minFilter&&t.minFilter.indexOf("MIPMAP")>0&&this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.bindTexture(this.gl.TEXTURE_2D,null),Object.assign(this.data,t),this}destroy(){this.gl.deleteTexture(this.texture())}}class N{constructor(t){this.gl=t,this.data={}}texture(t=0){return this.targets&&this.targets[0].textures[t]||null}update(t){if(t.buffered&&!this.targets?(this.targets=Object(I.g)(()=>({width:t.width||this.gl.canvas.width,height:t.height||this.gl.canvas.height,frameBuffer:null,textures:[],depthBuffer:null,textureConfig:{type:t.textureConfig&&t.textureConfig.type||this.gl.UNSIGNED_BYTE,count:t.textureConfig&&t.textureConfig.count||1}}),2),this.targets.forEach(e=>m(this.gl,e,t,this.data))):this.targets&&t.width&&t.height&&this.targets.forEach(e=>{e.width=t.width,e.height=t.height,m(this.gl,e,t,this.data)}),t.sketches&&(this.sketches=t.sketches),t.frag){const e=this.sketches&&this.sketches[0];e&&e.shade.update({frag:t.frag})}return t.uniforms&&(this.uniforms=t.uniforms),Object.assign(this.data,t),this}destroy(){if(this.sketches)for(const t of this.sketches)t.destroy();this.targets&&(this.targets.forEach(t=>b(this.gl,t)),this.targets=void 0)}}n.d(e,"a",function(){return M});class M{constructor(t){this.gl=t,this.targets=[{},{}],this.resize(1,!0),this.renderQuad=this.createForm().update(w.renderQuad),this.result=this.createFlatSketch()}resize(t=1,e=!1){const n=this.gl.canvas;return(Object(O.c)(n,t)||e)&&this.targets.forEach(t=>{t.width=n.width,t.height=n.height,t.textureConfig={count:1,type:this.gl.UNSIGNED_BYTE},m(this.gl,t,E)}),this}destroy(){this.result.destroy();for(const t of this.targets)b(this.gl,t)}updateDrawSettings(t){return _(this.gl,Object.assign({},function(t){return{clearColor:[0,0,0,1],enable:[t.DEPTH_TEST],blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}}(this.gl),t)),this}createForm(){return new A(this.gl)}createShade(){return new j(this.gl)}createSketch(){return new x}createFlatSketch(){return this.createSketch().update({form:this.renderQuad,shade:this.createShade().update(S.basicEffect)})}createStaticLayer(){return new C(this.gl)}createDrawingLayer(){return new N(this.gl)}createEffectLayer(){return this.createDrawingLayer().update({sketches:[this.createFlatSketch()]})}draw(t,e){return R(this.gl,t,null,e),this}compose(...t){return function(t,e,n,r){const i=e.length-1;for(let o=0;o<e.length;o++){const a=e[o];if(Array.isArray(a.uniforms)){const e=i+a.uniforms.length-1;a.looping=!1;for(let i=0;i<a.uniforms.length;i++){const u=o+i===e;L(t,a,n,a.uniforms[i],r,u)}}else{const e=o===i;L(t,a,n,a.uniforms,r,e)}}}(this.gl,t,this.targets,this.result),this}}function R(t,e,n,r){const{shade:i,form:o,drawSettings:a}=e,{uniforms:u}=e;if(!i||!o)throw Error("cannot draw, shader or geometry are not set");if(t.useProgram(i.program),function(t,e){for(const n in e.attribs){const r=t.attributeSetters[n];r&&r.setter(e.attribs[n])}}(i,o),r&&U(i,r,n),a&&_(t,a),Array.isArray(u))for(const r of u)P(t,e,n,r);else P(t,e,n,u);a&&T(t,a)}function P(t,e,n,r){r&&U(e.shade,r,n),e.form.elements&&null!=e.form.elements.glType?(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.form.elements.buffer),t.drawElements(e.form.drawType,e.form.itemCount,e.form.elements.glType,0)):t.drawArrays(e.form.drawType,0,e.form.itemCount)}function U(t,e,n){for(const r in e){const i=t.uniformSetters[r];if(i){let t=e[r];"function"==typeof t&&(t=t()),null===t||"string"==typeof t?i.setter(n):i.setter(t)}}}function L(t,e,n,r,i,o){const a=n[0],u=n[1];if(o?(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)):e.targets?(t.bindFramebuffer(t.FRAMEBUFFER,e.targets[1].frameBuffer),t.viewport(0,0,e.targets[1].width,e.targets[1].height)):(t.bindFramebuffer(t.FRAMEBUFFER,u.frameBuffer),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)),e.data.drawSettings&&_(t,e.data.drawSettings),e.sketches)for(const n of e.sketches)R(t,n,e.looping&&e.texture()||a.textures[0],r);else R(t,i,null,{source:e.texture()});if(e.data.drawSettings&&T(t,e.data.drawSettings),!o)if(e.targets){const t=e.targets[0];e.targets[0]=e.targets[1],e.targets[1]=t,e.looping=!0}else n[0]=u,n[1]=a}},,function(t,e,n){"use strict";function r(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){if("object"==typeof t&&"object"==typeof e&&!Array.isArray(t)&&!Array.isArray(e)&&t!==e){const n=Object.assign({},t);for(const i in e){const o=t[i],a=e[i];void 0!==a?n[i]=r(o,a):delete n[i]}return n}return e}function i(t,e,n){const r=n&&n.ignore;if("object"==typeof t&&"object"==typeof e&&!Array.isArray(t)&&!Array.isArray(e)&&t!==e){for(const n in t)if(t.hasOwnProperty(n)&&!(r&&n in r&&!0===r[n])){const o=t[n],a=e[n];void 0!==a&&(t[n]=i(o,a,{ignore:r&&r[n]}))}return t}return e}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i})},,function(t,e,n){"use strict";function r(t){return t>0?1:t<0?-1:0}function i(t,e,n){return e+t*(n-e)}function o(t,e,n){return Math.max(t,Math.min(n,e))}n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});Math.PI},,function(t,e,n){"use strict";n.d(e,"a",function(){return a});const r=new Array(16);const i=[],o={};for(let t=0;t<256;t++)i[t]=(t+256).toString(16).substr(1),o[i[t]]=t;function a(){const t=function(){for(let t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random(),r[e]=t>>>((3&e)<<3)&255);return r}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){const e=i;let n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}(t)}},,,,function(t,e,n){"use strict";n.r(e),n.d(e,"canvasSize",function(){return o}),n.d(e,"painter",function(){return a}),n.d(e,"gl",function(){return u});var r=n(12),i=n(40);const{canvasSize:o,painter:a,gl:u}=Object(r.g)(i.canvas,i.windowSize)},,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(7),i=n(17),o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(){var t={},e={},n={},a={es:{},ps:{}},u={},c=null,s=!1;function l(t){return null==t||"object"!=typeof t||Array.isArray(t)||(u=Object(i.b)(u,t)),u}function f(t){return a.es[t]&&a.es[t].val}function d(t,e){j(k(t),e,!0)&&S()}function p(e){var n=Object(r.c)(e);t[n.id]=n;var i,o=k(n.id);return void 0===n.value||!n.reset&&void 0!==o.val||(o.val=n.value,O[n.id]=!1,w=!0),o.accept=n.accept,n.meta&&l({entities:(i={},i[n.id]=n.meta,i)}),n}function h(e){var n=k(e);for(var r in n.arcs)m(r);var i,o=t[e];o&&o.meta&&l({entities:(i={},i[o.id]=void 0,i)}),delete a.es[e],delete t[e]}function v(t){var i,o=Object(r.d)(t,c),a=o.ports,u=x(o.id);for(var s in e[o.id]=o,delete u.acc,u.values=[],u.sources=[],u.async=o.async,u.delta=o.delta,Object.keys(u.arcs).forEach(function(t){var e=n[t].port;null==e||a[e]&&a[e]!==r.a.ACCUMULATOR||m(t)}),a.forEach(function(t,e){t===r.a.ACCUMULATOR&&(u.acc=e)}),u.arcs)b(n[s]);return o.meta&&l({processes:(i={},i[o.id]=o.meta,i)}),o}function g(t){var n=x(t);for(var r in n.stop&&(n.stop(),delete n.stop),n.arcs)m(r);delete a.ps[t];var i,o=e[t];o&&o.meta&&l({processes:(i={},i[o.id]=void 0,i)}),delete e[t]}function y(t){var i=Object(r.b)(t);n[i.id]=i,b(i);var o,a=x(i.process),u=e[i.process];return u&&!0===u.autostart&&Object.keys(a.arcs).length===Object.keys(u.ports).length+1&&function(t){t.async?requestAnimationFrame(function(){A(t)}):(A(t),t.out&&(O[t.out.id]=!1))}(a),i.meta&&l({arcs:(o={},o[i.id]=i.meta,o)}),i}function m(t){var e,r=n[t];if(r){var i=x(r.process),o=k(r.entity);delete i.arcs[t],delete o.arcs[t],null!=r.port?(delete o.effects[r.process],delete i.sources[r.port],delete i.values[r.port]):(i.stop&&(i.stop(),delete i.stop),i.sink=function(){},delete i.out,delete o.reactions[r.process]),r.meta&&l({arcs:(e={},e[r.id]=void 0,e)})}delete n[t]}function b(t){var n=t.process,i=t.entity,o=x(n),a=k(i),u=e[n];a.arcs[t.id]=!0,u&&(o.arcs[t.id]=!0,null!=t.port?(delete a.effects[n],u.ports&&null!=u.ports[t.port]&&(o.sources[t.port]=a,u.ports[t.port]===r.a.HOT&&(a.effects[n]=o))):(o.out=a,null!=o.acc?(o.sources[o.acc]=a,a.reactions[n]=o):delete a.reactions[n],o.sink=function(t){j(a,t,!0)&&!E&&S()}))}function _(t){if(t.entities)for(var e in t.entities)p(t.entities[e]);if(t.processes)for(var e in t.processes)v(t.processes[e]);if(t.arcs)for(var e in t.arcs)y(t.arcs[e]);l(t.meta)}var T={},O={},E=!1,w=!1;function S(){s&&console.log("flushing graph recursively with",O);for(var t=Object.keys(O),e=0,n=t;e<n.length;e++){var r=n[e];if(O[r]){var i=a.es[r];for(var o in i.reactions)A(i.reactions[o])}}var u={};O={},w=!1,E=!0;for(var c=0,l=t;c<l.length;c++){r=l[c],i=a.es[r];for(var o in i.cb.length>0&&(T[r]=i),i.effects)u[o]||(A(i.effects[o]),u[o]=!0)}if(E=!1,w)S();else{var f=Object.keys(T);for(var d in T={},f)for(var p=0,h=(i=a.es[f[d]]).cb;p<h.length;p++){(0,h[p])(i.val)}s&&console.log("flush finished")}}function A(t){for(var n=!0,r=0;r<t.sources.length;r++){var i=t.sources[r];if(void 0===i.val){n=!1;break}if(t.values[r]=i.val,t.delta){if(void 0===i.oldVal){n=!1;break}t.values[r+1]=i.oldVal}}if(n)if(s&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=e[t.id].procedure.apply(c,[t.sink].concat(t.values));else{var o=e[t.id].procedure.apply(c,t.values);t.out&&j(t.out,o,null==t.acc)}}function j(t,e,n){return!(void 0===e||t.accept&&!t.accept(e,t.val))&&(t.oldVal=t.val,t.val=e,O[t.id]=n,w=!0,!0)}function k(e){return t[e]||p({id:e}),a.es[e]||(a.es[e]={id:e,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function x(t){return a.ps[t]||(a.ps[t]={id:t,arcs:{},sink:function(){}})}return{addEntity:p,removeEntity:h,addProcess:v,removeProcess:g,addArc:y,removeArc:m,addGraph:_,replaceGraph:function(n){var r={},i={};if(n.entities)for(var o in n.entities){var a=n.entities[o];a.id&&(r[a.id]=!0)}if(n.processes)for(var o in n.processes){var u=n.processes[o];u.id&&(i[u.id]=!0)}Object.keys(t).filter(function(t){return!r[t]}).forEach(h),Object.keys(e).filter(function(t){return!i[t]}).forEach(g),_(n)},getGraph:function(){return{entities:t,processes:e,arcs:n,meta:u}},getState:function(){var t={};for(var e in a.es)t[e]=a.es[e].val;return t},setMeta:l,getMeta:function(){return u},getContext:function(){return c},setContext:function(t){c=t},setDebug:function(t){s=t},get:f,set:d,update:function(t,e){d(t,e(f(t)))},on:function(t,e){k(t).cb.push(e)},off:function(t,e){var n=k(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]},start:function(t){var e=x(t);A(e),e.async||S()},stop:function(t){var e=x(t);e.stop&&(e.stop(),delete e.stop)},flush:S,PORT_TYPES:o({},r.a)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_require__.d(__webpack_exports__,"a",function(){return evaluate})},function(module,exports,__webpack_require__){module.exports=function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=33)}([function(t,e,n){"use strict";function r(t,e){return e?e+"."+t:t}function i(t){var e,n,i,a=t.value,l=Object(s.a)(),f=[],p={};return p.HOT={entity:p,type:c.PORT_TYPES.HOT},p.COLD={entity:p,type:c.PORT_TYPES.COLD},p.id=function(t,n){return l=r(t,n),e=n,p},p.val=function(t){return a=t,p},p.updateVal=function(t){return a=t(a),p},p.accept=function(t){return n=t,p},p.reset=function(){return i=!0,p},p.getId=function(){return l},t.procedure&&f.push(t),p.react=function(t,e,n){var r=o(t,e,n);r.pidSuffix=d;var i=r.dependencies;return r.dependencies=[{entity:p,type:c.PORT_TYPES.ACCUMULATOR}],i&&i.length&&(r.dependencies=r.dependencies.concat(i)),f.push(r),p},p.getGraph=function(){var t=u.empty();return t.entities[l]=Object(c.createEntity)({id:l,value:a,accept:n,reset:i}),f.forEach(function(n){var i=n.dependencies,o=n.processId?r(n.processId,e):l+n.pidSuffix+(i&&i.length?":"+i.reduce(function(t,e){var n=e.entity.getId();return n===l?t:t+":"+n},""):""),a=[];i&&i.forEach(function(e,n){if(a[n]=e.type,e.type!==c.PORT_TYPES.ACCUMULATOR){var r=Object(c.createArc)({process:o,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var u=Object(c.createArc)({process:o,entity:l});t.arcs[u.id]=u,t.processes[o]=Object(c.createProcess)({id:o,ports:a,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},p}function o(t,e,n){var r={procedure:e};return null!=t&&t.length&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=f,r}function a(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}Object.defineProperty(e,"__esModule",{value:!0}),e.val=function(t){return i({value:t})},n.d(e,"stream",function(){return p}),n.d(e,"asyncStream",function(){return h}),n.d(e,"streamStart",function(){return v}),n.d(e,"asyncStreamStart",function(){return g}),n.d(e,"delta",function(){return y}),e.isEntity=a,e.resolveEntityIds=function(t,e){for(var n in t){var r=t[n];a(r)&&r.id(n,e)}return t},e.getGraphFromAll=function(t){var e=[];for(var n in t){var r=t[n];a(r)&&e.push(r)}return e.reduce(function(t,e){return u.merge(t,e.getGraph())},u.empty())};var u=n(20),c=n(4),s=n(19),l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},f="Stream",d="Reaction",p=function(t,e,n){return i(o(t,e,n))},h=function(t,e,n){return i(l({},o(t,e,n),{async:!0}))},v=function(t,e,n){return i(l({},o(t,e,n),{autostart:!0}))},g=function(t,e,n){return i(l({},o(t,e,n),{async:!0,autostart:!0}))},y=function(t,e,n){return i(l({},o([t.HOT],e,n),{delta:!0}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44);e.TypeStyle=r.TypeStyle;var i=n(46);e.types=i;var o=n(24);e.extend=o.extend,e.classes=o.classes,e.media=o.media;var a=new r.TypeStyle({autoGenerateTag:!0});e.setStylesTarget=a.setStylesTarget,e.cssRaw=a.cssRaw,e.cssRule=a.cssRule,e.forceRenderStyles=a.forceRenderStyles,e.fontFace=a.fontFace,e.getStyles=a.getStyles,e.keyframes=a.keyframes,e.reinit=a.reinit,e.style=a.style,e.createTypeStyle=function(t){var e=new r.TypeStyle({autoGenerateTag:!1});return t&&e.setStylesTarget(t),e}},function(t,e,n){"use strict";var r=n(50);n.d(e,"d",function(){return r.a}),n.d(e,"h",function(){return r.b});var i=n(51);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"e",function(){return i.d}),n.d(e,"f",function(){return i.e}),n.d(e,"g",function(){return i.f}),n.d(e,"i",function(){return i.g});var o=n(52);n.d(e,"j",function(){return o.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"runtimes",function(){return f}),n.d(e,"selectedRuntimeId",function(){return d}),n.d(e,"runtime",function(){return p}),n.d(e,"meta",function(){return h}),n.d(e,"metaGraph",function(){return v}),n.d(e,"metaTree",function(){return g}),n.d(e,"metaEntity",function(){return y}),n.d(e,"metaEntities",function(){return m}),n.d(e,"metaControls",function(){return b}),n.d(e,"graph",function(){return _}),n.d(e,"enhancedGraphData",function(){return T});var r=n(0),i=n(17),o=n(8),a=n(5),u=n(13),c=n(7),s=n(64),l=(n.n(s),this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}),f=Object(r.val)({}).react([i.action.HOT],function(t,e){if(e.type===a.a.SET_RUNTIME)return l({},t,((n={})[e.payload.label]=e.payload.runtime,n));var n}),d=Object(r.val)("").react([f.HOT],function(t,e){return t||Object.keys(e)[0]}).react([i.action.HOT],function(t,e){if(e.type===a.a.SELECT_ACTIVE_RUNTIME)return e.payload}),p=Object(r.stream)([f.COLD,d.HOT],function(t,e){return t[e]}).react([i.action.HOT],function(t,e){var n=e.type,r=e.payload;switch(n){case a.a.PROCESS_RUN:return void t.start(r);case a.a.PROCESS_STOP:return void t.stop(r);case a.a.ENTITY_RESET:return void t.set(r,t.getGraph().entities[r].value);case a.a.ENTITY_INSPECT:return void console.log(r,t.get(r))}}),h=Object(r.stream)([p.HOT],function(t){return t.getMeta()}).react([i.action.HOT,p.COLD],function(t,e,n){var r,i,o,c,s,l,f,d=e.type,p=e.payload,h=n,v=t.ui,g=v&&v.graph,y=v&&v.tree,m=v&&v.entity,b=g&&g.viewBox,_=v&&v.activeWindow;switch(d){case a.b.MAIN.SET_ACTIVE_WINDOW:return h.setMeta({ui:{activeWindow:p}});case a.b.MAIN.UPDATE_VISIBILITY:var T=v&&v[p],O=T&&T.window&&T.window.visible;return h.setMeta({ui:(r={activeWindow:p},r[p]={window:{visible:!O}},r)});case a.b.MAIN.CLOSE_WINDOW:return h.setMeta({ui:(i={},i[p]={window:{visible:!1}},i)});case a.b.MAIN.MOVE_WINDOW:if(_){var E=v&&v[_];if(E&&E.position){var w=E.position.top-p.y,S=E.position.left-p.x;return h.setMeta(Object(u.d)({ui:{controls:{position:{top:w,left:S}}}}))}if(E){var A=E.window&&E.window.area;if(A){var j=A.top-p.y,S=A.left-p.x;return h.setMeta(Object(u.d)({ui:(o={},o[_]={window:{area:{top:j,left:S}}},o)}))}}}break;case a.b.MAIN.RESIZE_WINDOW:var k=_&&v&&v[_]&&v[_].window&&v[_].window.area;if(k)return h.setMeta(Object(u.d)({ui:(c={},c[_]={window:{area:{width:k.width-p.x,height:k.height-p.y}}},c)}));break;case a.b.TREE.TOGGLE_LEVEL:var x=y&&y.fold||{};return h.setMeta({ui:{tree:{fold:(s={},s[p]=!x[p],s)}}});case a.b.ENTITY.SET_ACTIVE_ENTITY:return h.setMeta({ui:{entity:{activeEntityId:p,activeProcessId:"",watchingEntity:!0}}});case a.b.ENTITY.SET_ACTIVE_PROCESS:return h.setMeta({ui:{entity:{activeProcessId:p,activeEntityId:"",watchingEntity:!1}}});case a.b.ENTITY.RESET_ACTIVE_NODE:return h.setMeta({ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1}}});case a.b.ENTITY.SAVE_VALUE:var I=m&&m.activeEntityId;return I&&h.set(I,p),h.setMeta({ui:{entity:{watchingEntity:!0}}});case a.b.ENTITY.WATCH_ACTIVE_ENTITY:return h.setMeta({ui:{entity:{watchingEntity:p}}});case a.b.ENTITY.SET_VIEW_MODE:return h.setMeta({ui:{entity:{viewMode:p}}});case a.b.ENTITY.SAVE_META:return h.setMeta({entities:(l={},l[p.id]=p.value,l)});case a.b.GRAPH.MOVE_VIEWPORT:return h.setMeta({ui:{graph:{viewBox:{offsetX:(b&&b.offsetX||0)+p.x,offsetY:(b&&b.offsetY||0)+p.y}}}});case a.b.GRAPH.UPDATE_SCALE:return h.setMeta({ui:{graph:{viewBox:{scale:p}}}});case a.b.GRAPH.UPDATE_SIZE:return p.width&&p.height?h.setMeta({ui:{graph:{viewBox:{width:p.width,height:p.height}}}}):void 0;case a.b.GRAPH.MOVE_ENTITY_POSITION:if(m&&m.activeEntityId){var C=t.entities&&t.entities[m.activeEntityId],N=C&&C.ui&&C.ui.graph&&C.ui.graph.position||p.start,M=g&&g.viewBox&&g.viewBox.scale||1;if(N)return h.setMeta({entities:(f={},f[m.activeEntityId]={ui:{graph:{position:{x:N.x-p.delta.x*M,y:N.y-p.delta.y*M}}}},f)})}}}).react([p.COLD,i.windowSize.HOT],function(t,e,n){return e.setMeta(Object(u.d)(t))}),v=Object(r.stream)([h.HOT],function(t){return t&&t.ui&&t.ui.graph}).accept(o.d),g=Object(r.stream)([h.HOT],function(t){return t&&t.ui&&t.ui.tree}).accept(o.d),y=Object(r.stream)([h.HOT],function(t){return t&&t.ui&&t.ui.entity}).accept(o.d),m=Object(r.stream)([h.HOT],function(t){return t&&t.entities}).accept(Object(o.c)(s)),b=Object(r.stream)([h.HOT],function(t){return t&&t.ui&&t.ui.controls}).accept(o.d),_=Object(r.stream)([p.HOT],function(t){return t.getGraph()}),T=Object(r.stream)([_.HOT],c.processGraph)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createEntity=function(t){var e=t.id,n=void 0===e?Object(r.a)():e,i=t.value,o=t.json,a=t.accept,u=t.reset,c=t.meta;return void 0===i&&o&&(i=JSON.parse(o)),{id:n,value:i,accept:a,reset:u,meta:c}},e.createProcess=function(t,e){var n=t.id,a=void 0===n?Object(r.a)():n,u=t.ports,c=void 0===u?[]:u,s=t.procedure,l=t.code,f=t.autostart,d=void 0!==f&&f,p=t.async,h=void 0!==p&&p,v=t.delta,g=void 0!==v&&v,y=t.meta;if(null==s&&null!=l&&(s=Object(i.a)(l,e)),null==s)throw TypeError("Process must have procedure or code set");return g&&!c.length&&c.push(o.HOT),{id:a,ports:c,procedure:s,autostart:d,async:h,delta:g,meta:y}},e.createArc=function(t){var e=t.id,n=t.entity,r=t.process,i=t.port,o=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:e,entity:n,process:r,port:i,meta:o}},n.d(e,"PORT_TYPES",function(){return o});var r=n(19),i=n(37),o={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={ENTITY_INSPECT:"flow:entity_inspect",ENTITY_RESET:"flow:entity_reset",PROCESS_RUN:"flow:process_run",PROCESS_STOP:"flow:process_stop",SET_RUNTIME:"flow:set_runtime",SELECT_ACTIVE_RUNTIME:"flow:select_active_runtime"},i={ENTITY:{WATCH_ACTIVE_ENTITY:"gui:entity:watch_active_entity",SAVE_VALUE:"gui:entity:save_value",SAVE_META:"gui:entity:save_meta",SET_ACTIVE_PROCESS:"gui:entity:open_process",SET_ACTIVE_ENTITY:"gui:entity:open_entity",RESET_ACTIVE_NODE:"gui:entity:reset_entity",SET_VIEW_MODE:"gui:entity:set_view_mode"},GRAPH:{UPDATE_SCALE:"gui:graph:update_scale",UPDATE_SIZE:"gui:graph:update_size",MOVE_VIEWPORT:"gui:graph:move_viewport",MOVE_ENTITY_POSITION:"gui:graph:set_entity_position"},TREE:{TOGGLE_LEVEL:"gui:tree:toggle_level"},MAIN:{SET_ACTIVE_WINDOW:"gui:main:set_active_window",UPDATE_VISIBILITY:"gui:main:update_visibility",CLOSE_WINDOW:"gui:main:close_window",MOVE_WINDOW:"gui:main:set_window_position",RESIZE_WINDOW:"gui:main:resize_window"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"g",function(){return l}),n.d(e,"f",function(){return f});var r=n(1),i=(n.n(r),n(47)),o="white",a=16,u="cyan",c={borderRadius:4,backgroundColor:Object(i.a)(40,40,40,.75).toString(),boxShadow:"0 10px 15px rgba(0,0,0,0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",borderBottom:"1px solid rgba(0, 0, 0, 0.6)"},s={borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.3) inset",borderBottom:"1px solid rgba(255, 255, 255, 0.4)",borderTop:"1px solid rgba(0, 0, 0, 0.6)"},l={padding:0,listStyle:"none"},f=Object(r.style)({position:"fixed",top:0,left:0,width:0,height:0,zIndex:1e3,fontSize:a,fontFamily:"sans-serif",lineHeight:1.5,color:o,userSelect:"none",$nest:{"& *":{userSelect:"none",MozUserSelect:"none"}}})},function(t,e,n){"use strict";function r(t){var e=t.split(".");return{label:e.pop(),group:e.join(".")}}Object.defineProperty(e,"__esModule",{value:!0}),e.createEntityTree=function(t,e){void 0===e&&(e=".");var n={};return Object.keys(t).sort().forEach(function(r){var i=t[r],o=i.id.split(e),a=n,u=o.slice(),c=[];o.forEach(function(){var t=u.shift();u.length?(c.push(t),a=a[t]=a[t]||{__path__:c.join(e)}):a[t]={__entity__:i}})}),n},e.processGraph=function(t){var e={},n={},a=function(n){var i=t.entities[n],a=r(n);e[n]=o({},i,{name:a.label,namespace:a.group,processes:Object.values(t.arcs).filter(function(t){return t.entity===i.id&&null==t.port}).map(function(t){return t.process})})};for(var u in t.entities)a(u);var c=function(e){var a=t.processes[e],u=r(e.split("::").shift()),c=a.ports.indexOf(i.PORT_TYPES.ACCUMULATOR),s=[],l=Object.values(t.arcs).find(function(t){return t.process===e&&null==t.port}),f=l&&l.entity;c>=0&&f&&(s[c]={eid:f,type:i.PORT_TYPES.ACCUMULATOR}),n[e]=o({},a,{name:u.label,namespace:u.group,reaction:c>=0,output:f,inputs:Object.values(t.arcs).filter(function(t){return t.process===e&&null!=t.port}).reduce(function(t,e){return t[e.port]={eid:e.entity,type:a.ports[e.port]},t},s)})};for(var s in t.processes)c(s);return{entities:e,processes:n}},e.printEntityName=function(t){return t.name?t.namespace+" / "+t.name:t.id||"No entity selected"};var i=n(4),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}n.d(e,"c",function(){return i}),n.d(e,"d",function(){return o}),e.a=r,e.b=function(t,e){if(t===e)return!0;if(!e)return!1;var n=Object.keys(t);if(!r(n,Object.keys(e)))return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(t[a]!==e[a])return!1}return!0};var i=function(t){return function(e,n){return!t(e,n)}},o=function(t,e){return t!==e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"activeEntityId",function(){return u}),n.d(e,"activeProcessId",function(){return c}),n.d(e,"activeEntity",function(){return s}),n.d(e,"activeProcess",function(){return l}),n.d(e,"activeNode",function(){return f}),n.d(e,"watchingEntity",function(){return d}),n.d(e,"activeValue",function(){return p});var r=n(0),i=n(8),o=n(3),a=n(12),u=Object(r.stream)([o.metaEntity.HOT],function(t){return t.activeEntityId}).accept(i.d),c=Object(r.stream)([o.metaEntity.HOT],function(t){return t.activeProcessId}).accept(i.d),s=Object(r.stream)([u.HOT,o.enhancedGraphData.COLD],function(t,e){return e.entities[t]||{id:t}}),l=Object(r.stream)([c.HOT,o.enhancedGraphData.COLD],function(t,e){return e.processes[t]||{id:t}}),f=Object(r.val)({id:""}).react([l.HOT,s.HOT],function(t,e,n){return e.id?e:n}),d=Object(r.stream)([o.metaEntity.HOT],function(t){return t.watchingEntity}).accept(i.d),p=Object(r.asyncStream)([o.runtime.COLD,u.HOT,a.visibility.HOT,d.HOT],function(t,e,n,r,i){if(n){var o=e.get(n);if(t(void 0===o?null:o),r.entity&&i)return e.on(n,t),function(){return e.off(n,t)}}else t(null)})},function(t,e,n){"use strict";(function(t){function n(t){return t.replace(p,y).replace(h,"-ms-")}function r(t){for(var e=5381,n=t.length;n--;)e=33*e^t.charCodeAt(n);return(e>>>0).toString(36)}function i(t,e){return"number"!=typeof e||0===e||b[t]?t+":"+e:t+":"+e+"px"}function o(t){return t.sort(function(t,e){return t[0]>e[0]?1:-1})}function a(t,r){for(var a=[],u=[],c=!1,s=0,l=Object.keys(t);s<l.length;s++){var f=l[s],d=t[f];null!==d&&void 0!==d&&(f===e.IS_UNIQUE?c=!0:"object"!=typeof d||Array.isArray(d)?a.push([n(f.trim()),d]):u.push([f.trim(),d]))}return{styleString:function(t){return t.map(function(t){var e=t[0],n=t[1];return Array.isArray(n)?n.map(function(t){return i(e,t)}).join(";"):i(e,n)}).join(";")}(o(a)),nestedStyles:r?u:o(u),isUnique:c}}function u(t,e){return t.indexOf("&")>-1?t.replace(v,e):e+" "+t}function c(t,e,n,r,i){var o=a(n,!!e),s=o.styleString,l=o.nestedStyles,f=o.isUnique,p=s;if(64===e.charCodeAt(0)){var h=t.add(new x(e,i?void 0:s,t.hash));s&&i&&(b=h.add(new k(s,h.hash,f?"u"+(++d).toString(36):void 0)),r.push([i,b]));for(var v=0,g=l;v<g.length;v++){var y=g[v];p+=(E=y[0])+c(h,E,w=y[1],r,i)}}else{var m=i?u(e,i):e;if(s){var b=t.add(new k(s,t.hash,f?"u"+(++d).toString(36):void 0));r.push([m,b])}for(var _=0,T=l;_<T.length;_++){var O=T[_],E=O[0],w=O[1];p+=E+c(t,E,w,r,m)}}return p}function s(t,n,r,i,o){for(var a=new A(t.hash),s=[],l=c(a,n,r,s),f="f"+a.hash(l),d=o?o+"_"+f:f,p=0,h=s;p<h.length;p++){var v=h[p],g=v[0],y=v[1],m=i?u(g,"."+e.escape(d)):g;y.add(new j(m,y.hash,void 0,l))}return{cache:a,pid:l,id:d}}function l(t){for(var e="",n=0;n<t.length;n++)e+=t[n];return e}var f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var d=0;e.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var p=/[A-Z]/g,h=/^ms-/,v=/&/g,g=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,y=function(t){return"-"+t.toLowerCase()},m=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],b=Object.create(null),_=0,T=["-webkit-","-ms-","-moz-","-o-",""];_<T.length;_++)for(var O=T[_],E=0,w=m;E<w.length;E++)b[O+w[E]]=!0;e.escape=function(t){return t.replace(g,"\\$&")},e.hyphenate=n,e.stringHash=r;var S={add:function(){},change:function(){},remove:function(){}},A=function(){function t(t,e){void 0===t&&(t=r),void 0===e&&(e=S),this.hash=t,this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return t.prototype.add=function(e){var n=this._counters[e.id]||0,r=this._children[e.id]||e.clone();if(this._counters[e.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else{if(r.getIdentifier()!==e.getIdentifier())throw new TypeError("Hash collision: "+e.getStyles()+" === "+r.getStyles());var i=this._keys.indexOf(e.id),o=this._keys.length-1,a=this.changeId;if(i!==o&&(this._keys.splice(i,1),this._keys.push(e.id),this.changeId++),r instanceof t&&e instanceof t){var u=r.changeId;r.merge(e),r.changeId!==u&&this.changeId++}this.changeId!==a&&(i===o?this.sheet.splice(i,1,r.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(o,0,r.getStyles())),this.changes.change(r,i,o))}return r},t.prototype.remove=function(e){var n=this._counters[e.id];if(n>0){this._counters[e.id]=n-1;var r=this._children[e.id],i=this._keys.indexOf(r.id);if(1===n)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(r,i);else if(r instanceof t&&e instanceof t){var o=r.changeId;r.unmerge(e),r.changeId!==o&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}}},t.prototype.merge=function(t){for(var e=0,n=t._keys;e<n.length;e++){var r=n[e];this.add(t._children[r])}return this},t.prototype.unmerge=function(t){for(var e=0,n=t._keys;e<n.length;e++){var r=n[e];this.remove(t._children[r])}return this},t.prototype.clone=function(){return new t(this.hash).merge(this)},t}();e.Cache=A;var j=function(){function t(t,e,n,r){void 0===n&&(n="s"+e(t)),void 0===r&&(r=""),this.selector=t,this.hash=e,this.id=n,this.pid=r}return t.prototype.getStyles=function(){return this.selector},t.prototype.getIdentifier=function(){return this.pid+"."+this.selector},t.prototype.clone=function(){return new t(this.selector,this.hash,this.id,this.pid)},t}();e.Selector=j;var k=function(t){function e(e,n,r){void 0===r&&(r="c"+n(e));var i=t.call(this,n)||this;return i.style=e,i.hash=n,i.id=r,i}return f(e,t),e.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},e.prototype.getIdentifier=function(){return this.style},e.prototype.clone=function(){return new e(this.style,this.hash,this.id).merge(this)},e}(A);e.Style=k;var x=function(t){function e(e,n,r,i,o){void 0===n&&(n=""),void 0===i&&(i="a"+r(e+"."+n)),void 0===o&&(o="");var a=t.call(this,r)||this;return a.rule=e,a.style=n,a.hash=r,a.id=i,a.pid=o,a}return f(e,t),e.prototype.getStyles=function(){return this.rule+"{"+this.style+l(this.sheet)+"}"},e.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},e.prototype.clone=function(){return new e(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},e}(A);e.Rule=x;var I=function(n){function i(e,i,o,a){void 0===e&&(e=r),void 0===i&&(i=void 0!==t&&!1),void 0===o&&(o="f"+(++d).toString(36));var u=n.call(this,e,a)||this;return u.hash=e,u.debug=i,u.id=o,u}return f(i,n),i.prototype.registerStyle=function(t,e){var n=s(this,"&",t,!0,this.debug?e:void 0),r=n.cache,i=n.id;return this.merge(r),i},i.prototype.registerKeyframes=function(t,e){return this.registerHashRule("@keyframes",t,e)},i.prototype.registerHashRule=function(t,n,r){var i=s(this,"",n,!1,this.debug?r:void 0),o=i.cache,a=i.pid,u=i.id,c=new x(t+" "+e.escape(u),void 0,this.hash,void 0,a);return this.add(c.merge(o)),u},i.prototype.registerRule=function(t,e){this.merge(s(this,t,e,!1).cache)},i.prototype.registerCss=function(t){this.merge(s(this,"",t,!1).cache)},i.prototype.getStyles=function(){return l(this.sheet)},i.prototype.getIdentifier=function(){return this.id},i.prototype.clone=function(){return new i(this.hash,this.debug,this.id,this.changes).merge(this)},i}(A);e.FreeStyle=I,e.create=function(t,e,n){return new I(t,e,void 0,n)}}).call(e,n(42))},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c});var r=n(1),i=(n.n(r),n(6)),o=(Object(r.style)({margin:"0 4px",verticalAlign:"top",display:"inline-block",$nest:{"& input":{margin:5,verticalAlign:"middle"}}}),{margin:"0 4px",padding:"4px 10px 3px",border:0,color:i.a,fontSize:"1.0em",verticalAlign:"middle",cursor:"pointer",outline:"none",$nest:{"& > svg":{verticalAlign:"middle"},"&.selected":{backgroundColor:"transparent"},"&.tiny":{margin:0,fontSize:"0.9em",padding:"2px 5px",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"}}}),a=Object(r.style)(i.c,o),u=Object(r.style)(i.c,o,{padding:"0 4px"}),c=Object(r.style)({display:"inline-block",margin:"0 2px",padding:0,border:0,background:"transparent",boxShadow:"none",fontSize:"0.9em"})},function(t,e,n){"use strict";function r(t,e){t.react([d.COLD,p.HOT],function(t,n,r){if(n===e)return u({},t,{zIndex:r})})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"metaTreeWindow",function(){return c}),n.d(e,"metaGraphWindow",function(){return s}),n.d(e,"metaEntityWindow",function(){return l}),n.d(e,"visibility",function(){return f}),n.d(e,"activeWindow",function(){return d}),n.d(e,"zIndex",function(){return p}),n.d(e,"controlsPosition",function(){return h}),n.d(e,"treeWindow",function(){return v}),n.d(e,"graphWindow",function(){return g}),n.d(e,"entityWindow",function(){return y});var i=n(0),o=n(8),a=n(3),u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c=Object(i.stream)([a.metaTree.HOT],function(t){return t.window}).accept(o.d),s=Object(i.stream)([a.metaGraph.HOT],function(t){return t.window}).accept(o.d),l=Object(i.stream)([a.metaEntity.HOT],function(t){return t.window}).accept(o.d),f=Object(i.val)({tree:!1,graph:!1,entity:!1}).react([s.HOT],function(t,e){return u({},t,{graph:!!e.visible})}).react([l.HOT],function(t,e){return u({},t,{entity:!!e.visible})}).react([c.HOT],function(t,e){return u({},t,{tree:!!e.visible})}).accept(function(t,e){return e&&t&&(e.tree!==t.tree||e.entity!==t.entity||e.graph!==t.graph)}),d=Object(i.stream)([a.meta.HOT],function(t){return t.ui&&t.ui.activeWindow}).accept(o.d),p=Object(i.val)(0).react([d.HOT],function(t){return t+1}),h=Object(i.stream)([a.metaControls.HOT],function(t){return t.position}).accept(o.d),v=Object(i.stream)([c.HOT],function(t){return t.area}).accept(o.d),g=Object(i.stream)([s.HOT],function(t){return t.area}).accept(o.d),y=Object(i.stream)([l.HOT],function(t){return t.area}).accept(o.d);r(h,"controls"),r(v,"tree"),r(g,"graph"),r(y,"entity")},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),e.d=function(t){return function t(e,n){for(var r in e)"function"==typeof n[r]?e[r]=n[r](e[r]):e[r]&&"object"==typeof e[r]&&n[r]&&"object"==typeof n[r]&&t(e[r],n[r]);return e}(t,f)};var r,i=n(63),o={width:0,height:0,offsetX:0,offsetY:0,scale:1};!function(t){t.DETAILS="details",t.VALUE="value"}(r||(r={}));var a={ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1,window:{visible:!1,area:{top:50,left:400,width:400,height:500}}},graph:{viewBox:{width:600,height:600,offsetX:0,offsetY:0,scale:1},window:{visible:!1,area:{top:200,left:100,width:600,height:600}}},tree:{window:{visible:!1,area:{top:100,left:0,width:300,height:400}}},controls:{position:{top:0,left:0}}},entities:{}},u=function(t){return Object(i.a)(0,window.innerHeight-20,t)},c=function(t){return Object(i.a)(0,window.innerWidth-20,t)},s=function(t){return Math.min(window.innerWidth-20,t)},l=function(t){return Math.min(window.innerHeight-20,t)},f={ui:{entity:{window:{area:{top:u,left:c,width:s,height:l}}},graph:{window:{area:{top:u,left:c,width:s,height:l}}},tree:{window:{area:{top:u,left:c,width:s,height:l}}},controls:{position:{top:u,left:c}}}}},function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","close"],["path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"}]]},e.d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","graph"],["path",{d:"M18 16.078c1.594 0 2.906 1.313 2.906 2.906s-1.313 2.953-2.906 2.953-2.906-1.359-2.906-2.953c0-0.234 0-0.469 0.047-0.656l-7.078-4.125c-0.563 0.516-1.266 0.797-2.063 0.797-1.641 0-3-1.359-3-3s1.359-3 3-3c0.797 0 1.5 0.281 2.063 0.797l7.031-4.078c-0.047-0.234-0.094-0.469-0.094-0.703 0-1.641 1.359-3 3-3s3 1.359 3 3-1.359 3-3 3c-0.797 0-1.5-0.328-2.063-0.844l-7.031 4.125c0.047 0.234 0.094 0.469 0.094 0.703s-0.047 0.469-0.094 0.703l7.125 4.125c0.516-0.469 1.219-0.75 1.969-0.75z"}]]},e.e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","list"],["path",{d:"M9 5.016h12v3.984h-12v-3.984zM9 18.984v-3.984h12v3.984h-12zM9 14.016v-4.031h12v4.031h-12zM3.984 9v-3.984h4.031v3.984h-4.031zM3.984 18.984v-3.984h4.031v3.984h-4.031zM3.984 14.016v-4.031h4.031v4.031h-4.031z"}]]},e.c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 24 24"},["title","entity"],["path",{d:"M16.641 1.688l5.672 5.672-5.672 5.625h4.359v8.016h-8.016v-8.016h3.656l-5.625-5.625v3.656h-8.016v-8.016h8.016v4.359zM3 21v-8.016h8.016v8.016h-8.016z"}]]},e.g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","play"],["path",{d:"M6 4l20 12-20 12z"}]]},e.j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","stop"],["path",{d:"M4 4h24v24h-24z"}]]},e.k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","stopMarked"],["path",{d:"M4 4h24v24h-24z"}],["circle",{cx:"16",cy:"16",r:"6",fill:"#666"}]]},e.h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","reset"],["path",{d:"M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"}]]},e.i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","show"],["path",{d:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"}]]},e.b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","copy"],["path",{d:"M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.122-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5z"}],["path",{d:"M18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"}]]},e.f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:r.a.apply(void 0,[o].concat(t)),viewBox:"0 0 32 32"},["title","more"],["path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"}],["path",{d:"M11.086 22.086l2.829 2.829 8.914-8.914-8.914-8.914-2.828 2.828 6.086 6.086z"}]]};var r=n(22),i=n(6),o=Object(r.b)({display:"inline-block",width:"1.1em",height:"1.1em",margin:4,strokeWidth:0,stroke:"currentColor",fill:"currentColor",verticalAlign:"bottom",$nest:{"&.selected":{fill:i.e}}})},function(t,e,n){"use strict";e.a=function(t){var e=t.title,n=t.onclick,o=t.icon,a=t.key,u=t.class,c=["button",{class:Object(r.classes)(i.c,u),onmouseup:n,title:e},o];return a&&(c[1].key=a),c};var r=n(1),i=(n.n(r),n(11))},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return l});var r=n(1),i=(n.n(r),n(6)),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a=Object(r.style)(i.c,{display:"inline-block",position:"relative",padding:2,whiteSpace:"nowrap",$nest:{"& h1, & h2":{display:"inline-block",margin:"0 8px",fontSize:i.d,fontWeight:"normal",verticalAlign:"middle"},"& ul":o({},i.g,{display:"inline-block",margin:0,fontSize:i.d,fontWeight:"normal"}),"& li":{display:"inline-block"},"& nav":{display:"inline-block"}}}),u=Object(r.style)(i.c,{position:"absolute",display:"flex",flexDirection:"column",padding:5,paddingTop:1,alignItems:"stretch",alignContent:"stretch",$nest:{"&>.resize":{position:"absolute",width:20,height:20,bottom:0,right:0,borderRadius:4,cursor:"nwse-resize",background:"linear-gradient(135deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%)"},"&>header":{display:"flex",alignItems:"center",minHeight:26},"&>header input":{verticalAlign:"middle"},"&>header .gap":{flexGrow:1}}}),c=Object(r.style)(i.b,{overflow:"auto",position:"relative",flexGrow:1,padding:5,$nest:{"& h3":{fontSize:"1em"},"& a":{$nest:{"&:hover, &:focus":{cursor:"pointer",textDecoration:"underline"}}},"& td, & th":{paddingRight:"1em",paddingBottom:"0.5em",verticalAlign:"top",textAlign:"left"},"& p, & div":{marginTop:0,marginBottom:"0.5em"}}}),s=Object(r.style)(i.g,{margin:0,$nest:{"& ul":i.g,"& li":{paddingLeft:"1.5em",cursor:"pointer"},"&>li":{paddingLeft:0},"& .entity-controls":{display:"none"},"& .entity-item:hover>.entity-controls":{display:"inline"},"& .entity-item.selected":{color:i.e}}}),l=Object(r.style)({display:"flex",flexDirection:"column",flexGrow:1,overflow:"auto",$nest:{"& pre":{margin:0,MozUserSelect:"text",userSelect:"text"}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"windowSize",function(){return o}),n.d(e,"element",function(){return a}),n.d(e,"action",function(){return u});var r=n(0),i=n(62),o=Object(r.asyncStreamStart)(null,i.a),a=Object(r.val)(),u=Object(r.val)()},function(t,e,n){t.exports=n(68).default,t.exports.default=t.exports},function(t,e,n){"use strict";e.a=function(){var t=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),r[t]=e>>>((3&t)<<3)&255);return r}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){var e=i,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}(t)};for(var r=new Array(16),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.empty=function(){return{entities:{},processes:{},arcs:{},meta:{}}},e.merge=function(t,e){return{entities:r({},t.entities,e.entities),processes:r({},t.processes,e.processes),arcs:r({},t.arcs,e.arcs),meta:r({},t.meta,e.meta)}};var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.modulePathToNamespace=r,e.getGraphFromModules=function(t,e){var n=t.keys().map(function(n){var o=t(n);return Object.values(Object(i.resolveEntityIds)(o,r(n,e))).filter(i.isEntity)}).reduce(function(t,e){return t.concat(e)},[]);return Object(i.getGraphFromAll)(n)};var i=n(0)},function(t,e,n){"use strict";n.d(e,"b",function(){return u});var r=n(40),i=n(43),o=(n.n(i),n(23));n.d(e,"a",function(){return o.a});var a=new r.a({autoGenerateTag:!0}),u=(a.setStylesTarget,a.cssRaw,a.cssRule,a.forceRenderStyles,a.fontFace,a.getStyles,a.keyframes,a.reinit,a.style)},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")},e.b=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r={},i=0,o=e;i<o.length;i++){var a=o[i];if(null!=a&&!1!==a)for(var u in a){var c=a[u];(c||0===c)&&("$nest"===u&&c?r[u]=r.$nest?t(r.$nest,c):c:-1!==u.indexOf("&")||0===u.indexOf("@media")?r[u]=r[u]?t(r[u],c):c:r[u]=c)}}return r};var r="undefined"==typeof requestAnimationFrame?function(t){return setTimeout(t)}:requestAnimationFrame.bind(window)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,o=t;i<o.length;i++){var a=o[i];if(null!=a&&!1!==a)for(var u in a){var c=a[u];(c||0===c)&&("$nest"===u&&c?n[u]=n.$nest?r(n.$nest,c):c:-1!==u.indexOf("&")||0===u.indexOf("@media")?n[u]=n[u]?r(n[u],c):c:n[u]=c)}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.raf="undefined"==typeof requestAnimationFrame?function(t){return setTimeout(t)}:requestAnimationFrame.bind(window),e.classes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")},e.extend=r,e.media=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o,a=[];return t.type&&a.push(t.type),t.orientation&&a.push(t.orientation),t.minWidth&&a.push("(min-width: "+i(t.minWidth)+")"),t.maxWidth&&a.push("(max-width: "+i(t.maxWidth)+")"),t.minHeight&&a.push("(min-height: "+i(t.minHeight)+")"),t.maxHeight&&a.push("(max-height: "+i(t.maxHeight)+")"),{$nest:(o={},o["@media "+a.join(" and ")]=r.apply(void 0,e),o)}};var i=function(t){return"string"==typeof t?t:t+"px"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(2),i=n(26),o=function(t){return function(){return Object(r.d)(arguments,function(t){return t||0===t}).map(function(t){return"number"==typeof t?Object(i.a)(t):t.toString()}).join(t)}},a=o(" ");o(",")},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(2),i=(Object(r.g)("%"),Object(r.g)("deg"),Object(r.g)("em"),Object(r.g)("px"));Object(r.g)("rad"),Object(r.g)("rem"),Object(r.g)("vh"),Object(r.g)("vw"),Object(r.g)("turn")},function(t,e,n){"use strict";e.a=function(t,e){function n(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",n),r=r.filter(function(t){return t!==o})}function i(e){for(var n=0,i=r;n<i.length;n++){var c=i[n];if(c!==o&&o.contains(c))return}t({x:a-e.clientX,y:u-e.clientY}),a=e.clientX,u=e.clientY}var o,a=0,u=0;return{onmousedown:function(t){o=t.currentTarget,r.push(o),a=t.clientX,u=t.clientY,document.addEventListener("mousemove",i),document.addEventListener("mouseup",n),e&&e(t)}}};var r=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"entityWindowProps",function(){return u}),n.d(e,"controlProps",function(){return c}),n.d(e,"treeWindowProps",function(){return s}),n.d(e,"graphWindowProps",function(){return l}),n.d(e,"entityViewProps",function(){return f}),n.d(e,"processViewProps",function(){return d});var r=n(0),i=n(9),o=n(12),a=n(3),u=Object(r.stream)([a.metaEntity.HOT,o.entityWindow.HOT,i.activeNode.HOT,o.activeWindow.HOT],function(t,e,n,r){return{viewMode:t.viewMode,dimensions:e,node:n,window:r}}),c=Object(r.stream)([o.visibility.HOT,o.controlsPosition.HOT],function(t,e){return{visibility:t,position:e}}),s=Object(r.stream)([o.treeWindow.HOT,o.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}}),l=Object(r.stream)([o.graphWindow.HOT,o.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}}),f=Object(r.stream)([i.activeEntity.HOT,i.activeValue.HOT,i.watchingEntity.HOT,a.enhancedGraphData.COLD,a.metaEntities.HOT],function(t,e,n,r,i){return{entity:t,value:e,watching:n,graph:r,meta:i[t.id]}}),d=Object(r.stream)([i.activeProcess.HOT,a.enhancedGraphData.COLD],function(t,e){return{process:t,graph:e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"viewBox",function(){return f}),n.d(e,"simulationSteps",function(){return d}),n.d(e,"initialPosition",function(){return p}),n.d(e,"entityPositions",function(){return h}),n.d(e,"graphData",function(){return v});var r=n(0),i=n(8),o=n(3),a=n(4),u=n(9),c=n(13),s=n(65),l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},f=Object(r.stream)([o.metaGraph.HOT],function(t){return t.viewBox||c.c}).accept(function(t,e){return!e||!Object(i.b)(t,e)}),d=Object(r.val)(500),p=Object(r.stream)([o.graph.HOT],function(t){var e={};for(var n in t.entities)e[n]={x:800*Math.random(),y:800*Math.random()};return e}),h=Object(r.asyncStream)([o.metaEntities.HOT,d.HOT,o.enhancedGraphData.COLD,p.HOT],function(t,e,n,r,i){function o(){for(var t={},e=0;e<f.length;e++){for(var o=f[e],u=r.entities[o],c=i[o],l=0,d=u.processes;l<d.length;l++)for(var p=d[l],h=0,v=r.processes[p].inputs;h<v.length;h++){var g=v[h],y=r.entities[g.eid].namespace===u.namespace?200:300,m=i[g.eid],b=Object(s.e)([m.x,m.y],[c.x,c.y]),_=Object(s.b)(b),T=Object(s.d)(b),O=_-y,E=g.type===a.PORT_TYPES.COLD?.5*O:2*O;t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(E,T)),t[g.eid]=Object(s.a)(t[g.eid]||[0,0],Object(s.c)(-1*E,T))}for(var w=e+1;w<f.length;w++){var S=f[w],A=r.entities[S],m=i[S],b=Object(s.e)([m.x,m.y],[c.x,c.y]),_=Object(s.b)(b),T=Object(s.d)(b),E=Math.max(100-_,0);if(t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(-1*E,T)),t[S]=Object(s.a)(t[S]||[0,0],Object(s.c)(E,T)),u.namespace===A.namespace){var j=_-300;t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(j,T)),t[S]=Object(s.a)(t[S]||[0,0],Object(s.c)(-1*j,T))}else{var k=Math.max(300-_,0);t[o]=Object(s.a)(t[o]||[0,0],Object(s.c)(-1*k,T)),t[S]=Object(s.a)(t[S]||[0,0],Object(s.c)(k,T))}}}for(var o in t){var E=t[o],x=Object(s.b)(E);if(x>n/2){var I=Object(s.d)(E),C=i[o],N=Object(s.a)([C.x,C.y],Object(s.c)(x/n,I)),M=N[0],R=N[1];i[o]={x:Math.floor(M),y:Math.floor(R)}}}}for(var u in e){var c=e[u],l=c&&c.ui&&c.ui.graph&&c.ui.graph.position;l&&(i[u]=l)}t(i);var f=Object.keys(r.entities),d=n;return requestAnimationFrame(function e(){if(d>10){var n={};for(var r in i)n[r]=i[r];for(var a=10;a>0;a--)o(),d--;var u=!0;for(var r in i){var c=n[r],s=i[r];c===s||c.x===s.x&&c.y===s.y||(u=!1)}u||(t(i),d>10&&setTimeout(e,60))}}),function(){d=0}});o.runtime.react([h.HOT],function(t,e){var n={};for(var r in e)n[r]={ui:{graph:{position:e[r]}}};t.setMeta({entities:n})});var v=Object(r.stream)([o.enhancedGraphData.HOT,u.activeNode.HOT,h.HOT],function(t,e,n){var r={},i=0,o=[],u=[],c=[];for(var s in t.entities){var f=t.entities[s];r[f.namespace]=r[f.namespace]||i++%7+1;var d=l({},n[s],{id:f.id,class:"group-"+r[f.namespace],label:f.name,active:f.id===e.id});null!=f.accept&&(d.accept=!0),null!=f.value&&(d.initial=!0),u.push(d);for(var p=0,h=f.processes;p<h.length;p++){var v=h[p],g=t.processes[v],y={id:g.id,async:g.async,autostart:g.autostart,active:g.id===e.id,acc:g.reaction,from:g.inputs,to:s,class:d.class};if(g.inputs.length){y.x=0,y.y=0;for(var m=0,b=g.inputs;m<b.length;m++){var _=b[m],T=_.eid,O=_.type,E=n[T];if(E){var w=E.x-d.x,S=E.y-d.y;O===a.PORT_TYPES.COLD&&(w/=2,S/=2),y.x+=w,y.y+=S}y.fromIsActive=y.fromIsActive||T===e.id,c.push({from:E,to:y,class:"from"+(O===a.PORT_TYPES.COLD?" cold":""),title:O,active:d.active||y.active||T===e.id})}var A=Math.sqrt(y.x*y.x+y.y*y.y);y.x=50*y.x/A+d.x,y.y=50*y.y/A+d.y}else y.x=d.x,y.y=d.y-50;o.push(y),c.push({from:y,to:d,class:"to"+(g.async?" async":""),active:d.active||y.active||y.fromIsActive}),g.reaction&&c.push({from:y,to:d,class:"to acc"})}}return{entities:u,processes:o,edges:c}}).react([f.HOT],function(t,e){return t.viewBox={x:e.offsetX*e.scale,y:e.offsetY*e.scale,width:e.width*e.scale,height:e.height*e.scale},t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"entityTree",function(){return u}),n.d(e,"treeData",function(){return c});var r=n(0),i=n(9),o=n(3),a=n(7),u=Object(r.stream)([o.enhancedGraphData.HOT],function(t){return Object(a.createEntityTree)(t.entities)}),c=Object(r.stream)([o.metaTree.HOT,u.HOT,i.activeEntity.HOT],function(t,e,n){return{fold:t.fold||{},tree:e,selected:n}}).val({fold:{},tree:{},selected:null})},function(t,e,n){"use strict";function r(){for(var t in f)f[t]();f={},d=!0}function i(t){if("function"==typeof t)return c()(t);if(!Array.isArray(t))return t;var e=t.shift(),n=t[0];return"object"!=typeof n||Array.isArray(n)?n={}:t.shift(),t.length?c()(e,n,t.map(i)):c()(e,n)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ComponentClass",function(){return l}),e.flowComponentFactory=function(t,e,n){function o(n,r){"string"==typeof n?t.set(e,{type:n,payload:r}):t.set(e,n)}void 0===n&&(n=!1);var a={};return function e(u,c){var p=c.getId(),h=p+u.toString();if(a[h])return a[h];var v=function(a){function c(){var e=null!==a&&a.apply(this,arguments)||this;return e.state={current:t.get(p)},e.update=function(){e.setState(function(e){return e.current=t.get(p),e})},e.updateAsync=function(){!function(t,e){f[t]=e,d&&(requestAnimationFrame(r),d=!1)}(h,e.update)},e}return s(c,a),c.prototype.render=function(){if(void 0!==this.state.current)return i(u(this.state.current,o,e))},c.prototype.componentDidMount=function(){n&&console.log("component mounted!",this),t.on(p,this.updateAsync)},c.prototype.componentWillUnmount=function(){n&&console.log("component will unmount!",this),t.off(p,this.updateAsync)},c}(l);return a[h]=v,v}},e.h=i;var o=n(66),a=n.n(o),u=n(32),c=n.n(u),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(a.a),f={},d=!0},function(t,e,n){t.exports=n(69).default,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ui",function(){return c}),n.d(e,"console",function(){return s}),n.d(e,"utils",function(){return l});var r=n(34),i=n(81),o=n(7),a=n(21),u=n(31);e.default=r;var c=r,s={tree:i},l={entityData:o,webpack:a,yoyo:u}},function(t,e,n){"use strict";function r(t){return"tvsFlowTools::"+t}Object.defineProperty(e,"__esModule",{value:!0}),e.start=function(t){var e=b({debug:!1,graph:null},t),n=i.a.create();n.addGraph(Object(o.getGraphFromModules)(_)),n.flush();var s=Object(u.flowComponentFactory)(n,c.action.getId(),e.debug),f=Object(a.a)(s),p=document.createElement("div");p.className="tvs-flow-tools-container",document.body.appendChild(p),d.a.render(h()(f),p),n.set(c.element.getId(),p);var T=new l.a(".tvs-save-graph",{text:function(){return JSON.stringify(n.get(g.meta.getId()),null,"  ")}});return T.on("success",function(t){return console.log("saved graph to clipboard",t)}),T.on("error",function(t){return console.log("error while saving graph to clipboard",t)}),n.on(g.meta.getId(),m(function(t){var e=n.get(g.selectedRuntimeId.getId());e&&localStorage.setItem(r(e),JSON.stringify(t))},300)),{setFlow:function(t,e){var i=t.getMeta(),o=localStorage.getItem(r(e));if(t.setMeta(b({},y.b,{name:e})),o){var a=JSON.parse(o);t.setMeta(a)}t.setMeta(i),requestAnimationFrame(function(){n.set(c.action.getId(),{type:v.a.SET_RUNTIME,payload:{label:e,runtime:t}})})},dispose:function(){document.body.removeChild(p),T.destroy()},getState:function(){return n},getElement:function(){return p}}};var i=n(35),o=n(21),a=n(39),u=n(31),c=n(17),s=n(70),l=n.n(s),f=n(18),d=n.n(f),p=n(32),h=n.n(p),v=n(5),g=n(3),y=n(13),m=n(78),b=(n.n(m),this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}),_=n(80)},function(t,e,n){"use strict";var r=n(36);n(0),n(20),n(4),e.a=r,r.create},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){function t(t){return null==t||"object"!=typeof t||Array.isArray(t)||(E=Object(i.a)(E,t)),E}function e(t){return O.es[t]&&O.es[t].val}function n(t,e){g(y(t),e,!0)&&h()}function a(e){var n=Object(r.createEntity)(e);b[n.id]=n;var i,o=y(n.id);return void 0===n.value||!n.reset&&void 0!==o.val||(o.val=n.value,j[n.id]=!1,x=!0),o.accept=n.accept,n.meta&&t({entities:(i={},i[n.id]=n.meta,i)}),n}function u(e){var n=y(e);for(var r in n.arcs)f(r);var i,o=b[e];o&&o.meta&&t({entities:(i={},i[o.id]=void 0,i)}),delete O.es[e],delete b[e]}function c(e){var n,i=Object(r.createProcess)(e,w),o=i.ports,a=m(i.id);for(var u in _[i.id]=i,delete a.acc,a.values=[],a.sources=[],a.async=i.async,a.delta=i.delta,Object.keys(a.arcs).forEach(function(t){var e=T[t].port;null==e||o[e]&&o[e]!==r.PORT_TYPES.ACCUMULATOR||f(t)}),o.forEach(function(t,e){t===r.PORT_TYPES.ACCUMULATOR&&(a.acc=e)}),a.arcs)d(T[u]);return i.meta&&t({processes:(n={},n[i.id]=i.meta,n)}),i}function s(e){var n=m(e);for(var r in n.stop&&(n.stop(),delete n.stop),n.arcs)f(r);delete O.ps[e];var i,o=_[e];o&&o.meta&&t({processes:(i={},i[o.id]=void 0,i)}),delete _[e]}function l(e){var n=Object(r.createArc)(e);T[n.id]=n,d(n);var i,o=m(n.process),a=_[n.process];return a&&!0===a.autostart&&Object.keys(o.arcs).length===Object.keys(a.ports).length+1&&function(t){t.async?requestAnimationFrame(function(){v(t)}):(v(t),t.out&&(j[t.out.id]=!1))}(o),n.meta&&t({arcs:(i={},i[n.id]=n.meta,i)}),n}function f(e){var n,r=T[e];if(r){var i=m(r.process),o=y(r.entity);delete i.arcs[e],delete o.arcs[e],null!=r.port?(delete o.effects[r.process],delete i.sources[r.port],delete i.values[r.port]):(i.stop&&(i.stop(),delete i.stop),i.sink=function(){},delete i.out,delete o.reactions[r.process]),r.meta&&t({arcs:(n={},n[r.id]=void 0,n)})}delete T[e]}function d(t){var e=t.process,n=t.entity,i=m(e),o=y(n),a=_[e];o.arcs[t.id]=!0,a&&(i.arcs[t.id]=!0,null!=t.port?(delete o.effects[e],a.ports&&null!=a.ports[t.port]&&(i.sources[t.port]=o,a.ports[t.port]===r.PORT_TYPES.HOT&&(o.effects[e]=i))):(i.out=o,null!=i.acc?(i.sources[i.acc]=o,o.reactions[e]=i):delete o.reactions[e],i.sink=function(t){g(o,t,!0)&&!k&&h()}))}function p(e){if(e.entities)for(var n in e.entities)a(e.entities[n]);if(e.processes)for(var n in e.processes)c(e.processes[n]);if(e.arcs)for(var n in e.arcs)l(e.arcs[n]);t(e.meta)}function h(){S&&console.log("flushing graph recursively with",j);for(var t=Object.keys(j),e=0,n=t;e<n.length;e++)if(u=n[e],j[u])for(var r in(l=O.es[u]).reactions)v(l.reactions[r]);var i={};j={},x=!1,k=!0;for(var o=0,a=t;o<a.length;o++){var u=a[o];for(var r in(l=O.es[u]).cb.length>0&&(A[u]=l),l.effects)i[r]||(v(l.effects[r]),i[r]=!0)}if(k=!1,x)h();else{var c=Object.keys(A);for(var s in A={},c)for(var l,f=0,d=(l=O.es[c[s]]).cb;f<d.length;f++)(0,d[f])(l.val);S&&console.log("flush finished")}}function v(t){for(var e=!0,n=0;n<t.sources.length;n++){var r=t.sources[n];if(void 0===r.val){e=!1;break}if(t.values[n]=r.val,t.delta){if(void 0===r.oldVal){e=!1;break}t.values[n+1]=r.oldVal}}if(e)if(S&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=_[t.id].procedure.apply(w,[t.sink].concat(t.values));else{var i=_[t.id].procedure.apply(w,t.values);t.out&&g(t.out,i,null==t.acc)}}function g(t,e,n){return!(void 0===e||t.accept&&!t.accept(e,t.val)||(t.oldVal=t.val,t.val=e,j[t.id]=n,x=!0,0))}function y(t){return b[t]||a({id:t}),O.es[t]||(O.es[t]={id:t,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function m(t){return O.ps[t]||(O.ps[t]={id:t,arcs:{},sink:function(){}})}var b={},_={},T={},O={es:{},ps:{}},E={},w=null,S=!1,A={},j={},k=!1,x=!1;return{addEntity:a,removeEntity:u,addProcess:c,removeProcess:s,addArc:l,removeArc:f,addGraph:p,replaceGraph:function(t){var e={},n={};if(t.entities)for(var r in t.entities){var i=t.entities[r];i.id&&(e[i.id]=!0)}if(t.processes)for(var r in t.processes){var o=t.processes[r];o.id&&(n[o.id]=!0)}Object.keys(b).filter(function(t){return!e[t]}).forEach(u),Object.keys(_).filter(function(t){return!n[t]}).forEach(s),p(t)},getGraph:function(){return{entities:b,processes:_,arcs:T,meta:E}},getState:function(){var t={};for(var e in O.es)t[e]=O.es[e].val;return t},setMeta:t,getMeta:function(){return E},getContext:function(){return w},setContext:function(t){w=t},setDebug:function(t){S=t},get:e,set:n,update:function(t,r){n(t,r(e(t)))},on:function(t,e){y(t).cb.push(e)},off:function(t,e){var n=y(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]},start:function(t){var e=m(t);v(e),e.async||h()},stop:function(t){var e=m(t);e.stop&&(e.stop(),delete e.stop)},flush:h,PORT_TYPES:o({},r.PORT_TYPES)}};var r=n(4),i=n(38),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,n){"use strict";e.a=function t(e,n){if("object"==typeof e&&"object"==typeof n&&!Array.isArray(e)&&!Array.isArray(n)&&e!==n){var i=r({},e);for(var o in n){var a=e[o],u=n[o];void 0!==u?i[o]=t(a,u):delete i[o]}return i}return n};var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";function r(t,e){return["h2",x({},Object(A.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),Object(k.printEntityName)(t)]}function i(t){return["footer",x({},Object(A.a)(function(e){t(_.b.MAIN.RESIZE_WINDOW,e)}),{class:"resize"})]}function o(t,e){return function(){return e(_.b.MAIN.SET_ACTIVE_WINDOW,t)}}function a(t,e,n){var i=t.visibility,a=t.position,u=function(t){return function(){return e(_.b.MAIN.UPDATE_VISIBILITY,t)}};return["header",{class:Object(f.a)("tvs-flow-controls",v.a),onmousedown:o("controls",e),style:x({},a)},["nav",x({class:"tvs-controls-btns"},Object(A.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),["ul",["li",Object(h.a)({class:i.tree&&I,onclick:u("tree"),icon:d.e(),title:"toggle entity tree"})],["li",Object(h.a)({class:i.graph&&I,onclick:u("graph"),icon:d.d(),title:"toggle flow graph"})],["li",Object(h.a)({class:i.entity&&I,onclick:u("entity"),icon:d.c(),title:"toggle entity details"})]]],n(r,w.activeNode)]}function u(t,e,n){var r=t.dimensions,a=t.window;return["article",{class:Object(f.a)("tvs-flow-tree",v.e),style:x({},r),onmousedown:o("tree",e)},["header",x({},Object(A.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),d.e("tree"===a?"selected":"")," Tree ",["span",{class:"gap"}]," ",Object(h.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"tree")}})],["section",{class:v.d},n(m.a,S.treeData)],i(e)]}function c(t,e,n){var r=t.dimensions,a=t.window,u=n(g.a,E.graphData);return["article",{ref:function(t){if(t&&t.querySelector){var n=t.querySelector("section");requestAnimationFrame(function(){e(_.b.GRAPH.UPDATE_SIZE,{width:n.clientWidth,height:n.clientHeight})})}},class:Object(f.a)("tvs-flow-graph",v.e),style:x({},r),onmousedown:o("graph",e)},["header",x({},Object(A.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),d.d("graph"===a?"selected":"")," Graph ",["span",{class:"gap"}],n(g.b,E.viewBox)," ",Object(h.a)({icon:d.b(),class:Object(f.a)(b.b,"tvs-save-graph"),title:"copy the current graph state to clipboard"}),Object(h.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"graph")}})],u,i(e)]}function s(t,e,n){var r=t.dimensions,a=t.node,u=t.window,c=t.viewMode;c=c||j.a.VALUE;var s=a&&a.procedure,l=c===j.a.VALUE?s?n(y.d,O.processViewProps):n(y.b,O.entityViewProps):s?n(y.c,O.processViewProps):n(y.a,O.entityViewProps);return["article",{class:Object(f.a)("tvs-flow-entity",v.e),style:x({},r),onmousedown:o("entity",e)},["header",x({},Object(A.a)(function(t){e(_.b.MAIN.MOVE_WINDOW,t)})),d.c("entity"===u?"selected":""),s?" Process ":" Entity ",["span",{class:"gap"}," "],["button",{class:Object(f.a)(b.a,"tiny",c===j.a.VALUE&&"selected"),onClick:function(){return e(_.b.ENTITY.SET_VIEW_MODE,j.a.VALUE)}},"value"],["button",{class:Object(f.a)(b.a,"tiny",c===j.a.DETAILS&&"selected"),onClick:function(){return e(_.b.ENTITY.SET_VIEW_MODE,j.a.DETAILS)}},"details"],Object(h.a)({icon:d.a(),class:b.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"entity")}})],l,i(e)]}function l(t,e,n){var r=t.tree?n(u,O.treeWindowProps):"",i=t.graph?n(c,O.graphWindowProps):"",o=t.entity?n(s,O.entityWindowProps):"";return["article",{class:Object(f.a)("tvs-flow-tools",p.f)},n(a,O.controlProps),i,o,r]}e.a=function(t){return t(l,T.visibility)};var f=n(22),d=n(14),p=n(6),h=n(15),v=n(16),g=n(58),y=n(60),m=n(61),b=n(11),_=n(5),T=n(12),O=n(28),E=n(29),w=n(9),S=n(30),A=n(27),j=n(13),k=n(7),x=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},I=Object(f.b)({color:p.e})},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(41),i=n(23),o=n(10),a=(n.n(o),function(){return o.create(void 0,!0)}),u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var a=Object(r.a)(i.b.apply(void 0,e)).result;n._freeStyle.registerRule(t,a),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,i=0,o=t;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=Object(r.b)(t),i=e.keyframes,o=e.$debugName,a=n._freeStyle.registerKeyframes(i,o);return n._styleUpdated(),a},this.reinit=function(){var t=a();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=n._freeStyle,a=Object(r.a)(i.b.apply(void 0,t)),u=a.result,c=a.debugName,s=c?o.registerStyle(u,c):o.registerStyle(u);return n._styleUpdated(),s};var o=a();this._autoGenerateTag=e,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;Object(i.c)(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}()},function(t,e,n){"use strict";e.a=function t(e){var n={},i="";for(var o in e){var a=e[o];if("$unique"===o)n[r.IS_UNIQUE]=a;else if("$nest"===o){var u=a;for(var c in u){var s=u[c];n[c]=t(s).result}}else"$debugName"===o?i=a:n[o]=a}return{result:n,debugName:i}},e.b=function(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e};var r=n(10);n.n(r)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):v=-1,p.length&&a())}function a(){if(!h){var t=i(o);h=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,h=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var s,l,f=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,p=[],h=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||h||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45),i=n(24),o=n(10),a=function(){return o.create(void 0,!0)},u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var a=r.ensureStringObj(i.extend.apply(void 0,e)).result;n._freeStyle.registerRule(t,a),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,i=0,o=t;i<o.length;i++){var a=o[i];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=r.explodeKeyframes(t),i=e.keyframes,o=e.$debugName,a=n._freeStyle.registerKeyframes(i,o);return n._styleUpdated(),a},this.reinit=function(){var t=a();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=n._freeStyle,a=r.ensureStringObj(i.extend.apply(void 0,t)),u=a.result,c=a.debugName,s=c?o.registerStyle(u,c):o.registerStyle(u);return n._styleUpdated(),s};var o=a();this._autoGenerateTag=e,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;i.raf(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}();e.TypeStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);e.ensureStringObj=function t(e){var n={},i="";for(var o in e){var a=e[o];if("$unique"===o)n[r.IS_UNIQUE]=a;else if("$nest"===o){var u=a;for(var c in u){var s=u[c];n[c]=t(s).result}}else"$debugName"===o?i=a:n[o]=a}return{result:n,debugName:i}},e.explodeKeyframes=function(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=n(48);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";n(49),n(53);var r=n(54);n.d(e,"a",function(){return r.a}),n(55),n(25),n(56),n(57),n(26)},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t,e){return Array.prototype.filter.call(t,e)},i=function(t,e){return Array.prototype.map.call(t,e)}},function(t,e,n){"use strict";function r(t){return o.exec(t.toString())[1]}n.d(e,"f",function(){return a}),e.c=function(t){return"number"==typeof t?t:.01*parseFloat(t)},e.e=function(t){return r(100*t)+"%"},e.d=r,e.b=function(t){if(null!==t&&void 0!==t){var e=+t;return e==e?t+"px":t}},e.g=function(t){var e=i.exec(t);if(e&&e.length)return[e[1]].concat(e[2].split(","))},e.a=function(t,e){return t+"("+Array.prototype.join.call(e,",")+")"};var i=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,o=/^(\-?\d+\.?\d{0,5})/,a=function(t){return function(e){return e+t}}},function(t,e,n){"use strict";e.a=function(t,e){return Math.round(t*e)/e}},function(t,e,n){"use strict";n(2);var r=n(25);r.a,r.a,r.a},function(t,e,n){"use strict";function r(t){return l(t)||function(t){var e=t.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i);if(e){var n=e[1],r=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16);return new b(v,r>>16&255,r>>8&255,255&r,1,!1)}}(t)||function(t){var e=Object(p.i)(t);if(e&&(4===e.length||5===e.length)){var n,r=e[0],i="rgba"===r,o="hsla"===r,a="rgb"===r,u=o||i;if(a||i)n=v;else{if("hsl"!==r&&!o)throw new Error("unsupported color string");n=g}var c=parseFloat(e[1]),s=a||i?parseFloat(e[2]):Object(p.c)(e[2]),l=a||i?parseFloat(e[3]):Object(p.c)(e[3]),f=u?parseFloat(e[4]):1;return new b(n,c,s,l,f,u)}}(t)||l("red")}function i(t,e,n){return new b(v,t,e,n,1,!1)}function o(t,e,n,r){return new b(v,t,e,n,Object(p.c)(r),!0)}function a(t){var e=Math.round(t);return(e<16?"0":"")+e.toString(16)}function u(t,e,n,r,i,o,a){return t===e?new b(t,n,r,i,o,a):y[t-e](n,r,i,o,a)}function c(t,e,n,r){if(!h)return[t||0,e||0,n||0,r||0];var i=new Float32Array(4);return i[0]=t||0,i[1]=e||0,i[2]=n||0,i[3]=r||0,i}function s(t,e,n){var r=m[t][e];return n<0?0:n>r?r:n}function l(t){return _[t]||void 0}e.a=o;var f,d,p=n(2),h="undefined"!=typeof Float32Array,v=0,g=1,y=((f={})[v-g]=function(t,e,n,r,i){var o,a=t/255,u=e/255,c=n/255,s=Math.min(a,u,c),l=Math.max(a,u,c),f=(s+l)/2,d=l-s;return o=l===s?0:a===l?(u-c)/d:u===l?2+(c-a)/d:c===l?4+(a-u)/d:0,(o=Math.min(60*o,360))<0&&(o+=360),new b(g,o,l===s?0:f<=.5?d/(l+s):d/(2-l-s),f,r,i)},f[g-v]=function(t,e,n,r,i){var o=t/360,a=e,u=n;if(0===a)return new b(v,g=255*u,g,g,r,i);for(var c=u<.5?u*(1+a):u+a-u*a,s=2*u-c,l=0,f=0,d=0,p=0;p<3;p++){var h=o+1/3*-(p-1);h<0&&h++,h>1&&h--;var g=void 0;g=6*h<1?s+6*(c-s)*h:2*h<1?c:3*h<2?s+(c-s)*(2/3-h)*6:s,g*=255,0===p?l=g:1===p?f=g:d=g}return new b(v,l,f,d,r,i)},f),m=((d={})[v]=c(255,255,255,1),d[g]=c(360,1,1,1),d),b=function(){function t(t,e,n,r,i,o){this._format=t,this._hasAlpha=o,this._values=c(s(t,0,e),s(t,1,n),s(t,2,r),s(t,3,i))}return t.convertHelper=function(t,e){var n=e._format,r=e._values,i=e._hasAlpha;return n===t?e:y[n-t](r[0],r[1],r[2],r[3],i)},t.prototype.toString=function(){var t,e,n=this._format,r=this._values,i=this._hasAlpha;if(n===v)t=i?"rgba":"rgb",e=[Math.round(r[0]),Math.round(r[1]),Math.round(r[2])];else{if(n!==g)throw new Error("Invalid color format");t=i?"hsla":"hsl",e=[Math.round(r[0]),Object(p.f)(Object(p.j)(r[1],100)),Object(p.f)(Object(p.j)(r[2],100))]}return i&&e.push(Object(p.e)(Object(p.j)(r[3],1e5))),Object(p.a)(t,e)},t.prototype.toHexString=function(){var e=t.convertHelper(v,this)._values;return"#"+(a(e[0])+a(e[1])+a(e[2])).toUpperCase()},t.prototype.toHSL=function(){var t=this._values;return u(this._format,g,t[0],t[1],t[2],1,!1)},t.prototype.toHSLA=function(){var t=this._values;return u(this._format,g,t[0],t[1],t[2],t[3],!0)},t.prototype.toRGB=function(){var t=this._values;return u(this._format,v,t[0],t[1],t[2],1,!1)},t.prototype.toRGBA=function(){var t=this._values;return u(this._format,v,t[0],t[1],t[2],t[3],!0)},t.prototype.red=function(){return(this._format===v?this:this.toRGB())._values[0]},t.prototype.green=function(){return(this._format===v?this:this.toRGB())._values[1]},t.prototype.blue=function(){return(this._format===v?this:this.toRGB())._values[2]},t.prototype.hue=function(){return(this._format===g?this:this.toHSL())._values[0]},t.prototype.saturation=function(){return(this._format===g?this:this.toHSL())._values[1]},t.prototype.lightness=function(){return(this._format===g?this:this.toHSL())._values[2]},t.prototype.alpha=function(){return this._values[3]},t.prototype.opacity=function(){return this.alpha()},t.prototype.invert=function(){var e=t.convertHelper(v,this)._values;return t.convertHelper(this._format,new t(v,255-e[0],255-e[1],255-e[2],this._values[3],this._hasAlpha))},t.prototype.lighten=function(e,n){var r=t.convertHelper(g,this)._values,i=m[g][2],o=r[2]+(n?i-r[2]:i)*Object(p.c)(e);return t.convertHelper(this._format,new t(g,r[0],r[1],o,this._values[3],this._hasAlpha))},t.prototype.darken=function(e,n){var r=t.convertHelper(g,this)._values,i=r[2]-(n?r[2]:m[g][2])*Object(p.c)(e);return t.convertHelper(this._format,new t(g,r[0],r[1],i,this._values[3],this._hasAlpha))},t.prototype.saturate=function(e,n){var r=t.convertHelper(g,this)._values,i=m[g][1],o=r[1]+(n?i-r[1]:i)*Object(p.c)(e);return t.convertHelper(this._format,new t(g,r[0],o,r[2],this._values[3],this._hasAlpha))},t.prototype.desaturate=function(e,n){var r=t.convertHelper(g,this)._values,i=m[g][1],o=r[1]-(n?r[1]:i)*Object(p.c)(e);return t.convertHelper(this._format,new t(g,r[0],o,r[2],this._values[3],this._hasAlpha))},t.prototype.grayscale=function(){return this.desaturate(1)},t.prototype.fade=function(e){var n=this._values,r=s(v,3,Object(p.c)(e));return t.convertHelper(this._format,new t(this._format,n[0],n[1],n[2],r,!0))},t.prototype.fadeOut=function(e,n){var r=this._values,i=s(v,3,r[3]-(n?r[3]:1)*Object(p.c)(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],i,!0))},t.prototype.fadeIn=function(e,n){var r=this._values,i=s(v,3,r[3]+(n?r[3]:1)*Object(p.c)(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],i,!0))},t.prototype.mix=function(e,n){var i=function(t){return t instanceof b?t:r(t)}(e),o=t.convertHelper(v,this)._values,a=t.convertHelper(v,i)._values,u=void 0===n?.5:n,c=2*u-1,s=Math.abs(o[3]-a[3]),l=((c*s==-1?c:(c+s)/(1+c*s))+1)/2,f=1-l,d=new t(v,Math.round(o[0]*l+a[0]*f),Math.round(o[1]*l+a[1]*f),Math.round(o[2]*l+a[2]*f),o[3]*u+a[3]*(1-u),this._hasAlpha||i._hasAlpha);return t.convertHelper(this._format,d)},t.prototype.tint=function(t){return O.mix(this,t)},t.prototype.shade=function(t){return T.mix(this,t)},t.prototype.spin=function(e){var n=t.convertHelper(g,this)._values;return t.convertHelper(this._format,new t(g,function(t){return((t<0?360:0)+t%360)%360}(n[0]+e),n[1],n[2],this._values[3],this._hasAlpha))},t}(),_={aliceblue:i(240,248,245),antiquewhite:i(250,235,215),aqua:i(0,255,255),aquamarine:i(127,255,212),azure:i(240,255,255),beige:i(245,245,220),bisque:i(255,228,196),black:i(0,0,0),blanchedalmond:i(255,235,205),blue:i(0,0,255),blueviolet:i(138,43,226),brown:i(165,42,42),burlywood:i(222,184,35),cadetblue:i(95,158,160),chartreuse:i(127,255,0),chocolate:i(210,105,30),coral:i(255,127,80),cornflowerblue:i(100,149,237),cornsilk:i(255,248,220),crimson:i(220,20,60),cyan:i(0,255,255),darkblue:i(0,0,139),darkcyan:i(0,139,139),darkgoldenrod:i(184,134,11),darkgray:i(169,169,169),darkgreen:i(0,100,0),darkgrey:i(169,169,169),darkkhaki:i(189,183,107),darkmagenta:i(139,0,139),darkolivegreen:i(85,107,47),darkorange:i(255,140,0),darkorchid:i(153,50,204),darkred:i(139,0,0),darksalmon:i(233,150,122),darkseagreen:i(143,188,143),darkslateblue:i(72,61,139),darkslategray:i(47,79,79),darkslategrey:i(47,79,79),darkturquoise:i(0,206,209),darkviolet:i(148,0,211),deeppink:i(255,20,147),deepskyblue:i(0,191,255),dimgray:i(105,105,105),dimgrey:i(105,105,105),dodgerblue:i(30,144,255),firebrick:i(178,34,34),floralwhite:i(255,250,240),forestgreen:i(34,139,34),fuchsia:i(255,0,255),gainsboro:i(220,220,220),ghostwhite:i(248,248,255),gold:i(255,215,0),goldenrod:i(218,165,32),gray:i(128,128,128),green:i(0,128,0),greenyellow:i(173,255,47),grey:i(128,128,128),honeydew:i(240,255,240),hotpink:i(255,105,180),indianred:i(205,92,92),indigo:i(75,0,130),ivory:i(255,255,240),khaki:i(240,230,140),lavender:i(230,230,250),lavenderblush:i(255,240,245),lawngreen:i(124,252,0),lemonchiffon:i(255,250,205),lightblue:i(173,216,230),lightcoral:i(240,128,128),lightcyan:i(224,255,255),lightgoldenrodyellow:i(250,250,210),lightgray:i(211,211,211),lightgreen:i(144,238,144),lightgrey:i(211,211,211),lightpink:i(255,182,193),lightsalmon:i(255,160,122),lightseagreen:i(32,178,170),lightskyblue:i(135,206,250),lightslategray:i(119,136,153),lightslategrey:i(119,136,153),lightsteelblue:i(176,196,222),lightyellow:i(255,255,224),lime:i(0,255,0),limegreen:i(50,205,50),linen:i(250,240,230),maroon:i(128,0,0),mediumaquamarine:i(102,205,170),mediumblue:i(0,0,205),mediumorchid:i(186,85,211),mediumpurple:i(147,112,219),mediumseagreen:i(60,179,113),mediumslateblue:i(123,104,238),mediumspringgreen:i(0,250,154),mediumturquoise:i(72,209,204),mediumvioletred:i(199,21,133),midnightblue:i(25,25,112),mintcream:i(245,255,250),mistyrose:i(255,228,225),moccasin:i(255,228,181),navajowhite:i(255,222,173),navy:i(0,0,128),oldlace:i(253,245,230),olive:i(128,128,0),olivedrab:i(107,142,35),orange:i(255,165,0),purple:i(128,0,128),rebeccapurple:i(102,51,153),red:i(255,0,0),silver:i(192,192,192),teal:i(0,128,128),transparent:o(0,0,0,0),white:i(255,255,255),yellow:i(255,255,0)},T=(_.aliceblue,_.antiquewhite,_.aqua,_.aquamarine,_.azure,_.beige,_.bisque,_.black),O=(_.blanchedalmond,_.blue,_.blueviolet,_.brown,_.burlywood,_.cadetblue,_.chartreuse,_.chocolate,_.coral,_.cornflowerblue,_.cornsilk,_.crimson,_.cyan,_.darkblue,_.darkcyan,_.darkgoldenrod,_.darkgray,_.darkgreen,_.darkgrey,_.darkkhaki,_.darkmagenta,_.darkolivegreen,_.darkorange,_.darkorchid,_.darkred,_.darksalmon,_.darkseagreen,_.darkslateblue,_.darkslategray,_.darkslategrey,_.darkturquoise,_.darkviolet,_.deeppink,_.deepskyblue,_.dimgray,_.dimgrey,_.dodgerblue,_.firebrick,_.floralwhite,_.forestgreen,_.fuchsia,_.gainsboro,_.ghostwhite,_.gold,_.goldenrod,_.gray,_.green,_.greenyellow,_.grey,_.honeydew,_.hotpink,_.indianred,_.indigo,_.ivory,_.khaki,_.lavender,_.lavenderblush,_.lawngreen,_.lemonchiffon,_.lightblue,_.lightcoral,_.lightcyan,_.lightgoldenrodyellow,_.lightgray,_.lightgreen,_.lightgrey,_.lightpink,_.lightsalmon,_.lightseagreen,_.lightskyblue,_.lightslategray,_.lightslategrey,_.lightsteelblue,_.lightyellow,_.lime,_.limegreen,_.linen,_.maroon,_.mediumaquamarine,_.mediumblue,_.mediumorchid,_.mediumpurple,_.mediumseagreen,_.mediumslateblue,_.mediumspringgreen,_.mediumturquoise,_.mediumvioletred,_.midnightblue,_.mintcream,_.mistyrose,_.moccasin,_.navajowhite,_.navy,_.oldlace,_.olive,_.olivedrab,_.orange,_.purple,_.rebeccapurple,_.red,_.silver,_.teal,_.transparent,_.white);_.yellow},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";e.b=function(t,e){return["span",["input",{type:"range",value:t.scale,min:.5,max:3,step:.2,onchange:function(t){return e(o.b.GRAPH.UPDATE_SCALE,t.target.value)},onmousemove:function(t){return t.stopPropagation()}}]]},e.a=function(t,e){if(!t)return["section",{class:r.a}];var n=t.entities,c=t.processes,s=t.edges,l=t.viewBox,f=void 0===l?{}:l;return["section",{class:r.a},["svg",u({width:"100%",height:"100%",id:"graph-ui",viewBox:f.x+", "+f.y+", "+f.width+", "+f.height},Object(a.a)(function(t){return e(o.b.GRAPH.MOVE_VIEWPORT,t)},function(t){t&&2===t.button&&t.target===t.currentTarget&&e(o.b.ENTITY.RESET_ACTIVE_NODE)}),{oncontextmenu:function(t){return t.preventDefault()}})].concat(s.map(function(t){return["line",{x1:t.from.x,y1:t.from.y,x2:t.to.x,y2:t.to.y,class:Object(i.classes)(t.class,t.active&&"active")}]}),c.map(function(t){return["circle",{class:Object(i.classes)(t.class,t.active&&"active"),transform:"translate("+t.x+", "+t.y+")",onmousedown:function(){return e(o.b.ENTITY.SET_ACTIVE_PROCESS,t.id)},cx:0,cy:0,r:t.autostart?13:8,title:t.id}]}),n.map(function(t){return["g",u({"data-eid":t.id,transform:"translate("+t.x+", "+t.y+")",title:t.id,class:Object(i.classes)(t.class,t.active&&"active")},Object(a.a)(function(n){return e(o.b.GRAPH.MOVE_ENTITY_POSITION,{start:t,delta:n})},function(){return e(o.b.ENTITY.SET_ACTIVE_ENTITY,t.id)})),["rect",{x:-15,y:-15,width:30,height:30,class:t.accept?"accept":""}],["text",{"text-anchor":"middle",x:0,y:30},t.label],t.initial&&["circle",{cx:0,cy:0,r:6,class:"initial"}]]}))]};var r=n(59),i=n(1),o=(n.n(i),n(5)),a=n(27),u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(1),i=(n.n(r),n(6)),o=Object(r.style)(i.b,{position:"relative",flexGrow:1,$nest:{"& svg":{position:"absolute",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.6))"},"& text":{fill:"white",stroke:"black",paintOrder:"stroke"},"& line":{stroke:"darkgray",$nest:{"&.active":{stroke:"#ff7"},"&.to":{strokeWidth:6},"&.to.async":{strokeDasharray:"4, 5"},"&.to.acc":{stroke:"black",strokeWidth:2},"&.from":{strokeWidth:2},"&.from.cold":{strokeDasharray:"7, 10"}}},"& rect":{$nest:{"&.accept":{strokeWidth:3,strokeDasharray:"3, 3"}}},"& .group-1 rect":{fill:"orangered"},"& .group-1.active rect":{fill:"lightsalmon",stroke:"orangered",strokeWidth:5},"& circle.group-1":{fill:"orangered"},"& circle.group-1.active":{fill:"lightsalmon"},"& .group-1 .initial":{fill:"darkred"},"& .group-1 .accept":{stroke:"darkred"},"& .group-2 rect":{fill:"limegreen"},"& .group-2.active rect":{fill:"palegreen",stroke:"limegreen",strokeWidth:5},"& circle.group-2":{fill:"limegreen"},"& circle.group-2.active":{fill:"palegreen"},"& .group-2 .initial":{fill:"darkgreen"},"& .group-2 .accept":{stroke:"darkgreen"},"& .group-3 rect":{fill:"cornflowerblue"},"& .group-3.active rect":{fill:"lightblue",stroke:"cornflowerblue",strokeWidth:5},"& circle.group-3":{fill:"cornflowerblue"},"& circle.group-3.active":{fill:"lightblue"},"& .group-3 .initial":{fill:"darkslateblue"},"& .group-3 .accept":{stroke:"darkslateblue"},"& .group-4 rect":{fill:"orchid"},"& .group-4.active rect":{fill:"thistle",stroke:"orchid",strokeWidth:5},"& circle.group-4":{fill:"orchid"},"& circle.group-4.active":{fill:"thistle"},"& .group-4 .initial":{fill:"purple"},"& .group-4 .accept":{stroke:"purple"},"& .group-5 rect":{fill:"gold"},"& .group-5.active rect":{fill:"palegoldenrod",stroke:"gold",strokeWidth:5},"& circle.group-5":{fill:"gold"},"& circle.group-5.active":{fill:"beige"},"& .group-5 .initial":{fill:"darkgoldenrod"},"& .group-5 .accept":{stroke:"darkgoldenrod"},"& .group-6 rect":{fill:"lightseagreen"},"& .group-6.active rect":{fill:"paleturquoise",stroke:"lightseagreen",strokeWidth:5},"& circle.group-6":{fill:"lightseagreen"},"& circle.group-6.active":{fill:"paleturquoise"},"& .group-6 .initial":{fill:"darkslategray"},"& .group-6 .accept":{stroke:"darkslategray"},"& .group-7 rect":{fill:"orange"},"& .group-7.active rect":{fill:"moccasin",stroke:"orange",strokeWidth:5},"& circle.group-7":{fill:"orange"},"& circle.group-7.active":{fill:"moccasin"},"& .group-7 .initial":{fill:"saddlebrown"},"& .group-7 .accept":{stroke:"saddlebrown"}}})},function(t,e,n){"use strict";function r(t,e){var n=["div",{style:"margin-top: 4px"}];return n.push(Object(o.a)({onclick:function(){return e(c.a.PROCESS_RUN,t.id)},icon:i.g(),title:"Run process"})),t.async&&n.push(Object(o.a)({onclick:function(){return e(c.a.PROCESS_STOP,t.id)},icon:i.j(),title:"Stop async process"})),n}e.b=function(t,e){var n=t.entity,r=t.value,s=t.watching,l={value:r},f=["div",{style:"margin-top: 4px"}];return s?(f.push(["button",{class:a.a,key:"edit-btn",onclick:function(){return e(c.b.ENTITY.WATCH_ACTIVE_ENTITY,!1)}},"Edit"],Object(o.a)({key:"inspect-btn-"+n.id,onclick:function(){return e(c.a.ENTITY_INSPECT,n.id)},icon:i.i(),title:"Inspect entity value"})),n.value&&f.push(Object(o.a)({key:"reset-btn-"+n.id,onclick:function(){return e(c.a.ENTITY_RESET,n.id)},icon:i.h(),title:"Reset entity value"}))):f.push(["button",{class:a.a,onclick:function(){return e(c.b.ENTITY.WATCH_ACTIVE_ENTITY,!0)}},"Cancel"],["button",{class:a.a,key:"save-btn-"+n.id,onclick:function(){var t=JSON.parse(l.value);e(c.b.ENTITY.SAVE_VALUE,t)}},"Save"]),["section",{class:u.b},["div",{class:u.d,key:n.id+s},function(t,e,n){var r="";if(null!=t)try{r=JSON.stringify(t,null,"  ")}catch(t){r="Error: "+t.message}return["code",["pre",{contentEditable:!e,onInput:function(t){return n.value=t.target.textContent}},r]]}(r,s,l)],n.id&&f]},e.a=function(t,e){function n(t){var e=["(",t.inputs.filter(function(t){return t.type!==l.PORT_TYPES.ACCUMULATOR}).map(function(t){var e=s.entities[t.eid];return(e.namespace===r.namespace?e.name:e.namespace+"/"+e.name)+"::"+t.type}).join(", "),")"];return t.autostart&&e.unshift("S"),t.async&&e.unshift("A"),e.join("")}var r=t.entity,s=t.graph,f=t.meta;if(!r.id)return["section",{class:u.b},["div",{class:u.d}]];var d=(r.processes||[]).map(function(t){return s.processes[t]}),p=d.filter(function(t){return!t.reaction}),h=d.filter(function(t){return t.reaction}),v=f?JSON.stringify(f,null,"  "):"";return["section",{class:u.b},["div",{class:u.d},["table",["tr",["th","name"],["td",r.name]],["tr",["th","namespace"],["td",r.namespace]],p.length>0&&["tr",["th","streams"],["td"].concat(p.map(function(t){return["p",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_PROCESS,t.id)}},n(t)]]}))],h.length>0&&["tr",["th","reactions"],["td"].concat(h.map(function(t){return["p",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_PROCESS,t.id)}},n(t)]]}))]],r.value&&["h3"," initial value  ",Object(o.a)({onclick:function(){return e(c.a.ENTITY_RESET,r.id)},icon:i.h(),title:"Reset entity value"})],r.value&&["code",["pre",JSON.stringify(r.value,null,"  ")]],f&&["h3"," meta data  ",["button",{class:a.a,onclick:function(){var t=JSON.parse(v);e(c.b.ENTITY.SAVE_META,{id:r.id,value:t})}},"Save"]],f&&["code",["pre",{contentEditable:!0,onInput:function(t){return v=t.target.textContent}},v]]],["div",{style:"margin-top: 4px"},Object(o.a)({key:"inspect-btn-"+r.id,onclick:function(){return e(c.a.ENTITY_INSPECT,r.id)},icon:i.i(),title:"Inspect entity value"})]]},e.d=function(t,e){var n=t.process;return["section",{class:u.b},["div",{class:u.d},["code",["pre",n.procedure.toString()]]],r(n,e)]},e.c=function(t,e){var n=t.process,i=t.graph,o=n.reaction?"Reaction":n.async?"Async Stream":"Stream";return n.autostart&&(o+=" Autostart"),n.delta&&(o="Delta "+o),["section",{class:u.b},["div",{class:u.d},["table",["tr",["td","type"],["td",o]],["tr",["td","output"],["td",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_ENTITY,n.output)}},Object(s.printEntityName)(i.entities[n.output])]]],["tr",["td","inputs"],["td"].concat(n.inputs.filter(function(t){return t.type!==l.PORT_TYPES.ACCUMULATOR}).map(function(t){return["p",["a",{onClick:function(){return e(c.b.ENTITY.SET_ACTIVE_ENTITY,t.eid)}},Object(s.printEntityName)(i.entities[t.eid])+" :: "+t.type]]}))]]],r(n,e)]};var i=n(14),o=n(15),a=n(11),u=n(16),c=n(5),s=n(7),l=n(4)},function(t,e,n){"use strict";function r(t,e,n,i,o){if(e.__entity__){var f=e.__entity__,d=["span",{class:"entity-controls"},Object(u.a)({icon:a.i(),class:c.b,onclick:function(){return i(s.a.ENTITY_INSPECT,f.id)},title:"Inspect entity value"})];null!=f.value&&d.push(Object(u.a)({class:c.b,onclick:function(){return i(s.a.ENTITY_RESET,f.id)},icon:a.h(),title:"Reset entity value"}));var p="entity-item";return n===f.id&&(p+=" selected"),["li",["div",{class:p,onclick:function(){return i(s.b.ENTITY.SET_ACTIVE_ENTITY,f.id)}},null!=f.value?a.k():a.j()," "+t+" ",d]]}var h=["li",["div",{onclick:function(){return i(s.b.TREE.TOGGLE_LEVEL,e.__path__)}},a.f(o[e.__path__]?"":l)," "+t]];if(!o[e.__path__]){var v=["ul"];for(var g in e)"__path__"!==g&&v.push(r(g,e[g],n,i,o));h.push(v)}return h}e.a=function(t,e){var n=t.fold,o=t.tree,a=t.selected,u=["ul",{class:i.c}];if(o){var c=Object.keys(o).map(function(t){return r(t,o[t],a.id,e,n)});u.push.apply(u,c)}return u};var i=n(16),o=n(1),a=(n.n(o),n(14)),u=n(15),c=n(11),s=n(5),l=Object(o.style)({transform:"rotate(90deg)"})},function(t,e,n){"use strict";e.a=function(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}},function(t,e,n){"use strict";e.a=function(t,e,n){return Math.max(t,Math.min(n,e))},Math.PI},function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;var r,i=Array.isArray(e),o=Array.isArray(n);if(i&&o){if(e.length!=n.length)return!1;for(r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if(i!=o)return!1;if(e&&n&&"object"==typeof e&&"object"==typeof n){var a=Object.keys(e);if(a.length!==Object.keys(n).length)return!1;var u=e instanceof Date,c=n instanceof Date;if(u&&c)return e.getTime()==n.getTime();if(u!=c)return!1;var s=e instanceof RegExp,l=n instanceof RegExp;if(s&&l)return e.toString()==n.toString();if(s!=l)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!t(e[a[r]],n[a[r]]))return!1;return!0}return!1}},function(t,e,n){"use strict";function r(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r*r}return Math.sqrt(e)}e.a=function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]+e[r];return n},e.e=function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]-e[r];return n},e.c=function(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]*t;return n},e.b=r,e.d=function(t){return function(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]/t;return n}(r(t),t)},n(8).a},function(t,e,n){t.exports=n(67).default,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){return a(t)||o(t)}function i(t){return"function"==typeof t}function o(t){return null===t}function a(t){return void 0===t}function u(t){throw t||(t=p),new Error("Inferno Error: "+t)}function c(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var i in e)n[i]=e[i];return n}function s(){this.listeners=[]}function l(t,e,n){if(!t._unmounted){if(e||!t._blockRender){t._pendingSetState=!1;var s=t._pendingState,l=t.state,p=c(l,s),v=t.props,g=t.context;t._pendingState=null;var y,m=t._updateComponent(l,p,v,v,g,e,!0),b=!0;if(function(t){return o(t)||!1===t||!0===t||a(t)}(m))y=f.createVNode(4096,null);else if(m===d)y=t._lastInput,b=!1;else if(function(t){var e=typeof t;return"string"===e||"number"===e}(m))y=f.createVNode(1,null,null,m);else{if(h(m))return u();y=m}var _=t._lastInput,T=t._vNode,O=_.dom&&_.dom.parentNode||(_.dom=T.dom);if(28&y.flags&&(y.parentVNode=T),t._lastInput=y,b){var E;r(t.getChildContext)||(E=t.getChildContext()),E=r(E)?t._childContext:c(g,E);var w=t._lifecycle;if(f.internal_patch(_,y,O,w,E,t._isSVG,!1),t._unmounted)return;w.trigger(),r(t.componentDidUpdate)||t.componentDidUpdate(v,l,g),o(f.options.afterUpdate)||f.options.afterUpdate(T)}var S=T.dom=y.dom;for(f.options.findDOMNodeEnabled&&f.internal_DOMNodeMap.set(t,y.dom);!r(T=T.parentVNode);)(28&T.flags)>0&&(T.dom=S)}else t.state=t._pendingState,t._pendingState=null;i(n)&&n.call(t)}}Object.defineProperty(e,"__esModule",{value:!0});var f=n(18),d="$NO_OP",p="a runtime error occured! Use Inferno in development environment to find the error.",h=Array.isArray;s.prototype.addListener=function(t){this.listeners.push(t)},s.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var v=new Map,g=Promise.resolve(),y=function(t,e){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=t||f.EMPTY_OBJ,this.context=e||f.EMPTY_OBJ};y.prototype.forceUpdate=function(t){this._unmounted||l(this,!0,t)},y.prototype.setState=function(t,e){this._unmounted||(this._blockSetState?u():function(t,e,n){i(e)&&(e=e(t.state,t.props,t.context));var o=t._pendingState;if(r(o))t._pendingState=e;else for(var a in e)o[a]=e[a];t._pendingSetState||t._blockRender?(t._pendingSetState=!0,i(n)&&t._blockRender&&t._lifecycle.addListener(n.bind(t))):t._updating?function(t,e,n){var i=v.get(t);void 0===i&&(i=[],v.set(t,i),g.then(function(){v.delete(t),t._updating=!0,l(t,!1,function(){for(var e=0,n=i.length;e<n;e++)i[e].call(t)}),t._updating=!1})),r(n)||i.push(n)}(t,0,n):(t._pendingSetState=!0,t._updating=!0,l(t,!1,n),t._updating=!1)}(this,t,e))},y.prototype._updateComponent=function(t,e,n,i,o,a,s){if(!0===this._unmounted&&u(),n!==i||i===f.EMPTY_OBJ||t!==e||a){if(n!==i||i===f.EMPTY_OBJ){if(!r(this.componentWillReceiveProps)&&!s){if(this._blockRender=!0,this.componentWillReceiveProps(i,o),this._unmounted)return d;this._blockRender=!1}this._pendingSetState&&(e=c(e,this._pendingState),this._pendingSetState=!1,this._pendingState=null)}if(a||r(this.shouldComponentUpdate)||this.shouldComponentUpdate&&this.shouldComponentUpdate(i,e,o)){r(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(i,e,o),this._blockSetState=!1),this.props=i,this.state=e,this.context=o,f.options.beforeRender&&f.options.beforeRender(this);var l=this.render(i,e,o);return f.options.afterRender&&f.options.afterRender(this),l}this.props=i,this.state=e,this.context=o}return d},y.prototype.render=function(t,e,n){},e.default=y},function(t,e,n){"use strict";function r(t){var e=typeof t;return"string"===e||"number"===e}function i(t){return l(t)||s(t)}function o(t){return s(t)||!1===t||function(t){return!0===t}(t)||l(t)}function a(t){return"function"==typeof t}function u(t){return"string"==typeof t}function c(t){return"number"==typeof t}function s(t){return null===t}function l(t){return void 0===t}function f(t){return"object"==typeof t}function d(t){throw t||(t=At),new Error("Inferno Error: "+t)}function p(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var i in e)n[i]=e[i];return n}function h(){this.listeners=[]}function v(t,e,n,r){var i=Ht.get(t);if(n)i||((i={items:new Map,docEvent:null}).docEvent=function(t,e){var n=function(t){var n=e.items.size;if(n>0){t.stopPropagation=y;var r={dom:document};try{Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(t){}!function(t,e,n,r,i,o){for(var a=e;r>0;){if(i&&a.disabled)return;var u=n.get(a);if(u&&(r--,o.dom=a,u.event?u.event(u.data,t):u(t),t.cancelBubble))return;if(null===(a=a.parentNode))return}}(t,t.target,e.items,n,"click"===t.type,r)}};return document.addEventListener(g(t),n),n}(t,i),Ht.set(t,i)),e||Ft&&"onClick"===t&&function(t){t.onclick=m}(r),i.items.set(r,n);else if(i){var o=i.items;o.delete(r)&&0===o.size&&(document.removeEventListener(g(t),i.docEvent),Ht.delete(t))}}function g(t){return t.substr(2).toLowerCase()}function y(){this.cancelBubble=!0,this.stopImmediatePropagation()}function m(){}function b(t){return"checkbox"===t||"radio"===t}function _(t){var e=this.vNode,n=e.props||Yt,r=e.dom,i=n.value;if(n.onInput){var o=n.onInput;o.event?o.event(o.data,t):o(t)}else n.oninput&&n.oninput(t);var a=this.vNode.props||Yt;i!==a.value&&E(a,r)}function T(t){var e=(this.vNode.props||Yt).onChange;e.event?e.event(e.data,t):e(t)}function O(t){t.stopPropagation();var e=this.vNode,n=e.props||Yt,r=e.dom;if(n.onClick){var i=n.onClick;i.event?i.event(i.data,t):i(t)}else n.onclick&&n.onclick(t);E(this.vNode.props||Yt,r)}function E(t,e){var n=t.type,r=t.value,o=t.checked,a=t.multiple,u=t.defaultValue,c=!i(r);n&&n!==e.type&&e.setAttribute("type",n),a&&a!==e.multiple&&(e.multiple=a),i(u)||c||(e.defaultValue=u+""),b(n)?(c&&(e.value=r),i(o)||(e.checked=o)):c&&e.value!==r?(e.defaultValue=r,e.value=r):i(o)||(e.checked=o)}function w(t,e){if("optgroup"===t.type){var n=t.children;if(kt(n))for(var r=0,i=n.length;r<i;r++)S(n[r],e);else gt(n)&&S(n,e)}else S(t,e)}function S(t,e){var n=t.props||Yt,r=t.dom;r.value=n.value,kt(e)&&-1!==e.indexOf(n.value)||n.value===e?r.selected=!0:i(e)&&i(n.selected)||(r.selected=n.selected||!1)}function A(t){var e=this.vNode,n=e.props||Yt,r=e.dom,i=n.value;if(n.onChange){var o=n.onChange;o.event?o.event(o.data,t):o(t)}else n.onchange&&n.onchange(t);var a=this.vNode,u=a.props||Yt;i!==u.value&&j(a,r,u,!1)}function j(t,e,n,r){n.multiple!==e.multiple&&(e.multiple=n.multiple);var a=t.children;if(!o(a)){var u=n.value;if(r&&i(u)&&(u=n.defaultValue),kt(a))for(var c=0,s=a.length;c<s;c++)w(a[c],u);else gt(a)&&w(a,u)}}function k(t){var e=(this.vNode.props||Yt).onChange;e.event?e.event(e.data,t):e(t)}function x(t){var e=this.vNode,n=e.props||Yt,r=n.value;if(n.onInput){var i=n.onInput;i.event?i.event(i.data,t):i(t)}else n.oninput&&n.oninput(t);var o=this.vNode;r!==(o.props||Yt).value&&I(o,e.dom,!1)}function I(t,e,n){var r=t.value,o=e.value;if(i(r)){if(n){var a=t.defaultValue;i(a)?""!==o&&(e.defaultValue="",e.value=""):a!==o&&(e.defaultValue=a,e.value=a)}}else o!==r&&(e.defaultValue=r,e.value=r)}function C(t,e,n,r,i,o){(512&t)>0?function(t,e,n,r,i){E(n,e),i&&(e.vNode=t,r&&(b(n.type)?(e.onclick=O,e.onclick.wrapped=!0):(e.oninput=_,e.oninput.wrapped=!0),n.onChange&&(e.onchange=T,e.onchange.wrapped=!0)))}(e,n,r,i,o):(2048&t)>0?function(t,e,n,r,i){j(t,e,n,r),i&&(e.vNode=t,r&&(e.onchange=A,e.onchange.wrapped=!0))}(e,n,r,i,o):(1024&t)>0&&function(t,e,n,r,i){I(n,e,r),i&&(e.vNode=t,r&&(e.oninput=x,e.oninput.wrapped=!0,n.onChange&&(e.onchange=k,e.onchange.wrapped=!0)))}(e,n,r,i,o)}function N(t){return t.type&&b(t.type)?!i(t.checked):!i(t.value)}function M(t,e,n,a,u){var c=t.children,l=t.props,d=t.className,p=t.flags,h=t.ref;if(u=u||(128&p)>0,1!==e.nodeType||e.tagName.toLowerCase()!==t.type){var v=q(t,null,n,a,u);return t.dom=v,ct(e.parentNode,v,e),v}if(t.dom=e,o(c)?null===e.firstChild||function(t,e){return Boolean(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&lt(t,e.dangerouslySetInnerHTML.__html))}(e,l)||(e.textContent=""):function(t,e,n,i,o){!function(t){for(var e=t.firstChild;e;)if(8===e.nodeType)if("!"===e.data){var n=document.createTextNode("");t.replaceChild(n,e),e=e.nextSibling}else{var r=e.previousSibling;t.removeChild(e),e=r||t.firstChild}else e=e.nextSibling}(e);var a=e.firstChild;if(r(t))s(a)||3!==a.nodeType?""===t?e.appendChild(document.createTextNode("")):e.textContent=t:a.nodeValue!==t&&(a.nodeValue=t),s(a)||(a=a.nextSibling);else if(kt(t))for(var u=0,c=t.length;u<c;u++){var l=t[u];if(!s(l)&&f(l))if(s(a))Y(l,e,n,i,o);else{var d=a.nextSibling;R(l,a,n,i,o),a=d}}else s(a)?Y(t,e,n,i,o):(R(t,a,n,i,o),a=a.nextSibling);for(;a;){var p=a.nextSibling;e.removeChild(a),a=p}}(c,e,n,a,u),l){var g=!1,y=(3584&p)>0;for(var m in y&&(g=N(l)),l)W(m,null,l[m],e,u,g);y&&C(p,t,e,l,!0,g)}return i(d)?""!==e.className&&e.removeAttribute("class"):u?e.setAttribute("class",d):e.className=d,h&&tt(e,h,n),e}function R(t,e,n,r,i){var o=t.flags;28&o?function(t,e,n,r,i,o){var a=t.type,u=t.ref,c=t.props||Yt;if(o){var s=e.namespaceURI===Nt,l=et(t,a,c,r,s,n),f=l._lastInput;l._vNode=t,R(f,e,n,l._childContext,s),t.dom=f.dom,Q(t,u,l,n),l._updating=!1,xt.findDOMNodeEnabled&&Bt.set(l,e)}else{var d=rt(t,a,c,r);R(d,e,n,r,i),t.children=d,t.dom=d.dom,Z(c,u,e,n)}}(t,e,n,r,i,(4&o)>0):3970&o?M(t,e,n,r,i):1&o?function(t,e){if(3!==e.nodeType){var n=X(t,null);return t.dom=n,ct(e.parentNode,n,e),n}var r=t.children;e.nodeValue!==r&&(e.nodeValue=r),t.dom=e}(t,e):4096&o?function(t,e){t.dom=e}(t,e):d()}function P(t,e,n,r,u){var c=t.flags,d=t.dom;if(28&c){var p=t.children,h=(4&c)>0,v=t.props||Yt,g=t.ref;u||(h?p._unmounted||(s(xt.beforeUnmount)||xt.beforeUnmount(t),l(p.componentWillUnmount)||p.componentWillUnmount(),g&&!u&&g(null),p._unmounted=!0,xt.findDOMNodeEnabled&&Bt.delete(p),P(p._lastInput,null,p._lifecycle,!1,u)):(i(g)||i(g.onComponentWillUnmount)||g.onComponentWillUnmount(d,v),P(p,null,n,!1,u))),xt.recyclingEnabled&&!h&&(e||r)&&function(t){var e=t.ref;if(!e||!(e.onComponentWillMount||e.onComponentWillUnmount||e.onComponentDidMount||e.onComponentWillUpdate||e.onComponentDidUpdate)){var n=t.type,r=t.key,i=Vt.get(n);if(l(i)&&(i={keyed:new Map,nonKeyed:[]},Vt.set(n,i)),s(r))i.nonKeyed.push(t);else{var o=i.keyed.get(r);l(o)&&(o=[],i.keyed.set(r,o)),o.push(t)}}}(t)}else if(3970&c){var y=t.ref,m=t.props;!u&&a(y)&&y(null);var b=t.children;if(!i(b))if(kt(b))for(var _=0,T=b.length;_<T;_++){var O=b[_];!o(O)&&f(O)&&P(O,null,n,!1,u)}else f(b)&&P(b,null,n,!1,u);if(!s(m))for(var E in m)null!==m[E]&&B(E)&&(G(E,m[E],null,d),m[E]=null);xt.recyclingEnabled&&(e||r)&&function(t){var e=t.type,n=t.key,r=zt.get(e);if(l(r)&&(r={keyed:new Map,nonKeyed:[]},zt.set(e,r)),s(n))r.nonKeyed.push(t);else{var i=r.keyed.get(n);l(i)&&(i=[],r.keyed.set(n,i)),i.push(t)}}(t)}s(e)||function(t,e){t.removeChild(e)}(e,d)}function U(t){xt.findDOMNodeEnabled||d();var e=t&&t.nodeType?t:null;return Bt.get(t)||e}function L(t,e){if(Gt===e&&d(),t!==St){var n=function(t){for(var e=0,n=Wt.length;e<n;e++){var r=Wt[e];if(r.dom===t)return r}return null}(e);if(s(n)){var r=new h;o(t)||(t.dom&&(t=dt(t)),function(t,e,n){if(!s(e)){var r=e.firstChild;if(!s(r)){for(R(t,r,n,Yt,!1),r=e.firstChild;r=r.nextSibling;)e.removeChild(r);return!0}}return!1}(t,e,r)||Y(t,e,r,Yt,!1),n=function(t,e,n){var r={dom:t,input:e,lifecycle:n};return Wt.push(r),r}(e,t,r),r.trigger())}else{var a=n.lifecycle;a.listeners=[],i(t)?(P(n.input,e,a,!1,!1),function(t){for(var e=0,n=Wt.length;e<n;e++)if(Wt[e]===t)return void Wt.splice(e,1)}(n)):(t.dom&&(t=dt(t)),F(n.input,t,e,a,Yt,!1,!1)),n.input=t,a.trigger()}if(n){var u=n.input;if(u&&28&u.flags)return u.children}}}function D(t){return function(e,n){t||(t=e),L(n,t)}}function F(t,e,n,r,i,o,a){if(t!==e){var u=t.flags,c=e.flags;if(28&c){var s=(4&c)>0;28&u?z(t,e,n,r,i,o,s,a):nt(n,J(e,null,r,i,o,s),t,r,a)}else 3970&c?3970&u?V(t,e,n,r,i,o,a):nt(n,q(e,null,r,i,o),t,r,a):1&c?1&u?function(t,e){var n=e.children,r=t.dom;e.dom=r,t.children!==n&&(r.nodeValue=n)}(t,e):nt(n,X(e,null),t,r,a):4096&c?4096&u?function(t,e){e.dom=t.dom}(t,e):nt(n,$(e,null),t,r,a):function(t,e,n,r,i,o,a){nt(n,Y(e,null,r,i,o),t,r,a)}(t,e,n,r,i,o,a)}}function H(t,e,n,r){gt(t)?P(t,e,n,!0,r):kt(t)?st(e,t,n,r):e.textContent=""}function V(t,e,n,a,u,c,f){var d=e.type;if(t.type!==d)ut(t,e,n,a,u,c,f);else{var p=t.dom,h=t.props,g=e.props,y=t.children,m=e.children,b=t.flags,_=e.flags,T=e.ref,O=t.className,E=e.className;if(e.dom=p,c=c||(128&_)>0,y!==m&&function(t,e,n,a,u,c,f,d,p){var h=!1,v=!1;if(64&e?h=!0:(32&t)>0&&(32&e)>0?(v=!0,h=!0):o(a)?H(n,u,c,p):o(n)?r(a)?it(u,a):kt(a)?K(a,u,c,f,d):Y(a,u,c,f,d):r(a)?r(n)?function(t,e){var n=t.firstChild;s(n)?it(t,e):n.nodeValue=e}(u,a):(H(n,u,c,p),it(u,a)):kt(a)?kt(n)?(h=!0,function(t,e){return e.length>0&&!i(e[0])&&!i(e[0].key)&&t.length>0&&!i(t[0])&&!i(t[0].key)}(n,a)&&(v=!0)):(H(n,u,c,p),K(a,u,c,f,d)):kt(n)?(st(u,n,c,p),Y(a,u,c,f,d)):gt(a)&&(gt(n)?F(n,a,u,c,f,d,p):(H(n,u,c,p),Y(a,u,c,f,d))),h){var g=n.length,y=a.length;0===g?y>0&&K(a,u,c,f,d):0===y?st(u,n,c,p):v?function(t,e,n,r,i,o,a,u,c){var f,d,p,h,v,g,y,m=u-1,b=c-1,_=0,T=0,O=t[_],E=e[T],w=t[m],S=e[b];E.dom&&(e[T]=E=dt(E)),S.dom&&(e[b]=S=dt(S));t:{for(;O.key===E.key;){if(F(O,E,n,r,i,o,a),T++,++_>m||T>b)break t;O=t[_],(E=e[T]).dom&&(e[T]=E=dt(E))}for(;w.key===S.key;){if(F(w,S,n,r,i,o,a),b--,_>--m||T>b)break t;w=t[m],(S=e[b]).dom&&(e[b]=S=dt(S))}}if(_>m){if(T<=b)for(v=(g=b+1)<c?e[g].dom:null;T<=b;)(y=e[T]).dom&&(e[T]=y=dt(y)),T++,at(n,Y(y,null,r,i,o),v)}else if(T>b)for(;_<=m;)P(t[_++],n,r,!1,a);else{var A=m-_+1,j=b-T+1,k=new Array(j);for(f=0;f<j;f++)k[f]=-1;var x=!1,I=0,C=0;if(j<=4||A*j<=16){for(f=_;f<=m;f++)if(p=t[f],C<j)for(d=T;d<=b;d++)if(h=e[d],p.key===h.key){k[d-T]=f,I>d?x=!0:I=d,h.dom&&(e[d]=h=dt(h)),F(p,h,n,r,i,o,a),C++,t[f]=null;break}}else{var N=new Map;for(f=T;f<=b;f++)N.set(e[f].key,f);for(f=_;f<=m;f++)p=t[f],C<j&&(l(d=N.get(p.key))||(h=e[d],k[d-T]=f,I>d?x=!0:I=d,h.dom&&(e[d]=h=dt(h)),F(p,h,n,r,i,o,a),C++,t[f]=null))}if(A===u&&0===C)for(st(n,t,r,a);T<j;)(y=e[T]).dom&&(e[T]=y=dt(y)),T++,at(n,Y(y,null,r,i,o),null);else{for(f=A-C;f>0;)s(p=t[_++])||(P(p,n,r,!0,a),f--);if(x){var M=function(t){var e,n,r,i,o,a=t.slice(0),u=[0],c=t.length;for(e=0;e<c;e++){var s=t[e];if(-1!==s){if(n=u[u.length-1],t[n]<s){a[e]=n,u.push(e);continue}for(r=0,i=u.length-1;r<i;)t[u[o=(r+i)/2|0]]<s?r=o+1:i=o;s<t[u[r]]&&(r>0&&(a[e]=u[r-1]),u[r]=e)}}for(r=u.length,i=u[r-1];r-- >0;)u[r]=i,i=a[i];return u}(k);for(d=M.length-1,f=j-1;f>=0;f--)-1===k[f]?((y=e[I=f+T]).dom&&(e[I]=y=dt(y)),g=I+1,at(n,Y(y,null,r,i,o),g<c?e[g].dom:null)):d<0||f!==M[d]?(y=e[I=f+T],g=I+1,at(n,y.dom,g<c?e[g].dom:null)):d--}else if(C!==j)for(f=j-1;f>=0;f--)-1===k[f]&&((y=e[I=f+T]).dom&&(e[I]=y=dt(y)),g=I+1,at(n,Y(y,null,r,i,o),g<c?e[g].dom:null))}}}(n,a,u,c,f,d,p,g,y):function(t,e,n,r,i,o,a,u,c){for(var s=u>c?c:u,l=0;l<s;l++){var f=e[l];f.dom&&(f=e[l]=dt(f)),F(t[l],f,n,r,i,o,a)}if(u<c)for(l=s;l<c;l++){var d=e[l];d.dom&&(d=e[l]=dt(d)),ot(n,Y(d,null,r,i,o))}else if(u>c)for(l=s;l<u;l++)P(t[l],n,r,!1,a)}(n,a,u,c,f,d,p,g,y)}}(b,_,y,m,p,a,u,!0===c&&"foreignObject"!==e.type,f),h!==g){var w=h||Yt,S=g||Yt,A=!1;if(S!==Yt){var j=(3584&_)>0;for(var k in j&&(A=N(S)),S){var x=S[k];W(k,w[k],x,p,c,A)}j&&C(_,e,p,S,f,A)}if(w!==Yt)for(var I in w)i(S[I])&&!i(w[I])&&function(t,e,n,r){"value"===t?n.value=2048&r?null:"":"style"===t?n.removeAttribute("style"):B(t)?v(t,e,null,n):n.removeAttribute(t)}(I,w[I],p,_)}O!==E&&(i(E)?p.removeAttribute("class"):c?p.setAttribute("class",E):p.className=E),T&&(t.ref!==T||f)&&tt(p,T,a)}}function z(t,e,n,a,u,c,h,v){var g=t.type,y=e.type,m=t.key,b=e.key;if(g!==y||m!==b)return ut(t,e,n,a,u,c,v),!1;var _=e.props||Yt;if(h){var T=t.children;if(T._updating=!0,T._unmounted){if(s(n))return!0;ct(n,J(e,null,a,u,c,(4&e.flags)>0),t.dom)}else{var O=!l(T.componentDidUpdate),E=T.state,w=O?p(E,null):E,S=T.props;e.children=T,T._isSVG=c;var A=T._lastInput,j=T._updateComponent(w,E,S,_,u,!1,!1);if(T._unmounted)return!1;var k,x=!0;i(T.getChildContext)||(k=T.getChildContext()),k=i(k)?u:p(u,k),T._childContext=k,o(j)?j=ht():j===St?(j=A,x=!1):r(j)?j=vt(j,null):kt(j)?d():f(j)&&(s(j.dom)||(j=dt(j))),28&j.flags?j.parentVNode=e:28&A.flags&&(A.parentVNode=e),T._lastInput=j,T._vNode=e,x&&(F(A,j,n,a,k,c,v),O&&T.componentDidUpdate&&T.componentDidUpdate(S,w),s(xt.afterUpdate)||xt.afterUpdate(e),xt.findDOMNodeEnabled&&Bt.set(T,j.dom)),e.dom=j.dom}T._updating=!1}else{var I=!0,C=t.props,N=e.ref,M=!i(N),R=t.children,P=R;e.dom=t.dom,e.children=R,m!==b?I=!0:M&&!i(N.onComponentShouldUpdate)&&(I=N.onComponentShouldUpdate(C,_)),!1!==I&&(M&&!i(N.onComponentWillUpdate)&&N.onComponentWillUpdate(C,_),o(P=y(_,u))?P=ht():r(P)&&P!==St?P=vt(P,null):kt(P)?d():f(P)&&(s(P.dom)||(P=dt(P))),P!==St&&(F(R,P,n,a,u,c,v),e.children=P,M&&!i(N.onComponentDidUpdate)&&N.onComponentDidUpdate(C,_),e.dom=P.dom)),28&P.flags?P.parentVNode=e:28&R.flags&&(R.parentVNode=e)}return!1}function B(t){return"o"===t[0]&&"n"===t[1]}function W(t,e,n,r,o,a){if(e!==n){if(Lt.has(t)||a&&"value"===t)return;if(Rt.has(t))r[t="autoFocus"===t?t.toLowerCase():t]=!!n;else if(Mt.has(t)){var s=i(n)?"":n;r[t]!==s&&(r[t]=s)}else if(B(t))G(t,e,n,r);else if(i(n))r.removeAttribute(t);else if("style"===t)!function(t,e,n){var r,o,a=n.style;if(u(e))a.cssText=e;else if(i(t)||u(t))for(r in e)o=e[r],a[r]=!c(o)||Ut.has(r)?o:o+"px";else{for(r in e)(o=e[r])!==t[r]&&(a[r]=!c(o)||Ut.has(r)?o:o+"px");for(r in t)i(e[r])&&(a[r]="")}}(e,n,r);else if("dangerouslySetInnerHTML"===t){var l=e&&e.__html,f=n&&n.__html;l!==f&&(i(f)||lt(r,f)||(r.innerHTML=f))}else o&&Pt.has(t)?r.setAttributeNS(Pt.get(t),t,n):r.setAttribute(t,n)}}function G(t,e,n,r){if(e!==n)if(Dt.has(t))v(t,e,n,r);else{var o=t.toLowerCase(),u=r[o];if(u&&u.wrapped)return;if(a(n)||i(n))r[o]=n;else{var c=n.event;c&&a(c)?r[o]=function(t){c(n.data,t)}:d()}}}function Y(t,e,n,r,i){var o=t.flags;return 3970&o?q(t,e,n,r,i):28&o?J(t,e,n,r,i,(4&o)>0):4096&o?$(t,e):1&o?X(t,e):void d()}function X(t,e){var n=document.createTextNode(t.children);return t.dom=n,s(e)||ot(e,n),n}function $(t,e){var n=document.createTextNode("");return t.dom=n,s(e)||ot(e,n),n}function q(t,e,n,i,a){var u;if(xt.recyclingEnabled&&!s(u=function(t,e,n,r){var i=t.type,o=zt.get(i);if(!l(o)){var a=t.key,u=null===a?o.nonKeyed:o.keyed.get(a);if(!l(u)){var c=u.pop();if(!l(c))return V(c,t,null,e,n,r,!0),t.dom}}return null}(t,n,i,a)))return s(e)||ot(e,u),u;var c=t.flags;a=a||(128&c)>0,u=function(t,e){return document.createElement(t)}(t.type);var f=t.children,d=t.props,p=t.className,h=t.ref;if(t.dom=u,!o(f))if(r(f))it(u,f);else{var v=!0===a&&"foreignObject"!==t.type;kt(f)?K(f,u,n,i,v):gt(f)&&Y(f,u,n,i,v)}if(!s(d)){var g=!1,y=(3584&c)>0;for(var m in y&&(g=N(d)),d)W(m,null,d[m],u,a,g);y&&C(c,t,u,d,!0,g)}return null!==p&&(a?u.setAttribute("class",p):u.className=p),s(h)||tt(u,h,n),s(e)||ot(e,u),u}function K(t,e,n,r,i){for(var a=0,u=t.length;a<u;a++){var c=t[a];o(c)||(c.dom&&(t[a]=c=dt(c)),Y(t[a],e,n,r,i))}}function J(t,e,n,r,i,o){var a;if(xt.recyclingEnabled&&!s(a=function(t,e,n,r){var i=t.type,o=Vt.get(i);if(!l(o)){var a=t.key,u=null===a?o.nonKeyed:o.keyed.get(a);if(!l(u)){var c=u.pop();if(!l(c)&&!z(c,t,null,e,n,r,(4&t.flags)>0,!0))return t.dom}}return null}(t,n,r,i)))return s(e)||ot(e,a),a;var u=t.type,c=t.props||Yt,f=t.ref;if(o){var d=et(t,u,c,r,i,n),p=d._lastInput;d._vNode=t,t.dom=a=Y(p,null,n,d._childContext,i),s(e)||ot(e,a),Q(t,f,d,n),d._updating=!1,xt.findDOMNodeEnabled&&Bt.set(d,a)}else{var h=rt(t,u,c,r);t.dom=a=Y(h,null,n,r,i),t.children=h,Z(c,f,a,n),s(e)||ot(e,a)}return a}function Q(t,e,n,r){e&&(a(e)?e(n):d());var i=!l(n.componentDidMount),o=xt.afterMount;!i&&s(o)||r.addListener(function(){n._updating=!0,o&&o(t),i&&n.componentDidMount(),n._updating=!1})}function Z(t,e,n,r){e&&(i(e.onComponentWillMount)||e.onComponentWillMount(t),i(e.onComponentDidMount)||r.addListener(function(){return e.onComponentDidMount(n,t)}))}function tt(t,e,n){if(a(e))n.addListener(function(){return e(t)});else{if(o(e))return;d()}}function et(t,e,n,a,u,c){l(a)&&(a=Yt);var f,h=new e(n,a);if(t.children=h,h._blockSetState=!1,h.context=a,h.props===Yt&&(h.props=n),h._lifecycle=c,h._unmounted=!1,h._isSVG=u,!i(h.componentWillMount)){if(h._blockRender=!0,h.componentWillMount(),h._pendingSetState){var v=h.state,g=h._pendingState;if(null===v)h.state=g;else for(var y in g)v[y]=g[y];h._pendingSetState=!1,h._pendingState=null}h._blockRender=!1}i(h.getChildContext)||(f=h.getChildContext()),i(f)?h._childContext=a:h._childContext=p(a,f),s(xt.beforeRender)||xt.beforeRender(h);var m=h.render(n,h.state,a);return s(xt.afterRender)||xt.afterRender(h),kt(m)?d():o(m)?m=ht():r(m)?m=vt(m,null):(m.dom&&(m=dt(m)),28&m.flags&&(m.parentVNode=t)),h._lastInput=m,h}function nt(t,e,n,r,i){P(n,null,r,!1,i),ct(t,e,n.dom)}function rt(t,e,n,i){var a=e(n,i);return kt(a)?d():o(a)?a=ht():r(a)?a=vt(a,null):(a.dom&&(a=dt(a)),28&a.flags&&(a.parentVNode=t)),a}function it(t,e){""!==e?t.textContent=e:t.appendChild(document.createTextNode(""))}function ot(t,e){t.appendChild(e)}function at(t,e,n){i(n)?ot(t,e):t.insertBefore(e,n)}function ut(t,e,n,r,i,o,a){P(t,null,r,!1,a);var u=Y(e,null,r,i,o);e.dom=u,ct(n,u,t.dom)}function ct(t,e,n){t||(t=n.parentNode),t.replaceChild(e,n)}function st(t,e,n,r){(!xt.recyclingEnabled||xt.recyclingEnabled&&!r)&&function(t,e,n,r){for(var i=0,a=e.length;i<a;i++){var u=e[i];o(u)||P(u,null,n,!0,r)}}(0,e,n,r),t.textContent=""}function lt(t,e){var n=document.createElement("i");return n.innerHTML=e,n.innerHTML===t.innerHTML}function ft(t,e,n,r,i,o,a,u){16&t&&(t=function(t){return!l(t.prototype)&&!l(t.prototype.render)}(e)?4:8);var c={children:void 0===r?null:r,className:void 0===n?null:n,dom:null,flags:t,key:void 0===o?null:o,props:void 0===i?null:i,ref:void 0===a?null:a,type:e};return!0!==u&&Et(c),null!==xt.createVNode&&xt.createVNode(c),c}function dt(t){var e,n=t.flags;if(28&n){var i,a=t.props;if(s(a))i=Yt;else for(var u in i={},a)i[u]=a[u];var c=(e=ft(n,t.type,null,null,i,t.key,t.ref,!0)).props,l=c.children;if(l)if(kt(l)){var f=l.length;if(f>0){for(var d=[],p=0;p<f;p++){var h=l[p];r(h)?d.push(h):!o(h)&&gt(h)&&d.push(dt(h))}c.children=d}}else gt(l)&&(c.children=dt(l));e.children=null}else if(3970&n){var v,g=t.children,y=t.props;if(null===y)v=Yt;else for(var m in v={},y)v[m]=y[m];e=ft(n,t.type,t.className,g,v,t.key,t.ref,!g)}else 1&n&&(e=vt(t.children,t.key));return e}function pt(t,e){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];var a,u=n,c=n.length;if(c>0&&!l(n[0])&&(e||(e={}),1===c&&(u=n[0]),l(u)||(e.children=u)),kt(t)){for(var s=[],f=0,d=t.length;f<d;f++)s.push(dt(t[f]));a=s}else{var h=t.flags,v=t.className,g=t.key,y=t.ref;if(e&&(e.hasOwnProperty("className")&&(v=e.className),e.hasOwnProperty("ref")&&(y=e.ref),e.hasOwnProperty("key")&&(g=e.key)),28&h){var m=(a=ft(h,t.type,v,null,t.props||e?p(t.props,e):Yt,g,y,!0)).props;if(m){var b=m.children;if(b)if(kt(b)){var _=b.length;if(_>0){for(var T=[],O=0;O<_;O++){var E=b[O];r(E)?T.push(E):!o(E)&&gt(E)&&T.push(dt(E))}m.children=T}}else gt(b)&&(m.children=dt(b))}a.children=null}else 3970&h?(u=e&&!l(e.children)?e.children:t.children,a=ft(h,t.type,v,u,t.props||e?p(t.props,e):Yt,g,y,!1)):1&h&&(a=vt(t.children,g))}return a}function ht(){return ft(4096,null)}function vt(t,e){return ft(1,null,null,t,null,e)}function gt(t){return!!t.flags}function yt(t,e){return e.key=t,e}function mt(t,e){return c(t)&&(t="."+t),s(e.key)||"."===e.key[0]?yt(t,e):e}function bt(t,e){return e.key=t+e.key,e}function _t(t,e,n,i){for(var a=t.length;n<a;n++){var u=t[n],c=i+"."+n;o(u)||(kt(u)?_t(u,e,0,c):(r(u)?u=vt(u,null):(gt(u)&&u.dom||u.key&&"."===u.key[0])&&(u=dt(u)),u=s(u.key)||"."===u.key[0]?yt(c,u):bt(i,u),e.push(u)))}}function Tt(t){return kt(t)?function(t){var e;!0===t.$?t=t.slice():t.$=!0;for(var n=0,i=t.length;n<i;n++){var a=t[n];if(o(a)||kt(a)){var u=(e||t).slice(0,n);return _t(t,u,n,""),u}r(a)?(e||(e=t.slice(0,n)),e.push(mt(n,vt(a,null)))):gt(a)&&null!==a.dom||s(a.key)&&0==(64&a.flags)?(e||(e=t.slice(0,n)),e.push(mt(n,dt(a)))):e&&e.push(mt(n,dt(a)))}return e||t}(t):gt(t)&&null!==t.dom?dt(t):t}function Ot(t){return"svg"===t?128:"input"===t?512:"select"===t?2048:"textarea"===t?1024:"media"===t?256:2}function Et(t){var e=t.props,n=t.children;if(28&t.flags){var r=t.type,a=r.defaultProps;if(!i(a))if(e)for(var c in a)l(e[c])&&(e[c]=a[c]);else e=t.props=a;u(r)&&(t.flags=Ot(r),e&&e.children&&(t.children=e.children,n=e.children))}e&&(function(t,e,n){3970&t.flags&&(i(n)&&e.hasOwnProperty("children")&&(t.children=e.children),e.hasOwnProperty("className")&&(t.className=e.className||null,delete e.className)),e.hasOwnProperty("ref")&&(t.ref=e.ref,delete e.ref),e.hasOwnProperty("key")&&(t.key=e.key,delete e.key)}(t,e,n),o(e.children)||(e.children=Tt(e.children))),o(n)||(t.children=Tt(n))}function wt(t,e){return a(e)?{data:t,event:e}:null}Object.defineProperty(e,"__esModule",{value:!0});var St="$NO_OP",At="a runtime error occured! Use Inferno in development environment to find the error.",jt=!("undefined"==typeof window||!window.document),kt=Array.isArray;h.prototype.addListener=function(t){this.listeners.push(t)},h.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var xt={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]},It="http://www.w3.org/1999/xlink",Ct="http://www.w3.org/XML/1998/namespace",Nt="http://www.w3.org/2000/svg",Mt=new Set;Mt.add("volume"),Mt.add("defaultChecked");var Rt=new Set;Rt.add("muted"),Rt.add("scoped"),Rt.add("loop"),Rt.add("open"),Rt.add("checked"),Rt.add("default"),Rt.add("capture"),Rt.add("disabled"),Rt.add("readOnly"),Rt.add("required"),Rt.add("autoplay"),Rt.add("controls"),Rt.add("seamless"),Rt.add("reversed"),Rt.add("allowfullscreen"),Rt.add("novalidate"),Rt.add("hidden"),Rt.add("autoFocus"),Rt.add("selected"),Rt.add("indeterminate");var Pt=new Map;Pt.set("xlink:href",It),Pt.set("xlink:arcrole",It),Pt.set("xlink:actuate",It),Pt.set("xlink:show",It),Pt.set("xlink:role",It),Pt.set("xlink:title",It),Pt.set("xlink:type",It),Pt.set("xml:base",Ct),Pt.set("xml:lang",Ct),Pt.set("xml:space",Ct);var Ut=new Set;Ut.add("animationIterationCount"),Ut.add("borderImageOutset"),Ut.add("borderImageSlice"),Ut.add("borderImageWidth"),Ut.add("boxFlex"),Ut.add("boxFlexGroup"),Ut.add("boxOrdinalGroup"),Ut.add("columnCount"),Ut.add("flex"),Ut.add("flexGrow"),Ut.add("flexPositive"),Ut.add("flexShrink"),Ut.add("flexNegative"),Ut.add("flexOrder"),Ut.add("gridRow"),Ut.add("gridColumn"),Ut.add("fontWeight"),Ut.add("lineClamp"),Ut.add("lineHeight"),Ut.add("opacity"),Ut.add("order"),Ut.add("orphans"),Ut.add("tabSize"),Ut.add("widows"),Ut.add("zIndex"),Ut.add("zoom"),Ut.add("fillOpacity"),Ut.add("floodOpacity"),Ut.add("stopOpacity"),Ut.add("strokeDasharray"),Ut.add("strokeDashoffset"),Ut.add("strokeMiterlimit"),Ut.add("strokeOpacity"),Ut.add("strokeWidth");var Lt=new Set;Lt.add("children"),Lt.add("childrenType"),Lt.add("defaultValue"),Lt.add("ref"),Lt.add("key"),Lt.add("checked"),Lt.add("multiple");var Dt=new Set;Dt.add("onClick"),Dt.add("onMouseDown"),Dt.add("onMouseUp"),Dt.add("onMouseMove"),Dt.add("onSubmit"),Dt.add("onDblClick"),Dt.add("onKeyDown"),Dt.add("onKeyUp"),Dt.add("onKeyPress");var Ft=jt&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),Ht=new Map,Vt=new Map,zt=new Map,Bt=new Map,Wt=xt.roots,Gt=jt?document.body:null,Yt={},Xt={EMPTY_OBJ:Yt,NO_OP:St,cloneVNode:pt,createRenderer:D,createVNode:ft,findDOMNode:U,getFlagsForElementVnode:Ot,internal_DOMNodeMap:Bt,internal_isUnitlessNumber:Ut,internal_normalize:Et,internal_patch:F,linkEvent:wt,options:xt,render:L,version:"3.10.1"};e.default=Xt,e.EMPTY_OBJ=Yt,e.NO_OP=St,e.cloneVNode=pt,e.createRenderer=D,e.createVNode=ft,e.findDOMNode=U,e.getFlagsForElementVnode=Ot,e.internal_DOMNodeMap=Bt,e.internal_isUnitlessNumber=Ut,e.internal_normalize=Et,e.internal_patch=F,e.linkEvent=wt,e.options=xt,e.render=L,e.version="3.10.1"},function(t,e,n){"use strict";function r(t){return o(t)||i(t)}function i(t){return null===t}function o(t){return void 0===t}function a(){this.listeners=[]}Object.defineProperty(e,"__esModule",{value:!0});var u=n(18);a.prototype.addListener=function(t){this.listeners.push(t)},a.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var c=new Set;c.add("onComponentWillMount"),c.add("onComponentDidMount"),c.add("onComponentWillUnmount"),c.add("onComponentShouldUpdate"),c.add("onComponentWillUpdate"),c.add("onComponentDidUpdate"),e.default=function(t,e){for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];if(function(t){return i(t)||!1===t||!0===t||o(t)}(t)||"object"==typeof t)throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var s,l=n,f=null,d=null,p=null,h=0;if(n&&(1===n.length?l=n[0]:0===n.length&&(l=void 0)),"string"==typeof t){if(h=u.getFlagsForElementVnode(t),!r(e))for(var v in s={},e)"className"===v||"class"===v?p=e[v]:"key"===v?d=e.key:"children"===v&&o(l)?l=e.children:"ref"===v?f=e.ref:s[v]=e[v]}else if(h=16,o(l)||(e||(e={}),e.children=l,l=null),!r(e))for(var g in s={},e)c.has(g)?(f||(f={}),f[g]=e[g]):"key"===g?d=e.key:s[g]=e[g];return u.createVNode(h,t,p,l,s,d,f)}},function(t,e,n){var r,i,o;i=[t,n(71),n(73),n(74)],void 0!==(o="function"==typeof(r=function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var a=i(e),u=i(n),c=i(r),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),l(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===s(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,c.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return o("action",t)}},{key:"defaultTarget",value:function(t){var e=o("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return o("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}();t.exports=f})?r.apply(e,i):r)&&(t.exports=o)},function(t,e,n){var r,i,o;i=[t,n(72)],void 0!==(o="function"==typeof(r=function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=o})?r.apply(e,i):r)&&(t.exports=o)},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i),e=r.toString()}return e}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e,n){var r=n(75),i=n(76);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(r.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}(t,e,n);if(r.string(t))return function(t,e,n){return i(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(77);t.exports=function(t,e,n,i,o){var a=function(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,n){(function(e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function r(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||!!t&&"object"==typeof t&&h.call(t)==o}(t))return i;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=c.test(t);return r||s.test(t)?l(t.slice(2),r?2:8):u.test(t)?i:+t}var i=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,f="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),h=Object.prototype.toString,v=Math.max,g=Math.min,y=function(){return p.Date.now()};t.exports=function(t,e,i){function o(e){var n=l,r=f;return l=f=void 0,b=e,p=t.apply(r,n)}function a(t){var n=t-m;return void 0===m||n>=e||n<0||T&&t-b>=d}function u(){var t=y();if(a(t))return c(t);h=setTimeout(u,function(n){var r=e-(t-m);return T?g(r,d-(t-b)):r}())}function c(t){return h=void 0,O&&l?o(t):(l=f=void 0,p)}function s(){var t=y(),n=a(t);if(l=arguments,f=this,m=t,n){if(void 0===h)return function(t){return b=t,h=setTimeout(u,e),_?o(t):p}(m);if(T)return h=setTimeout(u,e),o(m)}return void 0===h&&(h=setTimeout(u,e)),p}var l,f,d,p,h,m,b=0,_=!1,T=!1,O=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e)||0,n(i)&&(_=!!i.leading,d=(T="maxWait"in i)?v(r(i.maxWait)||0,e):d,O="trailing"in i?!!i.trailing:O),s.cancel=function(){void 0!==h&&clearTimeout(h),b=0,l=m=f=h=void 0},s.flush=function(){return void 0===h?p:c(y())},s}}).call(e,n(79))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t){return n(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./events.ts":17,"./state/entity.ts":9,"./state/flow.ts":3,"./state/graph.ts":29,"./state/gui.ts":12,"./state/tree.ts":30,"./state/views.ts":28};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=80},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t){function e(t){return function(){for(var e in this)"function"==typeof this[e][t]&&this[e][t]()}}function n(n){var r=t.getGraph(),i=r.entities,o=r.arcs,a=r.processes;return Object.keys(i).reduce(function(n,r){var u=function(t,n){return void 0===n&&(n={}),r.split(".").reduce(function(t,n){return t[n]=t[n]||{reset:e("reset"),watch:e("watch"),unwatch:e("unwatch")}},n)}(0,n),c=i[r],s=Object.keys(o).map(function(t){return o[t]}).filter(function(t){return t.entity===r&&!t.port}).map(function(t){return t.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return t.get(r)},set:function(e){return t.set(r,e)}}),u.update=function(e){t.update(r,e)},u.reset=function(){null!=c.value&&t.set(r,c.value)},u.watch=function(){t.on(r,function(t){return console.log(r,t)})},u.unwatch=function(){t.off(r)},u.streams={},s.forEach(function(e){var n=e.split(".").pop();n&&(u.streams[n]={start:function(){t.start(e)}},a[e].async&&(u.streams[n].stop=function(){t.stop(e)}))}),n},n)}return n({update:function(){for(var t in this)"update"!==t&&delete this[t];n(this)}})}}])}()},function(t,e,n){"use strict";function r(t){function e(t){return function(){for(var e in this)"function"==typeof this[e][t]&&this[e][t]()}}function n(n){var r=t.getGraph(),i=r.entities,o=r.arcs,a=r.processes;return Object.keys(i).reduce(function(n,r){var u=function(t,n){return void 0===n&&(n={}),t.split(".").reduce(function(t,n){return t[n]=t[n]||{reset:e("reset"),watch:e("watch"),unwatch:e("unwatch")}},n)}(r,n),c=i[r],s=Object.keys(o).map(function(t){return o[t]}).filter(function(t){return t.entity===r&&!t.port}).map(function(t){return t.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return t.get(r)},set:function(e){return t.set(r,e)}}),u.update=function(e){t.update(r,e)},u.reset=function(){null!=c.value&&t.set(r,c.value)},u.watch=function(){t.on(r,function(t){return console.log(r,t)})},u.unwatch=function(){t.off(r)},u.streams={},s.forEach(function(e){var n=e.split(".").pop();n&&(u.streams[n]={start:function(){t.start(e)}},a[e].async&&(u.streams[n].stop=function(){t.stop(e)}))}),n},n)}return n({update:function(){for(var t in this)"update"!==t&&delete this[t];n(this)}})}var i=n(1);function o(t,e){t.replaceGraph(function(t,e){var n=t.keys().map(function(n){var r=t(n);return Object.values(Object(i.f)(r,function(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}(n,e))).filter(i.e)}).reduce(function(t,e){return t.concat(e)},[]);return Object(i.d)(n)}(e)),window.entities=r(t)}n.d(e,"a",function(){return o})},,,function(t,e,n){"use strict";n.r(e),n.d(e,"canvas",function(){return a}),n.d(e,"timeToSort",function(){return u}),n.d(e,"tick",function(){return c}),n.d(e,"windowSize",function(){return s});var r=n(1),i=n(16),o=n(46);const a=Object(r.h)(null,()=>document.getElementById("canvas")||void 0),u=Object(r.i)(10),c=Object(r.a)([u.HOT],(t,e)=>{const n=Object(o.a)(t);return setTimeout(n,1e3*e),n}),s=Object(r.b)(null,i.a)},,,,function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(3),o=n(25),a=n(8),u=n(40),c=n(6);class s{constructor(t){this.value=t}static of(t){return new s(t)}of(t){return new s(t)}map(t){return new s(t(this.value))}ap(t){return t.chain(this.map.bind(this))}chain(t){return t(this.value)}combine(t,e){return this.chain(n=>e.chain(e=>s.of(t(n,e))))}pull(t,e){return this.chain(n=>s.of(t(n,e)))}}function l(t,e,n){return t[e]=n(t[e]),t}n.d(e,"nodeCount",function(){return f}),n.d(e,"nameSpaceCount",function(){return d}),n.d(e,"nodes",function(){return p}),n.d(e,"connections",function(){return h}),n.d(e,"springLength",function(){return v});const f=Object(r.i)(40),d=Object(r.i)(6),p=Object(r.g)([f.HOT,d.HOT,o.canvasSize.HOT],(t,e,n)=>Object(i.g)(t=>({id:t,pos:[Math.random()*n.width,Math.random()*n.height],ns:Object(a.b)(e),force:[0,0]}),t)),h=Object(r.g)([f.HOT],t=>Object(i.c)(Object(i.g)(e=>{if(e<t-3){const n=Object(a.c)(e+1,t-1),r=[[e,n]],i=Object(a.c)(e+1,t-1);return i!==n&&r.push([e,i]),r}return[]},t))),v=Object(r.i)(200);p.react([u.tick.HOT,v.COLD,h.COLD],(t,e,n,r)=>{function i(t,e,n,r){const i=t=>n=>t.combine(c.g,e).pull(c.a,n).value;l(n,"force",i(t)),l(r,"force",i(t.map(t=>-t)))}for(const e of r){const r=t[e[0]],o=t[e[1]],a=s.of(o.pos).pull(c.i,r.pos),u=a.map(c.h);i(a.map(c.f).map(t=>t-n).map(t=>2*t),u,r,o)}for(let e=0;e<t.length-1;e++){const n=t[e];for(let r=e+1;r<t.length;r++){const e=t[r],o=s.of(e.pos).pull(c.i,n.pos),a=o.map(c.h),u=o.map(c.f);if(i(u.map(t=>-Math.max(100-t,0)),a,n,e),e.ns===n.ns){i(u.map(t=>t-100),a,n,e)}else{i(u.map(t=>-Math.max(200-t,0)),a,n,e)}}}for(const n of t){const t=n.force,r=Object(c.f)(t)-3;if(r>0){const i=Object(c.d)(r+3,t);n.pos=Object(c.a)(n.pos,Object(c.g)(r*(e/500),i)),n.force=[0,0]}}return t})},,function(t,e,n){"use strict";function r(t){let e,n=!0;return requestAnimationFrame(function r(i){n&&(t(i-(e||i)),e=i,requestAnimationFrame(r))}),function(){n=!1}}n.d(e,"a",function(){return r})},,function(t,e,n){"use strict";n.r(e),n.d(e,"line",function(){return d}),n.d(e,"point",function(){return p});var r=n(71),i=n.n(r),o=n(72),a=n.n(o),u=n(73),c=n.n(u),s=n(74),l=n.n(s),f=n(1);const d=Object(f.i)({vert:i.a,frag:a.a}).reset(),p=Object(f.i)({vert:c.a,frag:l.a}).reset()},,function(t,e,n){"use strict";n.r(e);var r=n(1),i=n(44),o=n(3);n(19);var a=n(6);n.d(e,"points",function(){return u}),n.d(e,"lineWidth",function(){return c}),n.d(e,"lines",function(){return s});const u=Object(r.g)([i.nodes.HOT,i.nameSpaceCount.HOT],(t,e)=>({drawType:"POINTS",attribs:{position:{buffer:new Float32Array(Object(o.e)(t=>t.pos,t)),storeType:"DYNAMIC"},color:{buffer:new Float32Array(Object(o.e)(t=>(function(t){return t.map(t=>t/255)})([t.ns/e*255,255*(t.ns/e+1/3)%255,255*(t.ns/e+2/3)%255]),t)),storeType:"DYNAMIC"}},itemCount:t.length})),c=Object(r.i)(3),s=Object(r.g)([i.connections.HOT,i.nodes.HOT,c.HOT],(t,e,n)=>({drawType:"TRIANGLES",attribs:{position:{buffer:new Float32Array(Object(o.e)(t=>{const r=e[t[0]],i=e[t[1]],u=Object(a.h)(Object(a.i)(i.pos,r.pos)),c=[u[1],-u[0]],s=Object(a.a)(r.pos,Object(a.g)(n/2,c)),l=Object(a.a)(r.pos,Object(a.g)(-n/2,c)),f=Object(a.a)(i.pos,Object(a.g)(n/2,c)),d=Object(a.a)(i.pos,Object(a.g)(-n/2,c));return Object(o.c)([f,l,s,l,f,d])},t)),storeType:"DYNAMIC"}},itemCount:6*t.length}))},,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports="#define GLSLIFY 1\nattribute vec2 position;\n\nuniform vec2 size;\n\nvoid main() {\n\tgl_Position = vec4((position / size) * 2.0 - 1.0, 0.0, 1.0);\n}\n"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nvoid main() {\n\tgl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n}\n"},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec2 position;\nattribute vec3 color;\n\nuniform vec2 size;\n\nvarying vec3 vColor;\n\nvoid main() {\n\tvColor = color;\n\tgl_Position = vec4((position / size) * 2.0 - 1.0, 0.0, 1.0);\n\tgl_PointSize = 20.0;\n}\n"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nvarying vec3 vColor;\n\nvoid main() {\n\tgl_FragColor = vec4(vColor, 1.0);\n}\n"},,,,,,,,,,,,function(t,e,n){t.exports=n(95)},function(t,e,n){var r={"./events.ts":40,"./state/nodes.ts":44,"./view/context.ts":25,"./view/geometries.ts":50,"./view/renderer.ts":88,"./view/shaders.ts":48};function i(t){var e=o(t);return n(e)}function o(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=87},function(t,e,n){"use strict";n.r(e),n.d(e,"pointsShade",function(){return c}),n.d(e,"linesShade",function(){return s}),n.d(e,"pointsForm",function(){return l}),n.d(e,"linesForm",function(){return f}),n.d(e,"pointsData",function(){return d}),n.d(e,"linesData",function(){return p}),n.d(e,"pointsSketch",function(){return h}),n.d(e,"linesSketch",function(){return v}),n.d(e,"sceneData",function(){return g}),n.d(e,"scene",function(){return y}),n.d(e,"render",function(){return m});var r=n(1),i=n(25),o=n(50),a=n(48),u=n(12);const c=Object(u.d)(i.painter,a.point),s=Object(u.d)(i.painter,a.line),l=Object(u.c)(i.painter,o.points),f=Object(u.c)(i.painter,o.lines),d=Object(r.g)([l.HOT,c.HOT],(t,e)=>({form:t,shade:e})),p=Object(r.g)([f.HOT,s.HOT],(t,e)=>({form:t,shade:e})),h=Object(u.e)(i.painter,d),v=Object(u.e)(i.painter,p),g=Object(r.g)([h.HOT,v.HOT,i.canvasSize.HOT,i.gl.HOT],(t,e,n,r)=>({sketches:[e,t],uniforms:{size:[n.width,n.height]},drawSettings:{clearColor:[0,0,0,1],clearBits:r.COLOR_BUFFER_BIT,cullFace:r.BACK,enable:[r.CULL_FACE]}})),y=Object(u.a)(i.painter,g),m=Object(r.g)([i.painter.COLD,y.HOT],(t,e)=>t.compose(e))},,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(34),i=n(36);const o=r.a(),a=i.ui.start("graph-sort");window.flow=o,window.tools=a;var u=n(37);const c=n(87);o.setDebug(!0),Object(u.a)(o,c),a.setFlow(o,"graph-sort")}]);
//# sourceMappingURL=main.js.map