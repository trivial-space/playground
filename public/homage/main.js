webpackJsonp([0],[,,,,function(e,t,n){"use strict";function r(e){return e[Object(c.b)(e.length)]}function i(e,t){for(var n=0;n<e;n++)t(n)}function o(e,t){var n=[];return i(e,function(e){return n.push(t(e))}),n}function a(e,t,n){for(var r=Math.min(e.length,t.length),i=[],o=0;o<r;o++)i.push(n(e[o],t[o]));return i}t.b=r,t.a=i,t.c=o,t.d=a;var c=n(6)},,function(e,t,n){"use strict";function r(e){return Math.floor(Math.random()*e)}function i(){return(Math.random()+Math.random()+Math.random())/3}t.b=r,t.a=i;Math.PI},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"tick",function(){return s}),n.d(t,"tickStep",function(){return f}),n.d(t,"tickCounter",function(){return d}),n.d(t,"slowTick",function(){return v}),n.d(t,"windowSize",function(){return l}),n.d(t,"mouse",function(){return p}),n.d(t,"keys",function(){return m});var r=n(0),i=n(5),o=n(19),a=n(20),c=n(21),u=n(9),s=Object(r.a)([u.videos.HOT],c.a),f=Object(r.f)(2),d=Object(r.f)(0).react([f.HOT,s.HOT],function(e,t){return e===t?0:e+1}),v=Object(r.d)([d.HOT],function(e){return 0===e||null}),l=Object(r.b)(null,a.a),p=Object(r.b)(null,o.a),m=Object(r.b)(null,i.b)},function(e,t,n){"use strict";function r(e){var t=document.createElement("video");t.crossOrigin="anonymous",t.loop=!0;var n=document.createElement("source");n.src=e+".webm",n.type="video/webm";var r=document.createElement("source");return r.src=e+".mp4",r.type="video/mp4",t.appendChild(n),t.appendChild(r),t}Object.defineProperty(t,"__esModule",{value:!0}),t.createVideo=r,n.d(t,"names",function(){return o}),n.d(t,"videosUrl",function(){return a}),n.d(t,"loadTimeout",function(){return c}),n.d(t,"videos",function(){return u});var i=n(0),o=Object(i.f)(["tworooms","behindglass","nanofuzz","balloon","threescreens"]),a=Object(i.f)("videos/"),c=Object(i.f)(6e4),u=Object(i.a)([o.HOT,c.HOT,a.HOT],function(e,t,n,i){Promise.all(t.map(function(e){return r(i+e)}).map(function(e){return new Promise(function(t,r){var i=setTimeout(function(){console.log("timeout",e),r("Video timeout "+e)},n);e.addEventListener("canplay",function(){t(e),e.play(),clearTimeout(i),console.log("loaded",e)})})})).then(e)})},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"position",function(){return a}),n.d(t,"normal",function(){return c}),n.d(t,"scale",function(){return u}),n.d(t,"transform",function(){return s}),n.d(t,"planeEquation",function(){return f}),n.d(t,"mirrorMatrix",function(){return d});var r=n(0),i=n(3),o=(n.n(i),n(23)),a=Object(r.f)([0,-3.4,0]),c=Object(r.f)([0,1,0]),u=Object(r.f)(10),s=Object(r.f)(i.mat4.create()).react([a.HOT,u.HOT],function(e,t,n){return i.mat4.fromTranslation(e,t),i.mat4.rotateX(e,e,Math.PI/2),i.mat4.scale(e,e,[n,n,n])}),f=Object(r.d)([c.HOT,a.HOT],o.d),d=Object(r.d)([f.HOT],o.c)},function(e,t,n){"use strict";function r(e,t){var n=-c.vec3.dot(e,t);return c.vec4.fromValues(e[0],e[1],e[2],n)}function i(e){var t=e,n=t[0],r=t[1],i=t[2],o=t[3];return c.mat4.fromValues(1-2*n*n,-2*n*r,-2*n*i,0,-2*n*r,1-2*r*r,-2*r*i,0,-2*n*i,-2*r*i,1-2*i*i,0,-2*n*o,-2*r*o,-2*i*o,1)}function o(e,t){return t*=.5,e[0]=0,e[1]=Math.sin(t),e[2]=0,e[3]=Math.cos(t),e}function a(e,t){return t*=.5,e[0]=0,e[1]=0,e[2]=Math.sin(t),e[3]=Math.cos(t),e}t.d=r,t.c=i,t.b=o,t.a=a;var c=n(24);n.n(c)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"radius",function(){return u}),n.d(t,"height",function(){return s}),n.d(t,"scale",function(){return f}),n.d(t,"rotations",function(){return d}),n.d(t,"positions",function(){return v}),n.d(t,"transforms",function(){return l});var r=n(0),i=n(3),o=(n.n(i),n(93)),a=n(9),c=n(4),u=Object(r.f)(25),s=Object(r.f)(2),f=Object(r.f)([1.6,1,1]),d=Object(r.d)([a.names.HOT],function(e){return e.map(function(t,n){return 2*Math.PI*n/e.length})}),v=Object(r.d)([u.HOT,d.HOT,s.HOT],function(e,t,n){return t.map(function(t){var r=-t-Math.PI/2,i=o.a([e,r]),a=i[0],c=i[1];return[a,n,c]})}),l=Object(r.d)([d.HOT,v.HOT,f.HOT],function(e,t,n){return Object(c.d)(e,t,function(e,t){var r=i.mat4.fromTranslation(i.mat4.create(),t);return i.mat4.rotateY(r,r,e),i.mat4.scale(r,r,n),r})})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"canvas",function(){return a}),n.d(t,"painter",function(){return c}),n.d(t,"gl",function(){return u}),n.d(t,"canvasSize",function(){return s}),n.d(t,"settings",function(){return f});var r=n(0),i=n(11),o=n(8),a=(d=Object(i.c)(o.windowSize),d.canvas),c=d.painter,u=d.gl,s=d.canvasSize,f=Object(r.f)({clearColor:[0,0,0,1]}).reset();c.react([f.HOT],function(e,t){return e.updateDrawSettings(t)});var d},,function(e,t){function n(e){var t={size:[1,1,1],segments:[1,1,1]};return e&&(Array.isArray(e.size)?t.size=e.size:"number"==typeof e.size&&(t.size=[e.size,e.size,e.size]),Array.isArray(e.segments)?t.segments=e.segments:"number"==typeof e.segments&&(t.segments=[e.segments,e.segments,e.segments])),t}function r(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)t.push(r[i]);return t}function i(e){var t=a(e),n=u(e),i=r(t);return{positions:i,cells:n,uvs:o(e,i),vertexCount:(e.sx+1)*(e.sy+1)}}function o(e,t){return t.map(function(t){return[t[0]/e.wx+.5,t[1]/e.wy+.5]})}function a(e){for(var t=e.wy/e.sy,n=e.wy/2,r=e.sy+1,i=Array(r),o=0;o<r;o++)i[o]=c(e,t*o-n);return i}function c(e,t){for(var n=e.wx/2,r=e.wx/e.sx,i=e.sx+1,o=Array(i),a=0;a<i;a++)o[a]=[r*a-n,t];return o}function u(e){function t(t,n){return(e.sx+1)*n+t}for(var n=[],r=0;r<e.sx;r++)for(var i=0;i<e.sy;i++){var o=t(r+0,i+0),a=t(r+1,i+0),c=t(r+1,i+1),u=t(r+0,i+1);n.push([o,a,c]),n.push([c,u,o])}return n}function s(e){return{positions:e.positions,cells:e.cells,uvs:e.uvs,vertexCount:e.vertexCount}}function f(e){var t=e.size,n=e.segments,r=i({wx:t[0],wy:t[1],sx:n[0],sy:n[1]}),o=i({wx:t[2],wy:t[1],sx:n[2],sy:n[1]}),a=i({wx:t[0],wy:t[2],sx:n[0],sy:n[2]}),c=s(r),u=s(o),f=s(a);return r.positions=r.positions.map(function(e){return[e[0],e[1],t[2]/2]}),c.positions=c.positions.map(function(e){return[e[0],-e[1],-t[2]/2]}),o.positions=o.positions.map(function(e){return[t[0]/2,-e[1],e[0]]}),u.positions=u.positions.map(function(e){return[-t[0]/2,e[1],e[0]]}),a.positions=a.positions.map(function(e){return[e[0],t[1]/2,-e[1]]}),f.positions=f.positions.map(function(e){return[e[0],-t[1]/2,e[1]]}),r.normals=d([0,0,1],r.positions.length),c.normals=d([0,0,-1],c.positions.length),o.normals=d([1,0,0],o.positions.length),u.normals=d([-1,0,0],u.positions.length),a.normals=d([0,1,0],a.positions.length),f.normals=d([0,-1,0],f.positions.length),[r,c,o,u,a,f]}function d(e,t){for(var n=Array(t),r=0;r<t;r++)n[r]=e.slice();return n}function v(e){var t=f(e),n=t.map(function(e){return e.positions}),i=t.map(function(e){return e.uvs}),o=t.map(function(e){return e.normals}),a=l(t);return{positions:r(n),uvs:r(i),cells:r(a),normals:r(o)}}function l(e){var t=0;return e.map(function(e){var n=e.cells.map(function(e){return e.map(function(e){return e+t})});return t+=e.vertexCount,n})}e.exports=function(e){return v(n(e))}},function(e,t,n){"use strict";function r(e){for(var t=[],n=0,r=e;n<r.length;n++)for(var i=r[n],o=0,a=i;o<a.length;o++){var c=a[o];t.push(c)}return t}function i(e){var t={drawType:"TRIANGLES",attribs:{},itemCount:0};for(var n in e){var i=e[n];if(n===s){var f=new(i.length>65535?Uint32Array:Uint16Array)(r(i));Object.assign(t,{elements:{buffer:f},itemCount:f.length})}else n===a?t.attribs[o.b]={buffer:new Float32Array(r(i))}:n===c?t.attribs[o.a]={buffer:new Float32Array(r(i))}:n===u?t.attribs[o.c]={buffer:new Float32Array(r(i))}:t.attribs[n]={buffer:new Float32Array(r(i))}}return t}t.a=i;var o=n(31),a="positions",c="normals",u="uvs",s="cells"},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o});var r="position",i="normal",o="uv"},,function(e,t,n){"use strict";function r(e,t){var n=Object(u.a)([e.HOT],function(e,t){var n=t.createShade();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function i(e,t){var n=Object(u.a)([e.HOT],function(e,t){var n=t.createForm();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function o(e,t){var n=Object(u.a)([e.HOT],function(e,t){var n=t.createSketch();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function a(e,t){var n=Object(u.a)([e.HOT],function(e,t){var n=t.createDrawingLayer();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}function c(e,t){var n=Object(u.a)([e.HOT],function(e,t){var n=t.createEffectLayer();return e(n),n.destroy});return t&&n.react([t.HOT],function(e,t){return e.update(t)}),n}t.d=r,t.c=i,t.e=o,t.a=a,t.b=c;var u=n(10);n(28),n(13),n(34)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e!==t}},function(e,t,n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t|e[n.toUpperCase()+"_BUFFER_BIT"]},0)}t.a=r},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scale",function(){return u}),n.d(t,"transforms",function(){return s});var r=n(0),i=n(3),o=(n.n(i),n(50)),a=n(25),c=n(4),u=Object(r.f)([1.65,1,1]),s=Object(r.d)([a.rotations.HOT,a.positions.HOT,u.HOT],function(e,t,n){return Object(c.d)(e,t,function(e,t){var r=o.b(t,1.045);r[1]-=1.9;var a=i.mat4.fromTranslation(i.mat4.create(),r);return i.mat4.rotateY(a,a,e),i.mat4.scale(a,a,n),a})})},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]*t;return n}function i(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r*r}return Math.sqrt(t)}t.b=r,t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"position",function(){return d}),n.d(t,"rotX",function(){return v}),n.d(t,"rotY",function(){return l}),n.d(t,"rotation",function(){return p}),n.d(t,"view",function(){return m}),n.d(t,"perspectiveSettings",function(){return y}),n.d(t,"perspective",function(){return g}),n.d(t,"moveSpeed",function(){return O}),n.d(t,"lookSpeed",function(){return x}),n.d(t,"moveForward",function(){return w}),n.d(t,"moveLeft",function(){return b}),n.d(t,"mouseDrag",function(){return h}),n.d(t,"dragDeltas",function(){return j}),n.d(t,"groundMirrorView",function(){return _});var r=n(0),i=n(26),o=n(27),a=n(5),c=n(3),u=(n.n(c),n(8)),s=n(22),f=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},d=(T=i.a(),T.position),v=T.rotX,l=T.rotY,p=T.rotation,m=T.view,y=(H=i.b(o.canvasSize),H.perspectiveSettings),g=H.perspective;y.updateVal(function(e){return f({},e,{fovy:.4*Math.PI})});var O=Object(r.f)(.05),x=Object(r.f)(.002),w=Object(r.a)([u.keys.COLD,O.COLD,u.tick.HOT],function(e,t,n,r){t&&((t[a.a.UP]||t[a.a.W])&&e(n),(t[a.a.DOWN]||t[a.a.S])&&e(-n))}),b=Object(r.a)([u.keys.COLD,O.COLD,u.tick.HOT],function(e,t,n){t&&((t[a.a.LEFT]||t[a.a.A])&&e(n),(t[a.a.RIGHT]||t[a.a.D])&&e(-n))}),h=Object(r.d)([u.mouse.HOT],function(e){return{x:e.drag.x,y:e.drag.y}}),j=Object(r.c)(h,function(e,t){return{x:0===e.x?e.x:t.x-e.x,y:0===e.y?e.y:t.y-e.y}}).accept(function(e){return!(!e||!e.x&&!e.y)});v.react([j.HOT,x.COLD],function(e,t,n){return e+t.y*n}),l.react([j.HOT,x.COLD],function(e,t,n){return e+t.x*n}),d.react([b.HOT,p.COLD],function(e,t,n){var r=c.vec3.fromValues(n.rotY[0],n.rotY[1],n.rotY[2]);return c.vec3.add(e,e,c.vec3.scale(r,r,-t))}),d.react([w.HOT,p.COLD],function(e,t,n){var r=c.vec3.fromValues(n.rotY[8],n.rotY[9],n.rotY[10]);return c.vec3.add(e,e,c.vec3.scale(r,r,-t))});var T,H,_=Object(r.f)(c.mat4.create()).react([m.HOT,s.mirrorMatrix.HOT],c.mat4.multiply)},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"blurStrength",function(){return i}),n.d(t,"layersData",function(){return o});var r=n(0),i=Object(r.f)(10),o=Object(r.d)([i.HOT],function(e){for(var t=[];e>=1;)t.push({direction:0,strength:e}),t.push({direction:1,strength:e}),e/=2;return t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"size",function(){return c}),n.d(t,"segments",function(){return u}),n.d(t,"geometry",function(){return s});var r=n(0),i=n(29),o=n.n(i),a=n(30),c=Object(r.f)([10,14,2]),u=Object(r.f)([5,7,1]),s=Object(r.d)([c.HOT,u.HOT],function(e,t){return Object(a.a)(o()({size:e,segments:t}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"props",function(){return o}),n.d(t,"geometry",function(){return a});var r=n(32),i=n(0),o=Object(i.f)({width:10,height:10,segX:5,segY:5}),a=Object(i.d)([o.HOT],function(e){return Object(r.a)(e.width,e.height,e.segX,e.segY)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"frag",function(){return a});var r=n(0),i=n(103),o=n.n(i),a=Object(r.f)(o.a).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return u});var r=n(0),i=n(104),o=n.n(i),a=n(105),c=n.n(a),u=Object(r.f)({vert:o.a,frag:c.a}).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return u});var r=n(0),i=n(106),o=n.n(i),a=n(107),c=n.n(a),u=Object(r.f)({vert:o.a,frag:c.a}).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return u});var r=n(0),i=n(108),o=n.n(i),a=n(109),c=n.n(a),u=Object(r.f)({vert:o.a,frag:c.a}).reset()},,,,,,,,,function(e,t,n){e.exports=n(71)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72),i=n(18),o=n(81);r.a.setDebug(!0),Object(i.a)(r.a,o),r.b.updateFlow(r.a),setTimeout(function(){r.a.setDebug(!1)},1e3)},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n(16),i=n(17),o=(n.n(i),n(74)),a=n.n(o),c=r.a(),u=i.ui.start("hommage",{graph:a.a});window.flow=c,window.tools=u},,function(e,t){e.exports={"events.tick":{x:76.37013521738253,y:967.8899375261426},"events.tickStep":{x:-88.54211021864192,y:1149.5365811578254},"events.tickCounter":{x:-86.42228704674415,y:1025.2726218196487},"events.slowTick":{x:-89.39012731866174,y:909.1161590323211},"events.windowSize":{x:-321.5586674242749,y:75.69464521831355},"events.mouse":{x:84.64912924067285,y:1160.0565503448497},"events.keys":{x:79.03973887451365,y:1314.3952534337925},"events.mouseDrag":{x:474.4023259424609,y:1322.7508623644567},"state.ground.position":{x:592.7404100568693,y:624.031846800227},"state.ground.normal":{x:504.7884520353441,y:714.5222912429182},"state.ground.scale":{x:797.9947351233101,y:630.5047118228944},"state.ground.transform":{x:698.2485552304572,y:559.4338492923177},"state.ground.planeEquation":{x:631.9337813902545,y:724.2228367000495},"state.ground.mirrorMatrix":{x:715.5861218389874,y:714.071908209991},"state.pedestals.scale":{x:647.253423275873,y:364.49536428853844},"state.pedestals.transforms":{x:564.9359466056333,y:362.17044822954483},"state.screens.radius":{x:406.8475962909673,y:951.3303280816247},"state.screens.height":{x:493.91266724747953,y:935.1046468058489},"state.screens.scale":{x:355.988578249499,y:690.4597199966503},"state.screens.rotations":{x:317.1936869081563,y:849.2562322426841},"state.screens.positions":{x:445.62061738472056,y:832.93919050267},"state.screens.transforms":{x:247.26046803440056,y:730.7944432890839},"videos.names":{x:-240.9605196924283,y:871.0833947024504},"videos.videosUrl":{x:-347.41035113278747,y:626.539953383678},"videos.loadTimeout":{x:-348.6475316951279,y:717.3067731881337},"videos.videos":{x:-230.12750364632961,y:751.6924508089568},"view.camera.position":{x:790.3398564642989,y:909.0243066769095},"view.camera.yaw":{x:979.7292995097882,y:1024.1723831431384},"view.camera.pitch":{x:866.931176093401,y:1017.613940816167},"view.camera.yawQuat":{x:950.7250700056459,y:985.2994559326827},"view.camera.pitchQuat":{x:848.6194783856471,y:990.4232465306249},"view.camera.rotationQuat":{x:886.0279826893238,y:862.2376098902693},"view.camera.view":{x:846.7302436434592,y:718.659045690319},"view.camera.fovy":{x:909.7380213367651,y:397.25748549932973},"view.camera.aspect":{x:828.8830993669557,y:306.5148271889604},"view.camera.near":{x:923.4260311370798,y:491.02928225574874},"view.camera.far":{x:855.5649608378067,y:540.3694536732753},"view.camera.perspective":{x:781.7706423474369,y:434.0524770138193},"view.camera.moveSpeed":{x:597.9945683686861,y:1143.371211706991},"view.camera.lookSpeed":{x:889.8335434674065,y:1198.7719519060117},"view.camera.moveForward":{x:648.3435930868013,y:1013.6221826793449},"view.camera.moveLeft":{x:733.9361829891851,y:1068.4109397705483},"view.camera.groundMirrorView":{x:675.6861671117312,y:875.9000552412393},"view.context.context":{x:828.1487644249696,y:444.6804810288013},"view.context.canvas":{x:562.0466731353072,y:1007.8653299673556},"view.context.canvasSize":{x:562.1710007262274,y:823.4757086322784},"view.effects.ground-reflection.idPrefix":{x:522.4912120851072,y:232.74836492468168},"view.effects.ground-reflection.passes":{x:590.0198178576956,y:149.12624196425492},"view.effects.ground-reflection.ids":{x:680.4206899259791,y:292.7584523164205},"view.effects.ground-reflection.layersData":{x:-192.28551172745892,y:348.71286741648436},"view.geometries.box.id":{x:1029.5525109457433,y:472.68211532913733},"view.geometries.box.size":{x:-159.69285555560447,y:-444.68327993863016},"view.geometries.box.segments":{x:-246.5105025242645,y:-467.50383894006865},"view.geometries.box.geometry":{x:-201.86152502274976,y:-325.56369819511843},"view.geometries.plane.id":{x:953.8170285043042,y:595.8553833490097},"view.geometries.plane.props":{x:-20.775144708776157,y:-444.4948568850864},"view.geometries.plane.geometry":{x:-11.706444326645107,y:-340.5392636976263},"view.renderer.settings":{x:1042.9195868646505,y:726.4928330927078},"view.renderer.groundId":{x:884.723659471565,y:591.3077890907022},"view.renderer.sceneLayerId":{x:939.1584036320023,y:682.0469810481528},"view.renderer.mirrorSceneLayerId":{x:828.1793170264023,y:637.8534834855615},"view.renderer.layers":{x:131.8588844592779,y:255.05405553172773},"view.renderer.render":{x:827.0244621752382,y:737.5311206996205},"view.shaders.ground-reflection.id":{x:1109.0648188588332,y:443.256993660846},"view.shaders.ground-reflection.spec":{x:1097.5023436070187,y:379.8357597038137},"view.shaders.ground.id":{x:951.4119381195983,y:392.2938787000862},"view.shaders.ground.spec":{x:117.06845546598672,y:-352.3781185348165},"view.shaders.object.id":{x:810.5860490583541,y:237.59669964236718},"view.shaders.object.spec":{x:379.0755217658776,y:-352.52570544330433},"view.shaders.screen.id":{x:957.4036693689073,y:252.17528500161927},"view.shaders.screen.spec":{x:263.6191586482107,y:-351.18688610339007},"view.effects.ground-reflection.blurStrength":{x:-345.60366357546985,y:327.67609327248886},"view.painter.canvas":{x:-319.48762399373373,y:-62.03968334452382},"view.painter.painter":{x:138.78817453681478,y:97.5842379795651},"view.painter.gl":{x:-125.42149986426554,y:-59.55606229289543},"view.painter.canvasSize":{x:-22.430947669878467,y:100.40913184342033},"view.painter.settings":{x:430.98345411350965,y:94.05643707740764},"view.renderer.boxForm":{x:-200.55316140856522,y:-241.68856914295444},"view.renderer.planeForm":{x:-12.781744194991061,y:-235.45380938571012},"view.renderer.groundShade":{x:118.23712320620626,y:-234.85350411335045},"view.renderer.objectShade":{x:378.4782987226048,y:-243.34962202464104},"view.renderer.screenShade":{x:263.5664421644574,y:-242.52129725993902},"view.renderer.videoTextures":{x:-67.54484217344844,y:726.1716072493961},"view.renderer.groundSketch":{x:301.02434057322114,y:260.69070271021934},"view.renderer.screenSketch":{x:313.87183327383883,y:521.8017717630416},"view.renderer.pedestalSketch":{x:307.5084662318118,y:390.7504457136656},"view.renderer.drawSettings":{x:-149.98267232831833,y:523.5973752265169},"view.renderer.sceneLayer":{x:-61.68510190196802,y:443.23190846334165},"view.renderer.mirrorSceneLayer":{x:-67.04531865411052,y:585.1263787346121},"view.renderer.effectSettings":{x:-194.8937377441701,y:173.30614401111063},"view.renderer.effectLayer":{x:-57.52895070372746,y:310.4618039969952},"view.shaders.ground-reflection.frag":{x:-196.04242909270076,y:269.6326479926565},"view.camera.perspectiveSettings":{x:787.2897812836087,y:302.1874485076259},"view.camera.rotation":{x:916.7472111414572,y:897.3703048642972},"view.camera.rotX":{x:976.2769558185639,y:1023.9768601392549},"view.camera.rotY":{x:869.7332379459998,y:1020.3363808980113}}},,,,,,,function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./events.ts":8,"./state/ground.ts":22,"./state/pedestals.ts":49,"./state/screens.ts":25,"./videos.ts":9,"./view/camera.ts":51,"./view/effects/ground-reflection.ts":55,"./view/geometries/box.ts":56,"./view/geometries/plane.ts":57,"./view/painter.ts":27,"./view/renderer.ts":102,"./view/shaders/ground-reflection.ts":58,"./view/shaders/ground.ts":59,"./view/shaders/object.ts":60,"./view/shaders/screen.ts":61};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=81},,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=e[0],n=e[1];return[t*Math.cos(n),t*Math.sin(n)]}t.a=r;n(50)},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"boxForm",function(){return j}),n.d(t,"planeForm",function(){return T}),n.d(t,"groundShade",function(){return H}),n.d(t,"objectShade",function(){return _}),n.d(t,"screenShade",function(){return S}),n.d(t,"videoTextures",function(){return D}),n.d(t,"groundSketch",function(){return L}),n.d(t,"screenSketch",function(){return M}),n.d(t,"pedestalSketch",function(){return C}),n.d(t,"drawSettings",function(){return z}),n.d(t,"sceneLayer",function(){return F}),n.d(t,"mirrorSceneLayer",function(){return P}),n.d(t,"effectSettings",function(){return k}),n.d(t,"effectLayer",function(){return Y}),n.d(t,"layers",function(){return I});var r=n(0),i=n(27),o=n(33),a=n(8),c=n(9),u=n(51),s=n(56),f=n(57),d=n(58),v=n(59),l=n(60),p=n(61),m=n(22),y=n(25),g=n(49),O=n(55),x=n(4),w=n(35),b=n(54),h=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},j=Object(o.c)(i.painter,s.geometry),T=Object(o.c)(i.painter,f.geometry),H=Object(o.d)(i.painter,v.spec),_=Object(o.d)(i.painter,l.spec),S=Object(o.d)(i.painter,p.spec),D=Object(r.d)([i.painter.HOT,c.names.HOT],function(e,t){return t.map(function(){return e.createStaticLayer().update({flipY:!0,minFilter:"LINEAR",wrap:"CLAMP_TO_EDGE"})})}).react([c.videos.HOT,a.slowTick.HOT],function(e,t,n){e.forEach(function(e,n){return e.update({asset:t[n]})})}).accept(b.a),L=Object(o.e)(i.painter).react([H.HOT,T.HOT,m.transform.HOT,i.canvasSize.HOT],function(e,t,n,r,i){return e.update({form:n,shade:t,uniforms:{transform:r,reflection:null,size:[i.width,i.height]}})}),M=Object(o.e)(i.painter).react([S.HOT,T.HOT,y.transforms.HOT,D.HOT],function(e,t,n,r,i){return e.update({form:n,shade:t,uniforms:Object(x.d)(r,i,function(e,t){return{transform:e,video:t.texture()}})})}),C=Object(o.e)(i.painter).react([_.HOT,j.HOT,g.transforms.HOT],function(e,t,n,r){return e.update({form:n,shade:t,uniforms:r.map(function(e){return{transform:e}})})}),z=Object(r.d)([i.gl.HOT],function(e){return{clearBits:Object(w.a)(e,"color","depth")}}),F=Object(o.a)(i.painter).react([M.HOT,C.HOT,L.HOT,z.HOT,u.view.COLD,u.perspective.COLD],function(e,t,n,r,i,o,a){return e.update({sketches:[t,n,r],drawSettings:i,uniforms:{view:o,projection:a,withDistance:0,groundHeight:0}})}),P=Object(o.a)(i.painter).react([M.HOT,C.HOT,m.position.HOT,z.HOT,u.groundMirrorView.COLD,u.perspective.COLD],function(e,t,n,r,i,o,a){return e.update({flipY:!0,sketches:[t,n],drawSettings:i,uniforms:{view:o,projection:a,withDistance:1,groundHeight:r[1]}})}),k=Object(r.d)([i.gl.HOT],function(e){return{disable:[e.DEPTH_TEST]}}),Y=Object(o.b)(i.painter).react([O.layersData.HOT,d.frag.HOT,i.canvasSize.HOT,k.HOT],function(e,t,n,r,i){return e.update({frag:n,drawSettings:i,uniforms:t.map(function(e){return h({source:null},e,{size:[r.width,r.height]})})})}),I=Object(r.d)([P.HOT,Y.HOT,F.HOT],function(e,t,n){return[[e,!0],[t,!0],[n,!0]].filter(function(e){return e[1]}).map(function(e){return e[0]})});i.painter.react([I.COLD,a.tick.HOT],function(e,t,n){return e.compose.apply(null,t)})},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\nvec4 blur9_1_0(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\n\n\nuniform sampler2D source;\nuniform vec2 size;\nuniform float direction;\nuniform float strength;\n\nvarying vec2 coords;\n\nvoid main() {\n\tvec2 uv = coords;\n\tvec4 refl = texture2D(source, uv);\n\tfloat dist = refl.a * strength + 0.2;\n\n\tif (direction == 0.0) {\n\t\tgl_FragColor = vec4(blur9_1_0(source, uv, size, vec2(dist, 0)).rgb, refl.a);\n\t} else {\n\t\tgl_FragColor = vec4(blur9_1_0(source, uv, size, vec2(0, dist)).rgb, refl.a);\n\t}\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\n\nvarying float dist;\n\nvoid main() {\n\tvec4 pos = transform * vec4(position, 1.0);\n\tdist = length(pos.xyz);\n\tgl_Position = projection * view * pos;\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D reflection;\nuniform vec2 size;\n\nvarying float dist;\n\nvoid main() {\n\tfloat scale = (50.0 - dist) / 50.0;\n\tvec4 refl = texture2D(reflection, gl_FragCoord.xy / size);\n\tvec4 ground = vec4(vec3(scale * 0.6), 1.0);\n\tgl_FragColor = mix(ground, vec4(refl.rgb, 1.0), refl / 2.0 + 0.25);\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\nuniform float groundHeight;\n\nvarying float dist;\nvarying float height;\n\nvoid main() {\n\tvec4 pos = transform * vec4(position, 1.0);\n\tdist = length(pos.xyz);\n\theight = (pos.y - groundHeight) / 10.0;\n\tgl_Position = projection * view * pos;\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform int withDistance;\n\nvarying float dist;\nvarying float height;\n\nvoid main() {\n\tfloat scale = (50.0 - dist) / 50.0;\n\tif (withDistance == 0) {\n\t\tgl_FragColor = vec4(vec3(scale * 0.6), 1.0);\n\t} else {\n\t\tgl_FragColor = vec4(vec3(scale * 0.6), height);\n\t\t// gl_FragColor = vec4(vec3(height), 1.0);\n\t}\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\nuniform float groundHeight;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\n\nvarying vec2 vUv;\nvarying float height;\n\nvoid main() {\n\tvUv = uv;\n\tvec4 pos = transform * vec4(position, 1.0);\n\theight = (pos.y - groundHeight) / 10.0;\n\tgl_Position = projection * view * pos;\n}\n"},function(e,t){e.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D video;\nuniform int withDistance;\n\nvarying vec2 vUv;\nvarying float height;\n\nvoid main() {\n\tvec4 tex = texture2D(video, vUv);\n\tif (withDistance == 0) {\n\t\tgl_FragColor = vec4(tex.rgb, 1.0);\n\t} else {\n\t\tgl_FragColor = vec4(tex.rgb, height);\n\t\t// gl_FragColor = vec4(vec3(height), 1.0);\n\t}\n}\n"}],[70]);
//# sourceMappingURL=main.js.map