!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=73)}([function(t,e,n){"use strict";function r(t,e){return e?e+"."+t:t}function i(t){var e,n,i,a=t.value,u=Object(d.a)(),s=[],c={};return c.HOT={entity:c,type:f.a.HOT},c.COLD={entity:c,type:f.a.COLD},c.id=function(t,n){return u=r(t,n),e=n,c},c.val=function(t){return a=t,c},c.updateVal=function(t){return a=t(a),c},c.accept=function(t){return n=t,c},c.reset=function(){return i=!0,c},c.getId=function(){return u},t.procedure&&s.push(t),c.react=function(t,e,n){var r=o(t,e,n);r.pidSuffix=v;var i=r.dependencies;return r.dependencies=[{entity:c,type:f.a.ACCUMULATOR}],i&&i.length&&(r.dependencies=r.dependencies.concat(i)),s.push(r),c},c.getGraph=function(){var t=l.a();return t.entities[u]=Object(f.c)({id:u,value:a,accept:n,reset:i}),s.forEach(function(n){var i=n.dependencies,a=n.processId?r(n.processId,e):u+n.pidSuffix+(i&&i.length?":"+i.reduce(function(t,e){var n=e.entity.getId();return n===u?t:t+":"+n},""):""),o=[];i&&i.forEach(function(e,n){if(o[n]=e.type,e.type!==f.a.ACCUMULATOR){var r=Object(f.b)({process:a,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var s=Object(f.b)({process:a,entity:u});t.arcs[s.id]=s,t.processes[a]=Object(f.d)({id:a,ports:o,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},c}function a(t){return i({value:t})}function o(t,e,n){var r={procedure:e};return null!=t&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=h,r}function u(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}function s(t,e){for(var n in t){var r=t[n];u(r)&&r.id(n,e)}return t}function c(t){var e=[];for(var n in t){var r=t[n];u(r)&&e.push(r)}return e.reduce(function(t,e){return l.b(t,e.getGraph())},l.a())}e.i=a,n.d(e,"g",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"h",function(){return y}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return M}),e.e=u,e.f=s,e.d=c;var l=n(22),f=n(6),d=n(7),p=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},h="Stream",v="Reaction",m=function(t,e,n){return i(o(t,e,n))},g=function(t,e,n){return i(p({},o(t,e,n),{async:!0}))},y=function(t,e,n){return i(p({},o(t,e,n),{autostart:!0}))},b=function(t,e,n){return i(p({},o(t,e,n),{async:!0,autostart:!0}))},M=function(t,e,n){return i(p({},o([t.HOT],e,n),{delta:!0}))}},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){e.glMatrix=n(1),e.mat2=n(26),e.mat2d=n(27),e.mat3=n(8),e.mat4=n(28),e.quat=n(29),e.vec2=n(30),e.vec3=n(9),e.vec4=n(10)},function(t,e,n){"use strict";function r(t){return W[t].bindPoint}function i(t,e){return function(n){t.uniform1f(e,n)}}function a(t,e){return function(n){t.uniform1fv(e,n)}}function o(t,e){return function(n){t.uniform2fv(e,n)}}function u(t,e){return function(n){t.uniform3fv(e,n)}}function s(t,e){return function(n){t.uniform4fv(e,n)}}function c(t,e){return function(n){t.uniform1i(e,n)}}function l(t,e){return function(n){t.uniform1iv(e,n)}}function f(t,e){return function(n){t.uniform2iv(e,n)}}function d(t,e){return function(n){t.uniform3iv(e,n)}}function p(t,e){return function(n){t.uniform4iv(e,n)}}function h(t,e){return function(n){t.uniform1ui(e,n)}}function v(t,e){return function(n){t.uniform1uiv(e,n)}}function m(t,e){return function(n){t.uniform2uiv(e,n)}}function g(t,e){return function(n){t.uniform3uiv(e,n)}}function y(t,e){return function(n){t.uniform4uiv(e,n)}}function b(t,e){return function(n){t.uniformMatrix2fv(e,!1,n)}}function M(t,e){return function(n){t.uniformMatrix3fv(e,!1,n)}}function _(t,e){return function(n){t.uniformMatrix4fv(e,!1,n)}}function S(t,e){return function(n){t.uniformMatrix2x3fv(e,!1,n)}}function O(t,e){return function(n){t.uniformMatrix3x2fv(e,!1,n)}}function x(t,e){return function(n){t.uniformMatrix2x4fv(e,!1,n)}}function T(t,e){return function(n){t.uniformMatrix4x2fv(e,!1,n)}}function E(t,e){return function(n){t.uniformMatrix3x4fv(e,!1,n)}}function I(t,e){return function(n){t.uniformMatrix4x3fv(e,!1,n)}}function w(t,e,n,i){var a=r(e);return function(e){t.uniform1i(i,n),t.activeTexture(t.TEXTURE0+n),t.bindTexture(a,e)}}function D(t,e,n,i,a){for(var o=r(e),u=new Int32Array(a),s=0;s<a;++s)u[s]=n+s;return function(e){t.uniform1iv(i,u);for(var n in e)t.activeTexture(t.TEXTURE0+u[n]),t.bindTexture(o,e[n])}}function A(t){return null===t.Type}function F(t,e,n){return function(r){t.bindBuffer(t.ARRAY_BUFFER,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,n.itemSize,B.d.FLOAT,r.normalize||!1,r.stride||0,r.offset||0)}}function N(t,e,n){return function(r){t.bindBuffer(t.ARRAY_BUFFER,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,n.itemSize,B.d.INT,r.stride||0,r.offset||0)}}function j(t,e,n){var r=n.size,i=n.count;return function(n){t.bindBuffer(t.ARRAY_BUFFER,n.buffer);for(var a=r,o=a/i,u=W[B.d.FLOAT],s=u.size*a,c=n.normalize||!1,l=n.offset||0,f=s/i,d=0;d<i;++d)t.enableVertexAttribArray(e+d),t.vertexAttribPointer(e+d,o,B.d.FLOAT,c,s,l+f*d)}}function R(t,e){for(var n=0,r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<i;++a){var o=t.getActiveUniform(e,a);if(!o)break;var u=o.name;if("[0]"===u.substr(-3)&&(u=u.substr(0,u.length-3)),e){var s=function(e,r){var i=t.getUniformLocation(e,r.name),a=r.size>1&&"[0]"===r.name.substr(-3),o=r.type,u=W[o];if(!u)throw"unknown type: 0x"+o.toString(16);if(null!=i){var s;if(A(u)){var c=n;n+=r.size,s=a?u.arraySetter(t,o,c,i,r.size):u.setter(t,o,c,i)}else s=u.arraySetter&&a?u.arraySetter(t,i):u.setter(t,i);return{setter:s,location:i}}}(e,o);s&&(r[u]=s)}}return r}function P(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=t.getActiveAttrib(e,i);if(!a)break;var o=t.getAttribLocation(e,a.name),u=q[a.type],s=u.setter(t,o,u);n[a.name]={setter:s,location:o}}return n}function k(t){if(t instanceof Int8Array)return B.d.BYTE;if(t instanceof Uint8Array)return B.d.UNSIGNED_BYTE;if(t instanceof Uint8ClampedArray)return B.d.UNSIGNED_BYTE;if(t instanceof Int16Array)return B.d.SHORT;if(t instanceof Uint16Array)return B.d.UNSIGNED_SHORT;if(t instanceof Int32Array)return B.d.INT;if(t instanceof Uint32Array)return B.d.UNSIGNED_INT;if(t instanceof Float32Array)return B.d.FLOAT;throw"unsupported typed array type"}function C(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),null!=e.flipY&&e.flipY!==n.flipY&&t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY),e.wrap&&e.wrap!==n.wrap||e.wrapS&&e.wrapS!==n.wrapS||e.wrapT&&e.wrapT!==n.wrapT){var r=void 0,i=void 0;e.wrap?r=i=e.wrap:(i=e.wrapT||"CLAMP_TO_EDGE",r=e.wrapS||"CLAMP_TO_EDGE"),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t[r]),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t[i])}e.magFilter&&e.magFilter!==n.magFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t[e.magFilter]),e.minFilter&&e.minFilter!==n.minFilter&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t[e.minFilter])}function L(t,e,n,r){if(null!=e.width&&null!=e.height){null==e.frameBuffer&&(e.frameBuffer=t.createFramebuffer()),e.textures||(e.textures=[]),t.bindFramebuffer(t.FRAMEBUFFER,e.frameBuffer),e.textureConfig.type===t.FLOAT&&t.getExtension("OES_texture_float");var i=e.textureConfig.count;if(i>1){for(var a=t.getExtension("WEBGL_draw_buffers"),o=[],u=0;u<i;u++)o.push(a["COLOR_ATTACHMENT"+u+"_WEBGL"]);a.drawBuffersWEBGL(o);for(var u=0;u<i;u++){null==e.textures[u]&&(e.textures[u]=t.createTexture());var s=e.textures[u];t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),C(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,o[u],t.TEXTURE_2D,s,0)}}else{null==e.textures[0]&&(e.textures[0]=t.createTexture());var s=e.textures[0];t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,e.textureConfig.type,null),C(t,n,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0)}null==e.depthBuffer&&(e.depthBuffer=t.createRenderbuffer()),t.bindRenderbuffer(t.RENDERBUFFER,e.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e.depthBuffer);var c=t.checkFramebufferStatus(t.FRAMEBUFFER);c!==t.FRAMEBUFFER_COMPLETE&&console.error("framebuffer error",c,n),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null)}}function U(t,e){t.deleteFramebuffer(e.frameBuffer),t.deleteRenderbuffer(e.depthBuffer);for(var n=0,r=e.textures;n<r.length;n++){var i=r[n];t.deleteTexture(i)}}function z(t,e){if(e.enable)for(var n=0,r=e.enable;n<r.length;n++){var i=r[n];t.enable(i)}if(e.disable)for(var a=0,o=e.disable;a<o.length;a++){var i=o[a];t.disable(i)}e.blendFunc&&t.blendFunc.apply(t,e.blendFunc),null!=e.depthFunc&&t.depthFunc(e.depthFunc),null!=e.cullFace&&t.cullFace(e.cullFace),null!=e.frontFace&&t.frontFace(e.frontFace),null!=e.lineWidth&&t.lineWidth(e.lineWidth),e.colorMask&&t.colorMask.apply(t,e.colorMask),null!=e.depthMask&&t.depthMask(e.depthMask),e.clearColor&&t.clearColor.apply(t,e.clearColor),null!=e.clearDepth&&t.clearDepth(e.clearDepth),null!=e.clearBits&&t.clear(e.clearBits)}function H(t,e){if(e.enable)for(var n=0,r=e.enable;n<r.length;n++){var i=r[n];t.disable(i)}if(e.disable)for(var a=0,o=e.disable;a<o.length;a++){var i=o[a];t.enable(i)}}e.c=R,e.b=P,e.e=k,e.g=C,e.h=L,e.d=U,e.a=z,e.f=H;var Y,V,G,B=n(4),W=(Y={},Y[B.d.FLOAT]={Type:Float32Array,size:4,setter:i,arraySetter:a},Y[B.d.FLOAT_VEC2]={Type:Float32Array,size:8,setter:o},Y[B.d.FLOAT_VEC3]={Type:Float32Array,size:12,setter:u},Y[B.d.FLOAT_VEC4]={Type:Float32Array,size:16,setter:s},Y[B.d.INT]={Type:Int32Array,size:4,setter:c,arraySetter:l},Y[B.d.INT_VEC2]={Type:Int32Array,size:8,setter:f},Y[B.d.INT_VEC3]={Type:Int32Array,size:12,setter:d},Y[B.d.INT_VEC4]={Type:Int32Array,size:16,setter:p},Y[B.d.UNSIGNED_INT]={Type:Uint32Array,size:4,setter:h,arraySetter:v},Y[B.d.UNSIGNED_INT_VEC2]={Type:Uint32Array,size:8,setter:m},Y[B.d.UNSIGNED_INT_VEC3]={Type:Uint32Array,size:12,setter:g},Y[B.d.UNSIGNED_INT_VEC4]={Type:Uint32Array,size:16,setter:y},Y[B.d.BOOL]={Type:Uint32Array,size:4,setter:c,arraySetter:l},Y[B.d.BOOL_VEC2]={Type:Uint32Array,size:8,setter:f},Y[B.d.BOOL_VEC3]={Type:Uint32Array,size:12,setter:d},Y[B.d.BOOL_VEC4]={Type:Uint32Array,size:16,setter:p},Y[B.d.FLOAT_MAT2]={Type:Float32Array,size:16,setter:b},Y[B.d.FLOAT_MAT3]={Type:Float32Array,size:36,setter:M},Y[B.d.FLOAT_MAT4]={Type:Float32Array,size:64,setter:_},Y[B.d.FLOAT_MAT2X3]={Type:Float32Array,size:24,setter:S},Y[B.d.FLOAT_MAT2X4]={Type:Float32Array,size:32,setter:x},Y[B.d.FLOAT_MAT3X2]={Type:Float32Array,size:24,setter:O},Y[B.d.FLOAT_MAT3X4]={Type:Float32Array,size:48,setter:E},Y[B.d.FLOAT_MAT4X2]={Type:Float32Array,size:32,setter:T},Y[B.d.FLOAT_MAT4X3]={Type:Float32Array,size:48,setter:I},Y[B.d.SAMPLER_2D]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D},Y[B.d.SAMPLER_CUBE]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_CUBE_MAP},Y[B.d.SAMPLER_3D]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_3D},Y[B.d.SAMPLER_2D_SHADOW]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D},Y[B.d.SAMPLER_2D_ARRAY]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D_ARRAY},Y[B.d.SAMPLER_2D_ARRAY_SHADOW]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D_ARRAY},Y[B.d.SAMPLER_CUBE_SHADOW]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_CUBE_MAP},Y[B.d.INT_SAMPLER_2D]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D},Y[B.d.INT_SAMPLER_3D]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_3D},Y[B.d.INT_SAMPLER_CUBE]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_CUBE_MAP},Y[B.d.INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D_ARRAY},Y[B.d.UNSIGNED_INT_SAMPLER_2D]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D},Y[B.d.UNSIGNED_INT_SAMPLER_3D]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_3D},Y[B.d.UNSIGNED_INT_SAMPLER_CUBE]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_CUBE_MAP},Y[B.d.UNSIGNED_INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:w,arraySetter:D,bindPoint:B.d.TEXTURE_2D_ARRAY},Y),q=(V={},V[B.d.FLOAT]={size:4,setter:F,itemSize:1},V[B.d.FLOAT_VEC2]={size:8,setter:F,itemSize:2},V[B.d.FLOAT_VEC3]={size:12,setter:F,itemSize:3},V[B.d.FLOAT_VEC4]={size:16,setter:F,itemSize:4},V[B.d.INT]={size:4,setter:N,itemSize:1},V[B.d.INT_VEC2]={size:8,setter:N,itemSize:2},V[B.d.INT_VEC3]={size:12,setter:N,itemSize:3},V[B.d.INT_VEC4]={size:16,setter:N,itemSize:4},V[B.d.UNSIGNED_INT]={size:4,setter:N,itemSize:1},V[B.d.UNSIGNED_INT_VEC2]={size:8,setter:N,itemSize:2},V[B.d.UNSIGNED_INT_VEC3]={size:12,setter:N,itemSize:3},V[B.d.UNSIGNED_INT_VEC4]={size:16,setter:N,itemSize:4},V[B.d.BOOL]={size:4,setter:N,itemSize:1},V[B.d.BOOL_VEC2]={size:8,setter:N,itemSize:2},V[B.d.BOOL_VEC3]={size:12,setter:N,itemSize:3},V[B.d.BOOL_VEC4]={size:16,setter:N,itemSize:4},V[B.d.FLOAT_MAT2]={size:4,setter:j,count:2},V[B.d.FLOAT_MAT3]={size:9,setter:j,count:3},V[B.d.FLOAT_MAT4]={size:16,setter:j,count:4},V);G={},G[B.d.BYTE]=Int8Array,G[B.d.UNSIGNED_BYTE]=Uint8Array,G[B.d.SHORT]=Int16Array,G[B.d.UNSIGNED_SHORT]=Uint16Array,G[B.d.INT]=Int32Array,G[B.d.UNSIGNED_INT]=Uint32Array,G[B.d.FLOAT]=Float32Array,G[B.d.UNSIGNED_SHORT_4_4_4_4]=Uint16Array,G[B.d.UNSIGNED_SHORT_5_5_5_1]=Uint16Array,G[B.d.UNSIGNED_SHORT_5_6_5]=Uint16Array,G[B.d.HALF_FLOAT]=Uint16Array,G[B.d.UNSIGNED_INT_2_10_10_10_REV]=Uint32Array,G[B.d.UNSIGNED_INT_10F_11F_11F_REV]=Uint32Array,G[B.d.UNSIGNED_INT_5_9_9_9_REV]=Uint32Array,G[B.d.FLOAT_32_UNSIGNED_INT_24_8_REV]=Uint32Array,G[B.d.UNSIGNED_INT_24_8]=Uint32Array},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return u}),n.d(e,"d",function(){return s});var r="position",i="normal",a="uv",o="source",u="coords",s={FLOAT:5126,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FLOAT_MAT2X3:35685,FLOAT_MAT2X4:35686,FLOAT_MAT3X2:35687,FLOAT_MAT3X4:35688,FLOAT_MAT4X2:35689,FLOAT_MAT4X3:35690,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT:5125,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_3D:32879,TEXTURE_2D_ARRAY:35866,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042}},function(t,e,n){"use strict";function r(t){var e=t.getContext("webgl")||t.getContext("experimental-webgl");if(null==e)throw Error("Webgl context cannot be initialized");return e}function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e|t[n.toUpperCase()+"_BUFFER_BIT"]},0)}function a(t,e){void 0===e&&(e=1),e=Math.max(1,e);var n=t.clientWidth*e|0,r=t.clientHeight*e|0;return(t.width!==n||t.height!==r)&&(t.width=n,t.height=r,!0)}e.a=r,e.b=i,e.c=a},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?Object(o.a)():e,r=t.value,i=t.json,a=t.accept,u=t.reset,s=t.meta;return void 0===r&&i&&(r=JSON.parse(i)),{id:n,value:r,accept:a,reset:u,meta:s}}function i(t,e){var n=t.id,r=void 0===n?Object(o.a)():n,i=t.ports,a=void 0===i?[]:i,c=t.procedure,l=t.code,f=t.autostart,d=void 0!==f&&f,p=t.async,h=void 0!==p&&p,v=t.delta,m=void 0!==v&&v,g=t.meta;if(null==c&&null!=l&&(c=Object(u.a)(l,e)),null==c)throw TypeError("Process must have procedure or code set");return m&&!a.length&&a.push(s.HOT),{id:r,ports:a,procedure:c,autostart:d,async:h,delta:m,meta:g}}function a(t){var e=t.id,n=t.entity,r=t.process,i=t.port,a=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:e,entity:n,process:r,port:i,meta:a}}e.c=r,e.d=i,e.b=a,n.d(e,"a",function(){return s});var o=n(7),u=n(16),s={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";function r(t){var e=u,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}function i(){var t=o();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,r(t)}e.a=i;for(var a=new Array(16),o=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),a[t]=e>>>((3&t)<<3)&255);return a},u=[],s={},c=0;c<256;c++)u[c]=(c+256).toString(16).substr(1),s[u[c]]=c},function(t,e,n){var r=n(1),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,n,i,a,o,u,s,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=i,l[4]=a,l[5]=o,l[6]=u,l[7]=s,l[8]=c,l},i.set=function(t,e,n,r,i,a,o,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=l*o-u*c,d=-l*a+u*s,p=c*a-o*s,h=n*f+r*d+i*p;return h?(h=1/h,t[0]=f*h,t[1]=(-l*r+i*c)*h,t[2]=(u*r-i*o)*h,t[3]=d*h,t[4]=(l*n-i*s)*h,t[5]=(-u*n+i*a)*h,t[6]=p*h,t[7]=(-c*n+r*s)*h,t[8]=(o*n-r*a)*h,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=e[8];return t[0]=o*l-u*c,t[1]=i*c-r*l,t[2]=r*u-i*o,t[3]=u*s-a*l,t[4]=n*l-i*s,t[5]=i*a-n*u,t[6]=a*c-o*s,t[7]=r*s-n*c,t[8]=n*o-r*a,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8];return e*(c*a-o*s)+n*(-c*i+o*u)+r*(s*i-a*u)},i.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=n[0],p=n[1],h=n[2],v=n[3],m=n[4],g=n[5],y=n[6],b=n[7],M=n[8];return t[0]=d*r+p*o+h*c,t[1]=d*i+p*u+h*l,t[2]=d*a+p*s+h*f,t[3]=v*r+m*o+g*c,t[4]=v*i+m*u+g*l,t[5]=v*a+m*s+g*f,t[6]=y*r+b*o+M*c,t[7]=y*i+b*u+M*l,t[8]=y*a+b*s+M*f,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=d*r+p*o+c,t[7]=d*i+p*u+l,t[8]=d*a+p*s+f,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=Math.sin(n),p=Math.cos(n);return t[0]=p*r+d*o,t[1]=p*i+d*u,t[2]=p*a+d*s,t[3]=p*o-d*r,t[4]=p*u-d*i,t[5]=p*s-d*a,t[6]=c,t[7]=l,t[8]=f,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,l=r*o,f=r*u,d=i*o,p=i*u,h=i*s,v=a*o,m=a*u,g=a*s;return t[0]=1-f-h,t[3]=l-g,t[6]=d+m,t[1]=l+g,t[4]=1-c-h,t[7]=p-v,t[2]=d-m,t[5]=p+v,t[8]=1-c-f,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],h=e[12],v=e[13],m=e[14],g=e[15],y=n*u-r*o,b=n*s-i*o,M=n*c-a*o,_=r*s-i*u,S=r*c-a*u,O=i*c-a*s,x=l*v-f*h,T=l*m-d*h,E=l*g-p*h,I=f*m-d*v,w=f*g-p*v,D=d*g-p*m,A=y*D-b*w+M*I+_*E-S*T+O*x;return A?(A=1/A,t[0]=(u*D-s*w+c*I)*A,t[1]=(s*E-o*D-c*T)*A,t[2]=(o*w-u*E+c*x)*A,t[3]=(i*w-r*D-a*I)*A,t[4]=(n*D-i*E+a*T)*A,t[5]=(r*E-n*w-a*x)*A,t[6]=(v*O-m*S+g*_)*A,t[7]=(m*M-h*O-g*b)*A,t[8]=(h*S-v*M+g*y)*A,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=e[0],p=e[1],h=e[2],v=e[3],m=e[4],g=e[5],y=t[6],b=e[7],M=e[8];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-v)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-m)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-b)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(f-M)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))},t.exports=i},function(t,e,n){var r=n(1),i={};i.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2];return t[0]=i*s-a*u,t[1]=a*o-r*s,t[2]=r*u-i*o,t},i.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},i.hermite=function(t,e,n,r,i,a){var o=a*a,u=o*(2*a-3)+1,s=o*(a-2)+a,c=o*(a-1),l=o*(3-2*a);return t[0]=e[0]*u+n[0]*s+r[0]*c+i[0]*l,t[1]=e[1]*u+n[1]*s+r[1]*c+i[1]*l,t[2]=e[2]*u+n[2]*s+r[2]*c+i[2]*l,t},i.bezier=function(t,e,n,r,i,a){var o=1-a,u=o*o,s=a*a,c=u*o,l=3*a*u,f=3*s*o,d=s*a;return t[0]=e[0]*c+n[0]*l+r[0]*f+i[0]*d,t[1]=e[1]*c+n[1]*l+r[1]*f+i[1]*d,t[2]=e[2]*c+n[2]*l+r[2]*f+i[2]*d,t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*a-s*i,f=c*i+s*r-o*a,d=c*a+o*i-u*r,p=-o*r-u*i-s*a;return t[0]=l*c+p*-o+f*-s-d*-u,t[1]=f*c+p*-u+d*-o-l*-s,t[2]=d*c+p*-s+l*-u-f*-o,t},i.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var u,s;for(n||(n=3),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],a(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var a=i.dot(n,r);return a>1?0:Math.acos(a)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=e[0],u=e[1],s=e[2];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))},t.exports=i},function(t,e,n){var r=n(1),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,n,i){var a=new r.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+a*a)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+i*i+a*a},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2],u=e[3];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t[3]=u+r*(n[3]-u),t},i.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],u=n[1],s=n[2],c=n[3],l=c*r+u*a-s*i,f=c*i+s*r-o*a,d=c*a+o*i-u*r,p=-o*r-u*i-s*a;return t[0]=l*c+p*-o+f*-s-d*-u,t[1]=f*c+p*-u+d*-o-l*-s,t[2]=d*c+p*-s+l*-u-f*-o,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var u,s;for(n||(n=4),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],a(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},t.exports=i},function(t,e,n){"use strict";function r(t,e,n){var r=Object(l.g)([t.HOT],d.a),i=Object(l.a)([r.HOT],function(t,e){var n=Object(f.a)(e);return t(n),n.destroy}).accept(p.b),a=Object(l.g)([t.HOT,e.HOT],function(t){return{width:t.clientWidth,height:t.clientHeight}});return i.react([a.HOT],function(t,e){return t.resize()},"updateSize"),n&&i.react([n.HOT],function(t,e){return t.updateDrawSettings(e)}),{painter:i,gl:r,canvasSize:a}}function i(t,e){var n=Object(l.a)([t.HOT],function(t,e){var n=e.createShade();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function a(t,e){var n=Object(l.a)([t.HOT],function(t,e){var n=e.createForm();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function o(t,e){var n=Object(l.a)([t.HOT],function(t,e){var n=e.createSketch();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function u(t,e){var n=Object(l.a)([t.HOT],function(t,e){var n=e.createStaticLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function s(t,e){var n=Object(l.a)([t.HOT],function(t,e){var n=e.createDrawingLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}function c(t,e){var n=Object(l.a)([t.HOT],function(t,e){var n=e.createEffectLayer();return t(n),n.destroy});return e&&n.react([e.HOT],function(t,e){return t.update(e)}),n}e.g=r,e.d=i,e.c=a,e.e=o,e.f=u,e.a=s,e.b=c;var l=n(0),f=n(33),d=n(5),p=n(13)},function(t,e,n){"use strict";function r(t,e){function n(e){o[e.keyCode]=Date.now(),t(o)}function r(e){delete o[e.keyCode],t(o)}void 0===e&&(e={});var i=e.element,a=void 0===i?window:i,o={};return a.addEventListener("keyup",r,!1),a.addEventListener("keydown",n,!1),t(o),function(){a.removeEventListener("keyup",r),a.removeEventListener("keydown",n)}}n.d(e,"a",function(){return i}),e.b=r;var i;!function(t){t[t.CANCEL=3]="CANCEL",t[t.HELP=6]="HELP",t[t.BACK_SPACE=8]="BACK_SPACE",t[t.TAB=9]="TAB",t[t.CLEAR=12]="CLEAR",t[t.RETURN=13]="RETURN",t[t.ENTER=14]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CONTROL=17]="CONTROL",t[t.ALT=18]="ALT",t[t.PAUSE=19]="PAUSE",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.ESCAPE=27]="ESCAPE",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.PRINTSCREEN=44]="PRINTSCREEN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_1=49]="DIGIT_1",t[t.DIGIT_2=50]="DIGIT_2",t[t.DIGIT_3=51]="DIGIT_3",t[t.DIGIT_4=52]="DIGIT_4",t[t.DIGIT_5=53]="DIGIT_5",t[t.DIGIT_6=54]="DIGIT_6",t[t.DIGIT_7=55]="DIGIT_7",t[t.DIGIT_8=56]="DIGIT_8",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.EQUALS=61]="EQUALS",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.CONTEXT_MENU=93]="CONTEXT_MENU",t[t.NUMPAD0=96]="NUMPAD0",t[t.NUMPAD1=97]="NUMPAD1",t[t.NUMPAD2=98]="NUMPAD2",t[t.NUMPAD3=99]="NUMPAD3",t[t.NUMPAD4=100]="NUMPAD4",t[t.NUMPAD5=101]="NUMPAD5",t[t.NUMPAD6=102]="NUMPAD6",t[t.NUMPAD7=103]="NUMPAD7",t[t.NUMPAD8=104]="NUMPAD8",t[t.NUMPAD9=105]="NUMPAD9",t[t.MULTIPLY=106]="MULTIPLY",t[t.ADD=107]="ADD",t[t.SEPARATOR=108]="SEPARATOR",t[t.SUBTRACT=109]="SUBTRACT",t[t.DECIMAL=110]="DECIMAL",t[t.DIVIDE=111]="DIVIDE",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.F13=124]="F13",t[t.F14=125]="F14",t[t.F15=126]="F15",t[t.F16=127]="F16",t[t.F17=128]="F17",t[t.F18=129]="F18",t[t.F19=130]="F19",t[t.F20=131]="F20",t[t.F21=132]="F21",t[t.F22=133]="F22",t[t.F23=134]="F23",t[t.F24=135]="F24",t[t.NUM_LOCK=144]="NUM_LOCK",t[t.SCROLL_LOCK=145]="SCROLL_LOCK",t[t.COMMA=188]="COMMA",t[t.PERIOD=190]="PERIOD",t[t.SLASH=191]="SLASH",t[t.BACK_QUOTE=192]="BACK_QUOTE",t[t.OPEN_BRACKET=219]="OPEN_BRACKET",t[t.BACK_SLASH=220]="BACK_SLASH",t[t.CLOSE_BRACKET=221]="CLOSE_BRACKET",t[t.QUOTE=222]="QUOTE",t[t.META=224]="META"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t){return null!=t},i=function(t,e){return t!==e}},function(t,e,n){"use strict";function r(t){return t[Object(u.b)(t.length)]}function i(t,e){for(var n=0;n<t;n++)e(n)}function a(t,e){var n=[];return i(t,function(t){return n.push(e(t))}),n}function o(t,e,n){for(var r=Math.min(t.length,e.length),i=[],a=0;a<r;a++)i.push(n(t[a],e[a]));return i}e.b=r,e.a=i,e.c=a,e.d=o;var u=n(31)},function(t,e,n){"use strict";function r(){function t(){return{entities:N,processes:j,arcs:R,meta:k}}function e(){var t={};for(var e in P.es)t[e]=P.es[e].val;return t}function n(){return C}function r(t){C=t}function u(){return k}function s(t){return null==t||"object"!=typeof t||Array.isArray(t)||(k=Object(a.a)(k,t)),k}function c(t){L=t}function l(t){return P.es[t]&&P.es[t].val}function f(t,e){E(A(t),e,!0)&&x()}function d(t,e){f(t,e(l(t)))}function p(t,e){A(t).cb.push(e)}function h(t,e){var n=A(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]}function v(t){var e=Object(i.c)(t);N[e.id]=e;var n=A(e.id);return void 0===e.value||!e.reset&&void 0!==n.val||(n.val=e.value,z[e.id]=!1,Y=!0),n.accept=e.accept,e.meta&&s({entities:(r={},r[e.id]=e.meta,r)}),e;var r}function m(t){var e=A(t);for(var n in e.arcs)M(n);var r=N[t];r&&r.meta&&s({entities:(i={},i[r.id]=void 0,i)}),delete P.es[t],delete N[t];var i}function g(t){var e=Object(i.d)(t,C),n=e.ports,r=F(e.id);j[e.id]=e,delete r.acc,r.values=[],r.sources=[],r.async=e.async,r.delta=e.delta,Object.keys(r.arcs).forEach(function(t){var e=R[t].port;null==e||n[e]&&n[e]!==i.a.ACCUMULATOR||M(t)}),n.forEach(function(t,e){t===i.a.ACCUMULATOR&&(r.acc=e)});for(var a in r.arcs)_(R[a]);return e.meta&&s({processes:(o={},o[e.id]=e.meta,o)}),e;var o}function y(t){var e=F(t);e.stop&&(e.stop(),delete e.stop);for(var n in e.arcs)M(n);delete P.ps[t];var r=j[t];r&&r.meta&&s({processes:(i={},i[r.id]=void 0,i)}),delete j[t];var i}function b(t){var e=Object(i.b)(t);R[e.id]=e,_(e);var n=F(e.process),r=j[e.process];return r&&!0===r.autostart&&Object.keys(n.arcs).length===Object.keys(r.ports).length+1&&I(n),e.meta&&s({arcs:(a={},a[e.id]=e.meta,a)}),e;var a}function M(t){var e=R[t];if(e){var n=F(e.process),r=A(e.entity);delete n.arcs[t],delete r.arcs[t],null!=e.port?(delete r.effects[e.process],delete n.sources[e.port],delete n.values[e.port]):(n.stop&&(n.stop(),delete n.stop),n.sink=function(){},delete n.out,delete r.reactions[e.process]),e.meta&&s({arcs:(i={},i[e.id]=void 0,i)})}delete R[t];var i}function _(t){var e=t.process,n=t.entity,r=F(e),a=A(n),o=j[e];a.arcs[t.id]=!0,o&&(r.arcs[t.id]=!0,null!=t.port?(delete a.effects[e],o.ports&&null!=o.ports[t.port]&&(r.sources[t.port]=a,o.ports[t.port]===i.a.HOT&&(a.effects[e]=r))):(r.out=a,null!=r.acc?(r.sources[r.acc]=a,a.reactions[e]=r):delete a.reactions[e],r.sink=function(t){E(a,t,!0)&&!H&&x()}))}function S(t){if(t.entities)for(var e in t.entities)v(t.entities[e]);if(t.processes)for(var e in t.processes)g(t.processes[e]);if(t.arcs)for(var e in t.arcs)b(t.arcs[e]);s(t.meta)}function O(t){var e={},n={};if(t.entities)for(var r in t.entities){var i=t.entities[r];i.id&&(e[i.id]=!0)}if(t.processes)for(var r in t.processes){var a=t.processes[r];a.id&&(n[a.id]=!0)}Object.keys(N).filter(function(t){return!e[t]}).forEach(m),Object.keys(j).filter(function(t){return!n[t]}).forEach(y),S(t)}function x(){L&&console.log("flushing graph recursively with",z);for(var t=Object.keys(z),e=0,n=t;e<n.length;e++){var r=n[e];if(z[r]){var i=P.es[r];for(var a in i.reactions)T(i.reactions[a])}}var o={};z={},Y=!1,H=!0;for(var u=0,s=t;u<s.length;u++){var r=s[u],i=P.es[r];i.cb.length>0&&(U[r]=i);for(var a in i.effects)o[a]||(T(i.effects[a]),o[a]=!0)}if(H=!1,Y)x();else{var c=Object.keys(U);U={};for(var l in c)for(var i=P.es[c[l]],f=0,d=i.cb;f<d.length;f++){var p=d[f];p(i.val)}L&&console.log("flush finished")}}function T(t){for(var e=!0,n=0;n<t.sources.length;n++){var r=t.sources[n];if(void 0===r.val){e=!1;break}if(t.values[n]=r.val,t.delta){if(void 0===r.oldVal){e=!1;break}t.values[n+1]=r.oldVal}}if(e)if(L&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=j[t.id].procedure.apply(C,[t.sink].concat(t.values));else{var i=j[t.id].procedure.apply(C,t.values);t.out&&E(t.out,i,null==t.acc)}}function E(t,e,n){return!(void 0===e||t.accept&&!t.accept(e,t.val))&&(t.oldVal=t.val,t.val=e,z[t.id]=n,Y=!0,!0)}function I(t){t.async?requestAnimationFrame(function(){T(t)}):(T(t),t.out&&(z[t.out.id]=!1))}function w(t){var e=F(t);T(e),e.async||x()}function D(t){var e=F(t);e.stop&&(e.stop(),delete e.stop)}function A(t){return N[t]||v({id:t}),P.es[t]||(P.es[t]={id:t,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function F(t){return P.ps[t]||(P.ps[t]={id:t,arcs:{},sink:function(){}})}var N={},j={},R={},P={es:{},ps:{}},k={},C=null,L=!1,U={},z={},H=!1,Y=!1;return{addEntity:v,removeEntity:m,addProcess:g,removeProcess:y,addArc:b,removeArc:M,addGraph:S,replaceGraph:O,getGraph:t,getState:e,setMeta:s,getMeta:u,getContext:n,setContext:r,setDebug:c,get:l,set:f,update:d,on:p,off:h,start:w,stop:D,flush:x,PORT_TYPES:o({},i.a)}}e.a=r;var i=n(6),a=n(17),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,n){"use strict";function r(t,e){if("object"==typeof t&&"object"==typeof e&&!Array.isArray(t)&&!Array.isArray(e)){var n=i({},t);for(var a in e){var o=t[a],u=e[a];void 0!==u?n[a]=r(o,u):delete n[a]}return n}return e}e.a=r;var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(module,exports,__webpack_require__){!function(t,e){module.exports=e()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=33)}([function(t,e,n){"use strict";function r(t,e){return e?e+"."+t:t}function i(t){var e,n,i,a=t.value,u=Object(d.a)(),s=[],c={};return c.HOT={entity:c,type:f.PORT_TYPES.HOT},c.COLD={entity:c,type:f.PORT_TYPES.COLD},c.id=function(t,n){return u=r(t,n),e=n,c},c.val=function(t){return a=t,c},c.updateVal=function(t){return a=t(a),c},c.accept=function(t){return n=t,c},c.reset=function(){return i=!0,c},c.getId=function(){return u},t.procedure&&s.push(t),c.react=function(t,e,n){var r=o(t,e,n);r.pidSuffix=v;var i=r.dependencies;return r.dependencies=[{entity:c,type:f.PORT_TYPES.ACCUMULATOR}],i&&i.length&&(r.dependencies=r.dependencies.concat(i)),s.push(r),c},c.getGraph=function(){var t=l.empty();return t.entities[u]=Object(f.createEntity)({id:u,value:a,accept:n,reset:i}),s.forEach(function(n){var i=n.dependencies,a=n.processId?r(n.processId,e):u+n.pidSuffix+(i&&i.length?":"+i.reduce(function(t,e){var n=e.entity.getId();return n===u?t:t+":"+n},""):""),o=[];i&&i.forEach(function(e,n){if(o[n]=e.type,e.type!==f.PORT_TYPES.ACCUMULATOR){var r=Object(f.createArc)({process:a,entity:e.entity.getId(),port:n});t.arcs[r.id]=r}});var s=Object(f.createArc)({process:a,entity:u});t.arcs[s.id]=s,t.processes[a]=Object(f.createProcess)({id:a,ports:o,procedure:n.procedure,async:n.async,autostart:n.autostart,delta:n.delta})}),t},c}function a(t){return i({value:t})}function o(t,e,n){var r={procedure:e};return null!=t&&(r.dependencies=t),"string"==typeof n?r.processId=n:r.pidSuffix=h,r}function u(t){return t&&"function"==typeof t.id&&"function"==typeof t.getGraph&&t.HOT&&t.COLD}function s(t,e){for(var n in t){var r=t[n];u(r)&&r.id(n,e)}return t}function c(t){var e=[];for(var n in t){var r=t[n];u(r)&&e.push(r)}return e.reduce(function(t,e){return l.merge(t,e.getGraph())},l.empty())}Object.defineProperty(e,"__esModule",{value:!0}),e.val=a,n.d(e,"stream",function(){return m}),n.d(e,"asyncStream",function(){return g}),n.d(e,"streamStart",function(){return y}),n.d(e,"asyncStreamStart",function(){return b}),n.d(e,"delta",function(){return M}),e.isEntity=u,e.resolveEntityIds=s,e.getGraphFromAll=c;var l=n(19),f=n(8),d=n(18),p=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},h="Stream",v="Reaction",m=function(t,e,n){return i(o(t,e,n))},g=function(t,e,n){return i(p({},o(t,e,n),{async:!0}))},y=function(t,e,n){return i(p({},o(t,e,n),{autostart:!0}))},b=function(t,e,n){return i(p({},o(t,e,n),{async:!0,autostart:!0}))},M=function(t,e,n){return i(p({},o([t.HOT],e,n),{delta:!0}))}},function(t,e,n){"use strict";function r(t){var e=new i.TypeStyle({autoGenerateTag:!1});return t&&e.setStylesTarget(t),e}Object.defineProperty(e,"__esModule",{value:!0});var i=n(44);e.TypeStyle=i.TypeStyle;var a=n(46);e.types=a;var o=n(23);e.extend=o.extend,e.classes=o.classes,e.media=o.media;var u=new i.TypeStyle({autoGenerateTag:!0});e.setStylesTarget=u.setStylesTarget,e.cssRaw=u.cssRaw,e.cssRule=u.cssRule,e.forceRenderStyles=u.forceRenderStyles,e.fontFace=u.fontFace,e.getStyles=u.getStyles,e.keyframes=u.keyframes,e.reinit=u.reinit,e.style=u.style,e.createTypeStyle=r},function(t,e,n){"use strict";var r=n(50);n.d(e,"d",function(){return r.a}),n.d(e,"h",function(){return r.b});var i=n(51);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"e",function(){return i.d}),n.d(e,"f",function(){return i.e}),n.d(e,"g",function(){return i.f}),n.d(e,"i",function(){return i.g});var a=n(52);n.d(e,"j",function(){return a.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"runtimes",function(){return c}),n.d(e,"selectedRuntimeId",function(){return l}),n.d(e,"runtime",function(){return f}),n.d(e,"meta",function(){return d}),n.d(e,"metaGraph",function(){return p}),n.d(e,"metaTree",function(){return h}),n.d(e,"metaEntity",function(){return v}),n.d(e,"metaEntities",function(){return m}),n.d(e,"metaControls",function(){return g}),n.d(e,"graph",function(){return y}),n.d(e,"state",function(){return b});var r=n(0),i=n(15),a=n(11),o=n(4),u=n(16),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},c=Object(r.val)({}).react([i.action.HOT],function(t,e){if(e.type===o.a.SET_RUNTIME)return s({},t,(n={},n[e.payload.label]=e.payload.runtime,n));var n}),l=Object(r.val)("").react([c.HOT],function(t,e){return t||Object.keys(e)[0]}).react([i.action.HOT],function(t,e){if(e.type===o.a.SELECT_ACTIVE_RUNTIME)return e.payload}).accept(a.a),f=Object(r.stream)([c.COLD,l.HOT],function(t,e){return t[e]}).react([i.action.HOT],function(t,e){var n=e.type,r=e.payload;switch(n){case o.a.PROCESS_RUN:return void t.start(r);case o.a.PROCESS_STOP:return void t.stop(r);case o.a.ENTITY_RESET:return void t.set(r,t.getGraph().entities[r].value);case o.a.ENTITY_INSPECT:return void console.log(r,t.get(r))}}),d=Object(r.stream)([f.HOT],function(t){return t.getMeta()}).react([i.action.HOT,f.COLD],function(t,e,n){var r=e.type,i=e.payload,a=n,s=t.ui,c=s&&s.graph,l=s&&s.tree,f=s&&s.entity,d=c&&c.viewBox,p=s&&s.activeWindow;switch(r){case o.b.MAIN.SET_ACTIVE_WINDOW:return a.setMeta({ui:{activeWindow:i}});case o.b.MAIN.UPDATE_VISIBILITY:var h=s&&s[i],v=h&&h.window&&h.window.visible;return a.setMeta({ui:(I={activeWindow:i},I[i]={window:{visible:!v}},I)});case o.b.MAIN.CLOSE_WINDOW:return a.setMeta({ui:(w={},w[i]={window:{visible:!1}},w)});case o.b.MAIN.MOVE_WINDOW:if(p){var m=s&&s[p];if(m&&m.position){var g=m.position.top-i.y,y=m.position.left-i.x;return a.setMeta(Object(u.c)({ui:{controls:{position:{top:g,left:y}}}}))}if(m){var b=m.window&&m.window.area;if(b){var M=b.top-i.y,y=b.left-i.x;return a.setMeta(Object(u.c)({ui:(D={},D[p]={window:{area:{top:M,left:y}}},D)}))}}}break;case o.b.MAIN.RESIZE_WINDOW:var _=p&&s&&s[p]&&s[p].window&&s[p].window.area;if(_)return a.setMeta(Object(u.c)({ui:(A={},A[p]={window:{area:{width:_.width-i.x,height:_.height-i.y}}},A)}));break;case o.b.TREE.TOGGLE_LEVEL:var S=l&&l.fold||{};return a.setMeta({ui:{tree:{fold:(F={},F[i]=!S[i],F)}}});case o.b.ENTITY.SET_ACTIVE_ENTITY:return a.setMeta({ui:{entity:{activeEntityId:i,watchingEntity:!0}}});case o.b.ENTITY.SET_ACTIVE_PROCESS:return a.setMeta({ui:{entity:{activeProcessId:i,watchingEntity:!1}}});case o.b.ENTITY.RESET_ACTIVE_NODE:return a.setMeta({ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1}}});case o.b.ENTITY.SAVE_VALUE:var O=f&&f.activeEntityId;return O&&a.set(O,i),a.setMeta({ui:{entity:{watchingEntity:!0}}});case o.b.ENTITY.WATCH_ACTIVE_ENTITY:return a.setMeta({ui:{entity:{watchingEntity:i}}});case o.b.GRAPH.MOVE_VIEWPORT:return a.setMeta({ui:{graph:{viewBox:{offsetX:(d&&d.offsetX||0)+i.x,offsetY:(d&&d.offsetY||0)+i.y}}}});case o.b.GRAPH.UPDATE_SCALE:return a.setMeta({ui:{graph:{viewBox:{scale:i}}}});case o.b.GRAPH.UPDATE_SIZE:if(i.width&&i.height)return a.setMeta({ui:{graph:{viewBox:{width:i.width,height:i.height}}}});return;case o.b.GRAPH.MOVE_ENTITY_POSITION:if(f&&f.activeEntityId){var x=t.entities&&t.entities[f.activeEntityId],T=x&&x.ui&&x.ui.graph&&x.ui.graph.position||i.start,E=c&&c.viewBox&&c.viewBox.scale||1;if(T)return a.setMeta({entities:(N={},N[f.activeEntityId]={ui:{graph:{position:{x:T.x-i.delta.x*E,y:T.y-i.delta.y*E}}}},N)})}}var I,w,D,A,F,N}).react([f.COLD,i.windowSize.HOT],function(t,e,n){return e.setMeta(Object(u.c)(t))}),p=Object(r.stream)([d.HOT],function(t){return t&&t.ui&&t.ui.graph}).accept(a.a),h=Object(r.stream)([d.HOT],function(t){return t&&t.ui&&t.ui.tree}).accept(a.a),v=Object(r.stream)([d.HOT],function(t){return t&&t.ui&&t.ui.entity}).accept(a.a),m=Object(r.stream)([d.HOT],function(t){return t&&t.entities}).accept(a.a),g=Object(r.stream)([d.HOT],function(t){return t&&t.ui&&t.ui.controls}).accept(a.a),y=Object(r.stream)([f.HOT],function(t){return t.getGraph()}),b=Object(r.stream)([f.HOT],function(t){return t.getState()})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r={ENTITY_INSPECT:"flow:entity_inspect",ENTITY_RESET:"flow:entity_reset",PROCESS_RUN:"flow:process_run",PROCESS_STOP:"flow:process_stop",SET_RUNTIME:"flow:set_runtime",SELECT_ACTIVE_RUNTIME:"flow:select_active_runtime"},i={ENTITY:{WATCH_ACTIVE_ENTITY:"gui:entity:watch_active_entity",SAVE_VALUE:"gui:entity:save",SET_ACTIVE_PROCESS:"gui:entity:open_process",SET_ACTIVE_ENTITY:"gui:entity:open_entity",RESET_ACTIVE_NODE:"gui:entity:reset_entity"},GRAPH:{UPDATE_SCALE:"gui:graph:update_scale",UPDATE_SIZE:"gui:graph:update_size",MOVE_VIEWPORT:"gui:graph:move_viewport",MOVE_ENTITY_POSITION:"gui:graph:set_entity_position"},TREE:{TOGGLE_LEVEL:"gui:tree:toggle_level"},MAIN:{SET_ACTIVE_WINDOW:"gui:main:set_active_window",UPDATE_VISIBILITY:"gui:main:update_visibility",CLOSE_WINDOW:"gui:main:close_window",MOVE_WINDOW:"gui:main:set_window_position",RESIZE_WINDOW:"gui:main:resize_window"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"g",function(){return f}),n.d(e,"f",function(){return d});var r=n(1),i=(n.n(r),n(47)),a="white",o=Object(i.a)(40,40,40,.75).toString(),u=16,s="cyan",c={borderRadius:4,backgroundColor:o,boxShadow:"0 10px 15px rgba(0,0,0,0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",borderBottom:"1px solid rgba(0, 0, 0, 0.6)"},l={borderRadius:4,boxShadow:"0 4px 8px rgba(0,0,0,0.3) inset",borderBottom:"1px solid rgba(255, 255, 255, 0.4)",borderTop:"1px solid rgba(0, 0, 0, 0.6)"},f={padding:0,listStyle:"none"},d=Object(r.style)({position:"fixed",top:0,left:0,width:0,height:0,zIndex:1e3,fontSize:u,fontFamily:"sans-serif",lineHeight:1.5,color:a,userSelect:"none",$nest:{"& *":{userSelect:"none",MozUserSelect:"none"}}})},function(t,e,n){"use strict";function r(t,e){t.react([d.COLD,p.HOT],function(t,n,r){if(n===e)return u({},t,{zIndex:r})})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"metaTreeWindow",function(){return s}),n.d(e,"metaGraphWindow",function(){return c}),n.d(e,"metaEntityWindow",function(){return l}),n.d(e,"visibility",function(){return f}),n.d(e,"activeWindow",function(){return d}),n.d(e,"zIndex",function(){return p}),n.d(e,"controlsPosition",function(){return h}),n.d(e,"treeWindow",function(){return v}),n.d(e,"graphWindow",function(){return m}),n.d(e,"entityWindow",function(){return g});var i=n(0),a=n(11),o=n(3),u=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},s=Object(i.stream)([o.metaTree.HOT],function(t){return t.window}).accept(a.a),c=Object(i.stream)([o.metaGraph.HOT],function(t){return t.window}).accept(a.a),l=Object(i.stream)([o.metaEntity.HOT],function(t){return t.window}).accept(a.a),f=Object(i.val)({tree:!1,graph:!1,entity:!1}).react([c.HOT],function(t,e){return u({},t,{graph:!!e.visible})}).react([l.HOT],function(t,e){return u({},t,{entity:!!e.visible})}).react([s.HOT],function(t,e){return u({},t,{tree:!!e.visible})}).accept(function(t,e){return e&&t&&(e.tree!==t.tree||e.entity!==t.entity||e.graph!==t.graph)}),d=Object(i.stream)([o.meta.HOT],function(t){return t.ui&&t.ui.activeWindow}).accept(a.a),p=Object(i.val)(0).react([d.HOT],function(t){return t+1}),h=Object(i.stream)([o.metaControls.HOT],function(t){return t.position}).accept(a.a),v=Object(i.stream)([s.HOT],function(t){return t.area}).accept(a.a),m=Object(i.stream)([c.HOT],function(t){return t.area}).accept(a.a),g=Object(i.stream)([l.HOT],function(t){return t.area}).accept(a.a);r(h,"controls"),r(v,"tree"),r(m,"graph"),r(g,"entity")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"activeEntityId",function(){return u}),n.d(e,"activeProcessId",function(){return s}),n.d(e,"activeEntity",function(){return c}),n.d(e,"activeProcess",function(){return l}),n.d(e,"activeNode",function(){return f}),n.d(e,"watchingEntity",function(){return d}),n.d(e,"activeValue",function(){return p}),n.d(e,"entityViewProps",function(){return h});var r=n(0),i=n(11),a=n(3),o=n(6),u=Object(r.stream)([a.metaEntity.HOT],function(t){return t.activeEntityId}).accept(i.a),s=Object(r.stream)([a.metaEntity.HOT],function(t){return t.activeProcessId}).accept(i.a),c=Object(r.stream)([u.HOT,a.graph.COLD],function(t,e){return e.entities[t]||{id:t}}),l=Object(r.stream)([s.HOT,a.graph.COLD],function(t,e){return e.processes[t]||{id:t}}),f=Object(r.val)({}).react([c.HOT],function(t,e){return e}).react([l.HOT],function(t,e){return e}),d=Object(r.stream)([a.metaEntity.HOT],function(t){return t.watchingEntity}).accept(i.a),p=Object(r.asyncStream)([a.runtime.COLD,u.HOT,o.visibility.HOT,d.HOT],function(t,e,n,r,i){if(n){var a=e.get(n);if(t(void 0===a?null:a),r.entity&&i)return e.on(n,t),function(){return e.off(n,t)}}else t("")}),h=Object(r.stream)([c.HOT,p.HOT,d.HOT],function(t,e,n){return{entity:t,value:e,watching:n}})},function(t,e,n){"use strict";function r(t){var e=t.id,n=void 0===e?Object(o.a)():e,r=t.value,i=t.json,a=t.accept,u=t.reset,s=t.meta;return void 0===r&&i&&(r=JSON.parse(i)),{id:n,value:r,accept:a,reset:u,meta:s}}function i(t,e){var n=t.id,r=void 0===n?Object(o.a)():n,i=t.ports,a=void 0===i?[]:i,c=t.procedure,l=t.code,f=t.autostart,d=void 0!==f&&f,p=t.async,h=void 0!==p&&p,v=t.delta,m=void 0!==v&&v,g=t.meta;if(null==c&&null!=l&&(c=Object(u.a)(l,e)),null==c)throw TypeError("Process must have procedure or code set");return m&&!a.length&&a.push(s.HOT),{id:r,ports:a,procedure:c,autostart:d,async:h,delta:m,meta:g}}function a(t){var e=t.id,n=t.entity,r=t.process,i=t.port,a=t.meta;if(null==n)throw TypeError("no entity specified in arc "+e);if(null==r)throw TypeError("no process specified in arc "+e);return null==e&&(e=null==i?r+"->"+n:n+"->"+r+"::"+i),{id:e,entity:n,process:r,port:i,meta:a}}Object.defineProperty(e,"__esModule",{value:!0}),e.createEntity=r,e.createProcess=i,e.createArc=a,n.d(e,"PORT_TYPES",function(){return s});var o=n(18),u=n(37),s={COLD:"COLD",HOT:"HOT",ACCUMULATOR:"ACCUMULATOR"}},function(t,e,n){"use strict";(function(t){function n(t){return t.replace(v,y).replace(m,"-ms-")}function r(t){for(var e=5381,n=t.length;n--;)e=33*e^t.charCodeAt(n);return(e>>>0).toString(36)}function i(t,e){return"number"!=typeof e||0===e||M[t]?t+":"+e:t+":"+e+"px"}function a(t){return t.sort(function(t,e){return t[0]>e[0]?1:-1})}function o(t,r){for(var i=[],o=[],s=!1,c=0,l=Object.keys(t);c<l.length;c++){var f=l[c],d=t[f];if(null!==d&&void 0!==d)if(f===e.IS_UNIQUE)s=!0;else if("object"==typeof d)if(Array.isArray(d))for(var p=n(f.trim()),h=0;h<d.length;h++)i.push([p,d[h]]);else o.push([f.trim(),d]);else i.push([n(f.trim()),d])}return{styleString:u(a(i)),nestedStyles:r?o:a(o),isUnique:s}}function u(t){for(var e=t.length-1,n="",r=0;r<t.length;r++){var a=t[r];n+=i(a[0],a[1])+(r===e?"":";")}return n}function s(t,e){return t.indexOf("&")>-1?t.replace(g,e):e+" "+t}function c(t,e,n,r,i){var a=o(n,!!e),u=a.styleString,l=a.nestedStyles,f=a.isUnique,d=u;if(64===e.charCodeAt(0)){var p=t.add(new F(e,i?void 0:u,t.hash));if(u&&i){var v=p.add(new A(u,p.hash,f?"u"+(++h).toString(36):void 0));r.push([i,v])}for(var m=0,g=l;m<g.length;m++){var y=g[m],b=y[0],M=y[1];d+=b+c(p,b,M,r,i)}}else{var _=i?s(e,i):e;if(u){var v=t.add(new A(u,t.hash,f?"u"+(++h).toString(36):void 0));r.push([_,v])}for(var S=0,O=l;S<O.length;S++){var x=O[S],b=x[0],M=x[1];d+=b+c(t,b,M,r,_)}}return d}function l(t,e,n,r,i){for(var a=new w(t.hash),o=[],u=c(a,e,n,o),l="f"+a.hash(u),f=i?i+"_"+l:l,d=0,p=o;d<p.length;d++){var h=p[d],v=h[0],m=h[1],g=r?s(v,"."+f):v;m.add(new D(g,m.hash,void 0,u))}return{cache:a,pid:u,id:f}}function f(t){for(var e="",n=0,r=t;n<r.length;n++)e+=r[n];return e}function d(t,e,n){return new N(t,e,void 0,n)}var p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var h=0;e.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var v=/[A-Z]/g,m=/^ms-/,g=/&/g,y=function(t){return"-"+t.toLowerCase()},b=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],M=Object.create(null),_=0,S=["-webkit-","-ms-","-moz-","-o-",""];_<S.length;_++)for(var O=S[_],x=0,T=b;x<T.length;x++){var E=T[x];M[O+E]=!0}e.stringHash=r;var I={add:function(){},change:function(){},remove:function(){}},w=function(){function t(t,e){void 0===t&&(t=r),void 0===e&&(e=I),this.hash=t,this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return t.prototype.add=function(e){var n=this._counters[e.id]||0,r=this._children[e.id]||e.clone();if(this._counters[e.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else{if(r.getIdentifier()!==e.getIdentifier())throw new TypeError("Hash collision: "+e.getStyles()+" === "+r.getStyles());var i=this._keys.indexOf(e.id),a=this._keys.length-1,o=this.changeId;if(i!==a&&(this._keys.splice(i,1),this._keys.push(e.id),this.changeId++),r instanceof t&&e instanceof t){var u=r.changeId;r.merge(e),r.changeId!==u&&this.changeId++}this.changeId!==o&&(i===a?this.sheet.splice(i,1,r.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(a,0,r.getStyles())),this.changes.change(r,i,a))}return r},t.prototype.remove=function(e){var n=this._counters[e.id];if(n>0){this._counters[e.id]=n-1;var r=this._children[e.id],i=this._keys.indexOf(r.id);if(1===n)delete this._counters[e.id],delete this._children[e.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(r,i);else if(r instanceof t&&e instanceof t){var a=r.changeId;r.unmerge(e),r.changeId!==a&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}}},t.prototype.merge=function(t){for(var e=0,n=t._keys;e<n.length;e++){var r=n[e];this.add(t._children[r])}return this},t.prototype.unmerge=function(t){for(var e=0,n=t._keys;e<n.length;e++){var r=n[e];this.remove(t._children[r])}return this},t.prototype.clone=function(){return new t(this.hash).merge(this)},t}();e.Cache=w;var D=function(){function t(t,e,n,r){void 0===n&&(n="s"+e(t)),void 0===r&&(r=""),this.selector=t,this.hash=e,this.id=n,this.pid=r}return t.prototype.getStyles=function(){return this.selector},t.prototype.getIdentifier=function(){return this.pid+"."+this.selector},t.prototype.clone=function(){return new t(this.selector,this.hash,this.id,this.pid)},t}();e.Selector=D;var A=function(t){function e(e,n,r){void 0===r&&(r="c"+n(e));var i=t.call(this,n)||this;return i.style=e,i.hash=n,i.id=r,i}return p(e,t),e.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},e.prototype.getIdentifier=function(){return this.style},e.prototype.clone=function(){return new e(this.style,this.hash,this.id).merge(this)},e}(w);e.Style=A;var F=function(t){function e(e,n,r,i,a){void 0===n&&(n=""),void 0===i&&(i="a"+r(e+"."+n)),void 0===a&&(a="");var o=t.call(this,r)||this;return o.rule=e,o.style=n,o.hash=r,o.id=i,o.pid=a,o}return p(e,t),e.prototype.getStyles=function(){return this.rule+"{"+this.style+f(this.sheet)+"}"},e.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},e.prototype.clone=function(){return new e(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},e}(w);e.Rule=F;var N=function(e){function n(n,i,a,o){void 0===n&&(n=r),void 0===i&&(i=void 0!==t&&!1),void 0===a&&(a="f"+(++h).toString(36));var u=e.call(this,n,o)||this;return u.hash=n,u.debug=i,u.id=a,u}return p(n,e),n.prototype.registerStyle=function(t,e){var n=l(this,"&",t,!0,this.debug?e:void 0),r=n.cache,i=n.id;return this.merge(r),i},n.prototype.registerKeyframes=function(t,e){return this.registerHashRule("@keyframes",t,e)},n.prototype.registerHashRule=function(t,e,n){var r=l(this,"",e,!1,this.debug?n:void 0),i=r.cache,a=r.pid,o=r.id,u=new F(t+" "+o,void 0,this.hash,void 0,a);return this.add(u.merge(i)),o},n.prototype.registerRule=function(t,e){this.merge(l(this,t,e,!1).cache)},n.prototype.registerCss=function(t){this.merge(l(this,"",t,!1).cache)},n.prototype.getStyles=function(){return f(this.sheet)},n.prototype.getIdentifier=function(){return this.id},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(w);e.FreeStyle=N,e.create=d}).call(e,n(42))},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c});var r=n(1),i=(n.n(r),n(5)),a=(Object(r.style)({margin:"0 4px",verticalAlign:"top",display:"inline-block",$nest:{"& input":{margin:5,verticalAlign:"middle"}}}),{margin:"0 4px",padding:"4px 10px 3px",border:0,color:i.a,fontSize:"1.0em",verticalAlign:"middle",cursor:"pointer",$nest:{"& > svg":{verticalAlign:"middle"}}}),o={padding:"0 4px"},u=Object(r.style)(i.c,a),s=Object(r.style)(i.c,a,o),c=Object(r.style)({display:"inline-block",margin:"0 2px",padding:0,border:0,background:"transparent",boxShadow:"none",fontSize:"0.9em"})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return t!==e}},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 24 24"},["title","close"],["path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"}]]}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 24 24"},["title","graph"],["path",{d:"M18 16.078c1.594 0 2.906 1.313 2.906 2.906s-1.313 2.953-2.906 2.953-2.906-1.359-2.906-2.953c0-0.234 0-0.469 0.047-0.656l-7.078-4.125c-0.563 0.516-1.266 0.797-2.063 0.797-1.641 0-3-1.359-3-3s1.359-3 3-3c0.797 0 1.5 0.281 2.063 0.797l7.031-4.078c-0.047-0.234-0.094-0.469-0.094-0.703 0-1.641 1.359-3 3-3s3 1.359 3 3-1.359 3-3 3c-0.797 0-1.5-0.328-2.063-0.844l-7.031 4.125c0.047 0.234 0.094 0.469 0.094 0.703s-0.047 0.469-0.094 0.703l7.125 4.125c0.516-0.469 1.219-0.75 1.969-0.75z"}]]}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 24 24"},["title","list"],["path",{d:"M9 5.016h12v3.984h-12v-3.984zM9 18.984v-3.984h12v3.984h-12zM9 14.016v-4.031h12v4.031h-12zM3.984 9v-3.984h4.031v3.984h-4.031zM3.984 18.984v-3.984h4.031v3.984h-4.031zM3.984 14.016v-4.031h4.031v4.031h-4.031z"}]]}function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 24 24"},["title","entity"],["path",{d:"M16.641 1.688l5.672 5.672-5.672 5.625h4.359v8.016h-8.016v-8.016h3.656l-5.625-5.625v3.656h-8.016v-8.016h8.016v4.359zM3 21v-8.016h8.016v8.016h-8.016z"}]]}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 32 32"},["title","play"],["path",{d:"M6 4l20 12-20 12z"}]]}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 32 32"},["title","stop"],["path",{d:"M4 4h24v24h-24z"}]]}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 32 32"},["title","stopMarked"],["path",{d:"M4 4h24v24h-24z"}],["circle",{cx:"16",cy:"16",r:"6",fill:"#666"}]]}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 32 32"},["title","reset"],["path",{d:"M32 12h-12l4.485-4.485c-2.267-2.266-5.28-3.515-8.485-3.515s-6.219 1.248-8.485 3.515c-2.266 2.267-3.515 5.28-3.515 8.485s1.248 6.219 3.515 8.485c2.267 2.266 5.28 3.515 8.485 3.515s6.219-1.248 8.485-3.515c0.189-0.189 0.371-0.384 0.546-0.583l3.010 2.634c-2.933 3.349-7.239 5.464-12.041 5.464-8.837 0-16-7.163-16-16s7.163-16 16-16c4.418 0 8.418 1.791 11.313 4.687l4.687-4.687v12z"}]]}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 32 32"},["title","show"],["path",{d:"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"}]]}function d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 32 32"},["title","copy"],["path",{d:"M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.122-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5z"}],["path",{d:"M18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"}]]}function p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return["svg",{class:h.a.apply(void 0,[m].concat(t)),viewBox:"0 0 32 32"},["title","more"],["path",{d:"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z"}],["path",{d:"M11.086 22.086l2.829 2.829 8.914-8.914-8.914-8.914-2.828 2.828 6.086 6.086z"}]]}e.a=r,e.d=i,e.e=a,e.c=o,e.g=u,e.j=s,e.k=c,e.h=l,e.i=f,e.b=d,e.f=p;var h=n(21),v=n(5),m=Object(h.b)({display:"inline-block",width:"1.1em",height:"1.1em",margin:4,strokeWidth:0,stroke:"currentColor",fill:"currentColor",verticalAlign:"bottom",$nest:{"&.selected":{fill:v.e}}})},function(t,e,n){"use strict";function r(t){var e=t.title,n=t.onclick,r=t.icon,o=t.key,u=t.class,s=["button",{class:Object(i.classes)(a.c,u),onmouseup:n,title:e},r];return o&&(s[1].key=o),s}e.a=r;var i=n(1),a=(n.n(i),n(10))},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l});var r=n(1),i=(n.n(r),n(5)),a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o=Object(r.style)(i.c,{display:"inline-block",position:"relative",padding:2,whiteSpace:"nowrap",$nest:{"& h1":{display:"inline-block",margin:"0 8px",fontSize:i.d,fontWeight:"normal",verticalAlign:"middle"},"& ul":a({},i.g,{display:"inline-block",margin:0,fontSize:i.d,fontWeight:"normal"}),"& li":{display:"inline-block"},"& nav":{display:"inline-block"}}}),u=Object(r.style)(i.c,{position:"absolute",display:"flex",flexDirection:"column",padding:5,paddingTop:1,alignItems:"stretch",alignContent:"stretch",$nest:{"&>.resize":{position:"absolute",width:20,height:20,bottom:0,right:0,borderRadius:4,cursor:"nwse-resize",background:"linear-gradient(135deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%)"},"&>header":{display:"flex",alignItems:"center",minHeight:26},"&>header input":{verticalAlign:"middle"},"&>header .gap":{flexGrow:1}}}),s=Object(r.style)(i.b,{overflow:"auto",position:"relative",flexGrow:1,padding:5}),c=Object(r.style)(i.g,{margin:0,$nest:{"& ul":i.g,"& li":{paddingLeft:"1.5em",cursor:"pointer"},"&>li":{paddingLeft:0},"& .entity-controls":{display:"none"},"& .entity-item:hover>.entity-controls":{display:"inline"},"& .entity-item.selected":{color:i.e}}}),l=Object(r.style)({display:"flex",flexDirection:"column",flexGrow:1,overflow:"auto",$nest:{"& pre":{margin:0,MozUserSelect:"text",userSelect:"text"}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"windowSize",function(){return a}),n.d(e,"element",function(){return o}),n.d(e,"action",function(){return u});var r=n(0),i=n(62),a=Object(r.asyncStreamStart)(null,i.a),o=Object(r.val)(),u=Object(r.val)()},function(t,e,n){"use strict";function r(t,e){for(var n in t)"function"==typeof e[n]?t[n]=e[n](t[n]):t[n]&&"object"==typeof t[n]&&e[n]&&"object"==typeof e[n]&&r(t[n],e[n]);return t}function i(t){return r(t,d)}n.d(e,"b",function(){return o}),n.d(e,"a",function(){return u}),e.c=i;var a=n(63),o={width:0,height:0,offsetX:0,offsetY:0,scale:1},u={ui:{entity:{activeEntityId:"",activeProcessId:"",watchingEntity:!1,window:{visible:!1,area:{top:50,left:400,width:400,height:500}}},graph:{viewBox:{width:600,height:600,offsetX:0,offsetY:0,scale:1},window:{visible:!1,area:{top:200,left:100,width:600,height:600}}},tree:{window:{visible:!1,area:{top:100,left:0,width:300,height:400}}},controls:{position:{top:0,left:0}}},entities:{}},s=function(t){return Object(a.a)(t,0,window.innerHeight-20)},c=function(t){return Object(a.a)(t,0,window.innerWidth-20)},l=function(t){return Math.min(t,window.innerWidth-20)},f=function(t){return Math.min(t,window.innerHeight-20)},d={ui:{entity:{window:{area:{top:s,left:c,width:l,height:f}}},graph:{window:{area:{top:s,left:c,width:l,height:f}}},tree:{window:{area:{top:s,left:c,width:l,height:f}}},controls:{position:{top:s,left:c}}}}},function(t,e,n){t.exports=n(66).default,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){var e=u,n=0;return e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+"-"+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]+e[t[n++]]}function i(){var t=o();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,r(t)}e.a=i;for(var a=new Array(16),o=function(){for(var t=0,e=void 0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random(),a[t]=e>>>((3&t)<<3)&255);return a},u=[],s={},c=0;c<256;c++)u[c]=(c+256).toString(16).substr(1),s[u[c]]=c},function(t,e,n){"use strict";function r(){return{entities:{},processes:{},arcs:{},meta:{}}}function i(t,e){return{entities:a({},t.entities,e.entities),processes:a({},t.processes,e.processes),arcs:a({},t.arcs,e.arcs),meta:a({},t.meta,e.meta)}}Object.defineProperty(e,"__esModule",{value:!0}),e.empty=r,e.merge=i;var a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}function i(t,e){var n=t.keys().map(function(n){var i=t(n);return Object.values(Object(a.resolveEntityIds)(i,r(n,e))).filter(a.isEntity)}).reduce(function(t,e){return t.concat(e)},[]);return Object(a.getGraphFromAll)(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.modulePathToNamespace=r,e.getGraphFromModules=i;var a=n(0)},function(t,e,n){"use strict";n.d(e,"b",function(){return u});var r=n(40),i=n(43),a=(n.n(i),n(22));n.d(e,"a",function(){return a.a});var o=new r.a({autoGenerateTag:!0}),u=(o.setStylesTarget,o.cssRaw,o.cssRule,o.forceRenderStyles,o.fontFace,o.getStyles,o.keyframes,o.reinit,o.style)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,a=t;r<a.length;r++){var o=a[r];if(null!=o&&!1!==o)for(var u in o){var s=o[u];(s||0===s)&&("$nest"===u&&s?n[u]=n.$nest?i(n.$nest,s):s:-1!==u.indexOf("&")||0===u.indexOf("@media")?n[u]=n[u]?i(n[u],s):s:n[u]=s)}}return n}n.d(e,"c",function(){return a}),e.a=r,e.b=i;var a="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(t){return!!t}).join(" ")}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,a=t;r<a.length;r++){var o=a[r];if(null!=o&&!1!==o)for(var u in o){var s=o[u];(s||0===s)&&("$nest"===u&&s?n[u]=n.$nest?i(n.$nest,s):s:-1!==u.indexOf("&")||0===u.indexOf("@media")?n[u]=n[u]?i(n[u],s):s:n[u]=s)}}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.raf="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window),e.classes=r,e.extend=i,e.media=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[];t.type&&r.push(t.type),t.orientation&&r.push(t.orientation),t.minWidth&&r.push("(min-width: "+a(t.minWidth)+")"),t.maxWidth&&r.push("(max-width: "+a(t.maxWidth)+")"),t.minHeight&&r.push("(min-height: "+a(t.minHeight)+")"),t.maxHeight&&r.push("(max-height: "+a(t.maxHeight)+")");var o="@media "+r.join(" and ");return{$nest:(u={},u[o]=i.apply(void 0,e),u)};var u};var a=function(t){return"string"==typeof t?t:t+"px"}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),i=n(25),a=function(t){return function(){return Object(r.d)(arguments,function(t){return t||0===t}).map(function(t){return"number"==typeof t?Object(i.a)(t):t.toString()}).join(t)}},o=a(" ");a(",")},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(2),i=(Object(r.g)("%"),Object(r.g)("deg"),Object(r.g)("em"),Object(r.g)("px"));Object(r.g)("rad"),Object(r.g)("rem"),Object(r.g)("vh"),Object(r.g)("vw"),Object(r.g)("turn")},function(t,e,n){"use strict";function r(t,e){function n(t){o=t.currentTarget,i.push(o),u=t.clientX,s=t.clientY,document.addEventListener("mousemove",a),document.addEventListener("mouseup",r),e&&e(t)}function r(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r),i=i.filter(function(t){return t!==o})}function a(e){for(var n=0,r=i;n<r.length;n++){var a=r[n];if(a!==o&&o.contains(a))return}t({x:u-e.clientX,y:s-e.clientY}),u=e.clientX,s=e.clientY}var o,u=0,s=0;return{onmousedown:n}}e.a=r;var i=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"entityWindowProps",function(){return u}),n.d(e,"controlProps",function(){return s}),n.d(e,"controlTitleProps",function(){return c}),n.d(e,"treeWindowProps",function(){return l}),n.d(e,"graphWindowProps",function(){return f});var r=n(0),i=n(7),a=n(6),o=n(3),u=Object(r.stream)([a.entityWindow.HOT,i.activeNode.HOT,a.activeWindow.HOT],function(t,e,n){return{dimensions:t,node:e,window:n}}),s=Object(r.stream)([a.visibility.HOT,a.controlsPosition.HOT],function(t,e){return{visibility:t,position:e}}),c=Object(r.stream)([a.controlsPosition.HOT,o.selectedRuntimeId.HOT],function(t,e){return{position:t,title:e}}),l=Object(r.stream)([a.treeWindow.HOT,a.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}}),f=Object(r.stream)([a.graphWindow.HOT,a.activeWindow.HOT],function(t,e){return{dimensions:t,window:e}})},function(t,e,n){"use strict";function r(t){var e=t.split(".");return{label:e.pop(),group:e.join(".")}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"viewBox",function(){return d}),n.d(e,"entityPositions",function(){return p}),n.d(e,"graphEntities",function(){return h}),n.d(e,"graphProcesses",function(){return v}),n.d(e,"viewData",function(){return m});var i=n(0),a=n(11),o=n(3),u=n(8),s=n(6),c=n(7),l=n(16),f=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},d=Object(i.stream)([o.metaGraph.HOT],function(t){return t.viewBox||l.b}).accept(a.a),p=Object(i.stream)([o.graph.HOT],function(t){return{}}).react([s.graphWindow.HOT,o.metaEntities.HOT,o.graph.COLD],function(t,e,n,r){for(var i in r.entities){var a=n[i],o=a&&a.ui&&a.ui.graph&&a.ui.graph.position;o?t[i]=o:t[i]||(t[i]={x:Math.random()*e.width,y:Math.random()*e.height})}return t}),h=Object(i.stream)([o.graph.HOT,c.activeNode.HOT],function(t,e){var n={},i={},a=0;for(var o in t.entities){var u=t.entities[o],s=r(o),c=s.label,l=s.group;i[l]=i[l]||a++%7+1;var f={id:u.id,class:"group-"+i[l],label:c,active:u.id===e.id};null!=u.accept&&(f.accept=!0),null!=u.value&&(f.initial=!0),n[o]=f}return n}).react([p.HOT],function(t,e){for(var n in e)t[n].x=e[n].x,t[n].y=e[n].y;return t}),v=Object(i.stream)([o.graph.HOT,c.activeNode.HOT],function(t,e){var n={};for(var i in t.processes){var a=t.processes[i],o=f({id:i},r(i),{from:[],async:a.async,autostart:a.autostart,active:a.id===e.id,acc:a.ports&&a.ports.includes(u.PORT_TYPES.ACCUMULATOR)});for(var s in t.arcs){var c=t.arcs[s];c.process===i&&(null!=c.port?o.from.push([c.entity,a.ports&&a.ports[c.port]]):o.to=c.entity)}n[i]=o}return n}),m=Object(i.stream)([h.HOT,v.HOT],function(t,e){var n=[],r=[];for(var i in e){var a=e[i],o=t[a.to];if(a.class=o.class,a.from.length){a.x=0,a.y=0;for(var s=0,c=a.from;s<c.length;s++){var l=c[s],f=l[0],d=l[1],p=t[f],h=p.x-o.x,v=p.y-o.y;d===u.PORT_TYPES.COLD&&(h/=2,v/=2),a.x+=h,a.y+=v}var m=Math.sqrt(a.x*a.x+a.y*a.y);a.x=50*a.x/m+o.x,a.y=50*a.y/m+o.y;for(var g=0,y=a.from;g<y.length;g++){var b=y[g],f=b[0],d=b[1],p=t[f];a.fromIsActive=a.fromIsActive||p.active,r.push({from:p,to:a,class:"from"+(d===u.PORT_TYPES.COLD?" cold":""),title:d,active:o.active||a.active||p.active})}}else a.x=o.x,a.y=o.y-50;n.push(a),r.push({from:a,to:o,class:"to"+(a.async?" async":""),active:o.active||a.active||a.fromIsActive}),a.acc&&r.push({from:a,to:o,class:"to acc"})}return{entities:Object.values(t),processes:n,edges:r}}).react([d.HOT],function(t,e){return t.viewBox={x:e.offsetX*e.scale,y:e.offsetY*e.scale,width:e.width*e.scale,height:e.height*e.scale},t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"entityTree",function(){return u}),n.d(e,"treeData",function(){return s});var r=n(0),i=n(7),a=n(3),o=n(30),u=Object(r.stream)([a.graph.HOT],function(t){return Object(o.createEntityTree)(t.entities)}),s=Object(r.stream)([a.metaTree.HOT,u.HOT,i.activeEntity.HOT],function(t,e,n){return{fold:t.fold||{},tree:e,selected:n}}).val({fold:null,tree:null,selected:{}})},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=".");var n={};return Object.keys(t).sort().forEach(function(r){var i=t[r],a=i.id.split(e),o=n,u=a.slice(),s=[];a.forEach(function(){var t=u.shift();u.length?(s.push(t),o=o[t]=o[t]||{__path__:s.join(e)}):o[t]={__entity__:i}})}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.createEntityTree=r},function(t,e,n){"use strict";function r(){for(var t in p)p[t]();p={},h=!0}function i(t,e){p[t]=e,h&&(requestAnimationFrame(r),h=!1)}function a(t,e,n){function r(n,r){"string"==typeof n?t.set(e,{type:n,payload:r}):t.set(e,n)}void 0===n&&(n=!1);var a={};return function e(u,s){var c=s.getId(),l=c+u.toString();if(a[l])return a[l];var p=function(a){function s(){var e=null!==a&&a.apply(this,arguments)||this;return e.state={current:t.get(c)},e.update=function(){e.setState(function(e){return e.current=t.get(c),e})},e.updateAsync=function(){i(l,e.update)},e}return f(s,a),s.prototype.render=function(){if(void 0!==this.state.current)return o(u(this.state.current,r,e))},s.prototype.componentDidMount=function(){n&&console.log("component mounted!",this),t.on(c,this.updateAsync)},s.prototype.componentWillUnmount=function(){n&&console.log("component will unmount!",this),t.off(c,this.updateAsync)},s}(d);return a[l]=p,p}}function o(t){if("function"==typeof t)return l()(t);if(!Array.isArray(t))return t;var e=t.shift(),n=t[0];return"object"!=typeof n||Array.isArray(n)?n={}:t.shift(),t.length?l()(e,n,t.map(o)):l()(e,n)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ComponentClass",function(){return d}),e.flowComponentFactory=a,e.h=o;var u=n(64),s=n.n(u),c=n(32),l=n.n(c),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e}(s.a),p={},h=!0},function(t,e,n){t.exports=n(67).default,t.exports.default=t.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ui",function(){return s}),n.d(e,"console",function(){return c}),n.d(e,"utils",function(){return l});var r=n(34),i=n(79),a=n(30),o=n(20),u=n(31);e.default=r;var s=r,c={tree:i},l={entityTree:a,webpack:o,yoyo:u}},function(t,e,n){"use strict";function r(t){return"tvsFlowTools::"+t}function i(t){function e(t,e){var n=t.getMeta(),i=localStorage.getItem(r(e));if(t.setMeta(M({},y.a,{name:e})),i){var a=JSON.parse(i);t.setMeta(a)}t.setMeta(n),requestAnimationFrame(function(){l.set(c.action.getId(),{type:m.a.SET_RUNTIME,payload:{label:e,runtime:t}})})}function n(){document.body.removeChild(S),O.destroy()}var i=M({debug:!1,graph:null},t),l=a.a.create();l.addGraph(Object(o.getGraphFromModules)(_)),l.flush();var d=Object(s.flowComponentFactory)(l,c.action.getId(),i.debug),h=Object(u.a)(d),S=document.createElement("div");S.className="tvs-flow-tools-container",document.body.appendChild(S),p.a.render(v()(h),S),l.set(c.element.getId(),S);var O=new f.a(".tvs-save-graph",{text:function(){return JSON.stringify(l.get(g.meta.getId()),null,"  ")}});return O.on("success",function(t){return console.log("saved graph to clipboard",t)}),O.on("error",function(t){return console.log("error while saving graph to clipboard",t)}),l.on(g.meta.getId(),b(function(t){var e=l.get(g.selectedRuntimeId.getId());e&&localStorage.setItem(r(e),JSON.stringify(t))},300)),{setFlow:e,dispose:n,getState:function(){return l},getElement:function(){return S}}}Object.defineProperty(e,"__esModule",{value:!0}),e.start=i;var a=n(35),o=n(20),u=n(39),s=n(31),c=n(15),l=n(68),f=n.n(l),d=n(17),p=n.n(d),h=n(32),v=n.n(h),m=n(4),g=n(3),y=n(16),b=n(76),M=(n.n(b),this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}),_=n(78)},function(t,e,n){"use strict";var r=n(36);n(0),n(19),n(8),e.a=r,r.create},function(t,e,n){"use strict";function r(){function t(){return{entities:N,processes:j,arcs:R,meta:k}}function e(){var t={};for(var e in P.es)t[e]=P.es[e].val;return t}function n(){return C}function r(t){C=t}function u(){return k}function s(t){return null==t||"object"!=typeof t||Array.isArray(t)||(k=Object(a.a)(k,t)),k}function c(t){L=t}function l(t){return P.es[t]&&P.es[t].val}function f(t,e){E(A(t),e,!0)&&x()}function d(t,e){f(t,e(l(t)))}function p(t,e){A(t).cb.push(e)}function h(t,e){var n=A(t);n.cb=e?n.cb.filter(function(t){return t!==e}):[]}function v(t){var e=Object(i.createEntity)(t);N[e.id]=e;var n=A(e.id);return void 0===e.value||!e.reset&&void 0!==n.val||(n.val=e.value,z[e.id]=!1,Y=!0),n.accept=e.accept,e.meta&&s({entities:(r={},r[e.id]=e.meta,r)}),e;var r}function m(t){var e=A(t);for(var n in e.arcs)M(n);var r=N[t];r&&r.meta&&s({entities:(i={},i[r.id]=void 0,i)}),delete P.es[t],delete N[t];var i}function g(t){var e=Object(i.createProcess)(t,C),n=e.ports,r=F(e.id);j[e.id]=e,delete r.acc,r.values=[],r.sources=[],r.async=e.async,r.delta=e.delta,Object.keys(r.arcs).forEach(function(t){var e=R[t].port;null==e||n[e]&&n[e]!==i.PORT_TYPES.ACCUMULATOR||M(t)}),n.forEach(function(t,e){t===i.PORT_TYPES.ACCUMULATOR&&(r.acc=e)});for(var a in r.arcs)_(R[a]);return e.meta&&s({processes:(o={},o[e.id]=e.meta,o)}),e;var o}function y(t){var e=F(t);e.stop&&(e.stop(),delete e.stop);for(var n in e.arcs)M(n);delete P.ps[t];var r=j[t];r&&r.meta&&s({processes:(i={},i[r.id]=void 0,i)}),delete j[t];var i}function b(t){var e=Object(i.createArc)(t);R[e.id]=e,_(e);var n=F(e.process),r=j[e.process];return r&&!0===r.autostart&&Object.keys(n.arcs).length===Object.keys(r.ports).length+1&&I(n),e.meta&&s({arcs:(a={},a[e.id]=e.meta,a)}),e;var a}function M(t){var e=R[t];if(e){var n=F(e.process),r=A(e.entity);delete n.arcs[t],delete r.arcs[t],null!=e.port?(delete r.effects[e.process],delete n.sources[e.port],delete n.values[e.port]):(n.stop&&(n.stop(),delete n.stop),n.sink=function(){},delete n.out,delete r.reactions[e.process]),e.meta&&s({arcs:(i={},i[e.id]=void 0,i)})}delete R[t];var i}function _(t){var e=t.process,n=t.entity,r=F(e),a=A(n),o=j[e];a.arcs[t.id]=!0,o&&(r.arcs[t.id]=!0,null!=t.port?(delete a.effects[e],o.ports&&null!=o.ports[t.port]&&(r.sources[t.port]=a,o.ports[t.port]===i.PORT_TYPES.HOT&&(a.effects[e]=r))):(r.out=a,null!=r.acc?(r.sources[r.acc]=a,a.reactions[e]=r):delete a.reactions[e],r.sink=function(t){E(a,t,!0)&&!H&&x()}))}function S(t){if(t.entities)for(var e in t.entities)v(t.entities[e]);if(t.processes)for(var e in t.processes)g(t.processes[e]);if(t.arcs)for(var e in t.arcs)b(t.arcs[e]);s(t.meta)}function O(t){var e={},n={};if(t.entities)for(var r in t.entities){var i=t.entities[r];i.id&&(e[i.id]=!0)}if(t.processes)for(var r in t.processes){var a=t.processes[r];a.id&&(n[a.id]=!0)}Object.keys(N).filter(function(t){return!e[t]}).forEach(m),Object.keys(j).filter(function(t){return!n[t]}).forEach(y),S(t)}function x(){L&&console.log("flushing graph recursively with",z);for(var t=Object.keys(z),e=0,n=t;e<n.length;e++){var r=n[e];if(z[r]){var i=P.es[r];for(var a in i.reactions)T(i.reactions[a])}}var o={};z={},Y=!1,H=!0;for(var u=0,s=t;u<s.length;u++){var r=s[u],i=P.es[r];i.cb.length>0&&(U[r]=i);for(var a in i.effects)o[a]||(T(i.effects[a]),o[a]=!0)}if(H=!1,Y)x();else{var c=Object.keys(U);U={};for(var l in c)for(var i=P.es[c[l]],f=0,d=i.cb;f<d.length;f++){var p=d[f];p(i.val)}L&&console.log("flush finished")}}function T(t){for(var e=!0,n=0;n<t.sources.length;n++){var r=t.sources[n];if(void 0===r.val){e=!1;break}if(t.values[n]=r.val,t.delta){if(void 0===r.oldVal){e=!1;break}t.values[n+1]=r.oldVal}}if(e)if(L&&console.log("running process",t.id),t.async)t.stop&&t.stop(),t.stop=j[t.id].procedure.apply(C,[t.sink].concat(t.values));else{var i=j[t.id].procedure.apply(C,t.values);t.out&&E(t.out,i,null==t.acc)}}function E(t,e,n){return!(void 0===e||t.accept&&!t.accept(e,t.val)||(t.oldVal=t.val,t.val=e,z[t.id]=n,Y=!0,0))}function I(t){t.async?requestAnimationFrame(function(){T(t)}):(T(t),t.out&&(z[t.out.id]=!1))}function w(t){var e=F(t);T(e),e.async||x()}function D(t){var e=F(t);e.stop&&(e.stop(),delete e.stop)}function A(t){return N[t]||v({id:t}),P.es[t]||(P.es[t]={id:t,val:void 0,reactions:{},effects:{},arcs:{},cb:[]})}function F(t){return P.ps[t]||(P.ps[t]={id:t,arcs:{},sink:function(){}})}var N={},j={},R={},P={es:{},ps:{}},k={},C=null,L=!1,U={},z={},H=!1,Y=!1;return{addEntity:v,removeEntity:m,addProcess:g,removeProcess:y,addArc:b,removeArc:M,addGraph:S,replaceGraph:O,getGraph:t,getState:e,setMeta:s,getMeta:u,getContext:n,setContext:r,setDebug:c,get:l,set:f,update:d,on:p,off:h,start:w,stop:D,flush:x,PORT_TYPES:o({},i.PORT_TYPES)}}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r;var i=n(8),a=n(38),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(module,__webpack_exports__,__webpack_require__){"use strict";function evaluate(code,context){var prefix="(function(){ return ",postfix="})",factory=eval(prefix+code+postfix);return factory.call(context)}__webpack_exports__.a=evaluate},function(t,e,n){"use strict";function r(t,e){if("object"==typeof t&&"object"==typeof e&&!Array.isArray(t)&&!Array.isArray(e)){var n=i({},t);for(var a in e){var o=t[a],u=e[a];void 0!==u?n[a]=r(o,u):delete n[a]}return n}return e}e.a=r;var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";function r(t,e){function n(t){e(_.b.MAIN.MOVE_WINDOW,t)}var r=t.title;return["h1",w({},Object(I.a)(n)),r]}function i(t){function e(e){t(_.b.MAIN.RESIZE_WINDOW,e)}return["footer",w({},Object(I.a)(e),{class:"resize"})]}function a(t,e){return function(){return e(_.b.MAIN.SET_ACTIVE_WINDOW,t)}}function o(t,e,n){var i=t.visibility,o=t.position,u=function(t){return function(){return e(_.b.MAIN.UPDATE_VISIBILITY,t)}};return["header",{class:Object(d.a)("tvs-flow-controls",m.a),onmousedown:a("controls",e),style:w({},o)},n(r,O.controlTitleProps),["nav",{class:"tvs-controls-btns"},["ul",["li",Object(v.a)({class:i.tree&&D,onclick:u("tree"),icon:p.e(),title:"toggle entity tree"})],["li",Object(v.a)({class:i.graph&&D,onclick:u("graph"),icon:p.d(),title:"toggle flow graph"})],["li",Object(v.a)({class:i.entity&&D,onclick:u("entity"),icon:p.c(),title:"toggle entity details"})]]]]}function u(t,e,n){function r(t){e(_.b.MAIN.MOVE_WINDOW,t)}var o=t.dimensions,u=t.window;return["article",{class:Object(d.a)("tvs-flow-tree",m.e),style:w({},o),onmousedown:a("tree",e)},["header",w({},Object(I.a)(r)),p.e("tree"===u?"selected":"")," Tree ",["span",{class:"gap"}]," ",Object(v.a)({icon:p.a(),class:M.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"tree")}})],["section",{class:m.d},n(b.a,E.treeData)],i(e)]}function s(t,e,n){function r(t){if(t&&t.querySelector){var n=t.querySelector("section");requestAnimationFrame(function(){e(_.b.GRAPH.UPDATE_SIZE,{width:n.clientWidth,height:n.clientHeight})})}}function o(t){e(_.b.MAIN.MOVE_WINDOW,t)}var u=t.dimensions,s=t.window,c=n(g.a,x.viewData);return["article",{ref:r,class:Object(d.a)("tvs-flow-graph",m.e),style:w({},u),onmousedown:a("graph",e)},["header",w({},Object(I.a)(o)),p.d("graph"===s?"selected":"")," Graph ",["span",{class:"gap"}],n(g.b,x.viewBox)," ",Object(v.a)({icon:p.b(),class:Object(d.a)(M.b,"tvs-save-graph"),title:"copy the current graph state to clipboard"}),Object(v.a)({icon:p.a(),class:M.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"graph")}})],c,i(e)]}function c(t,e,n){function r(t){e(_.b.MAIN.MOVE_WINDOW,t)}var o=t.dimensions,u=t.node,s=t.window,c=u&&u.procedure?Object(y.b)(u,e):n(y.a,T.entityViewProps);return["article",{class:Object(d.a)("tvs-flow-entity",m.e),style:w({},o),onmousedown:a("entity",e)},["header",w({},Object(I.a)(r)),p.c("entity"===s?"selected":"")," ",u&&u.id," ",["span",{class:"gap"}," "]," ",Object(v.a)({icon:p.a(),class:M.b,title:"close window",onclick:function(){return e(_.b.MAIN.CLOSE_WINDOW,"entity")}})],c,i(e)]}function l(t,e,n){var r=t.tree?n(u,O.treeWindowProps):"",i=t.graph?n(s,O.graphWindowProps):"",a=t.entity?n(c,O.entityWindowProps):"";return["article",{class:Object(d.a)("tvs-flow-tools",h.f)},n(o,O.controlProps),i,a,r]}function f(t){return t(l,S.visibility)}e.a=f;var d=n(21),p=n(12),h=n(5),v=n(13),m=n(14),g=n(58),y=n(60),b=n(61),M=n(10),_=n(4),S=n(6),O=n(27),x=n(28),T=n(7),E=n(29),I=n(26),w=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},D=Object(d.b)({color:h.e})},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(41),i=n(22),a=n(9),o=(n.n(a),function(){return a.create(void 0,!0)}),u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var o=Object(r.a)(i.b.apply(void 0,e)).result;n._freeStyle.registerRule(t,o),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,i=0,a=t;i<a.length;i++){var o=a[i];r.registerRule("@font-face",o)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=Object(r.b)(t),i=e.keyframes,a=e.$debugName,o=n._freeStyle.registerKeyframes(i,a);return n._styleUpdated(),o},this.reinit=function(){var t=o();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var a=n._freeStyle,o=Object(r.a)(i.b.apply(void 0,t)),u=o.result,s=o.debugName,c=s?a.registerStyle(u,s):a.registerStyle(u);return n._styleUpdated(),c};var a=o();this._autoGenerateTag=e,this._freeStyle=a,this._lastFreeStyleChangeId=a.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;Object(i.c)(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}()},function(t,e,n){"use strict";function r(t){var e={},n="";for(var i in t){var o=t[i];if("$unique"===i)e[a.IS_UNIQUE]=o;else if("$nest"===i){var u=o;for(var s in u){var c=u[s];e[s]=r(c).result}}else"$debugName"===i?n=o:e[i]=o}return{result:e,debugName:n}}function i(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e}e.a=r,e.b=i;var a=n(9);n.n(a)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function o(){v&&p&&(v=!1,p.length?h=p.concat(h):m=-1,h.length&&u())}function u(){if(!v){var t=i(o);v=!0;for(var e=h.length;e;){for(p=h,h=[];++m<e;)p&&p[m].run();m=-1,e=h.length}p=null,v=!1,a(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||v||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45),i=n(23),a=n(9),o=function(){return a.create(void 0,!0)},u=function(){function t(t){var e=t.autoGenerateTag,n=this;this.cssRaw=function(t){t&&(n._raw+=t||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(t){for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var o=r.ensureStringObj(i.extend.apply(void 0,e)).result;n._freeStyle.registerRule(t,o),n._styleUpdated()},this.forceRenderStyles=function(){var t=n._getTag();t&&(t.textContent=n.getStyles())},this.fontFace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=n._freeStyle,i=0,a=t;i<a.length;i++){var o=a[i];r.registerRule("@font-face",o)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(t){var e=r.explodeKeyframes(t),i=e.keyframes,a=e.$debugName,o=n._freeStyle.registerKeyframes(i,a);return n._styleUpdated(),o},this.reinit=function(){var t=o();n._freeStyle=t,n._lastFreeStyleChangeId=t.changeId,n._raw="",n._pendingRawChange=!1;var e=n._getTag();e&&(e.textContent="")},this.setStylesTarget=function(t){n._tag&&(n._tag.textContent=""),n._tag=t,n.forceRenderStyles()},this.style=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var a=n._freeStyle,o=r.ensureStringObj(i.extend.apply(void 0,t)),u=o.result,s=o.debugName,c=s?a.registerStyle(u,s):a.registerStyle(u);return n._styleUpdated(),c};var a=o();this._autoGenerateTag=e,this._freeStyle=a,this._lastFreeStyleChangeId=a.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return t.prototype._afterAllSync=function(t){var e=this;this._pending++;var n=this._pending;i.raf(function(){n===e._pending&&t()})},t.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var t="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(t),this._tag=t,t}},t.prototype._styleUpdated=function(){var t=this,e=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||e!==n)&&(this._lastFreeStyleChangeId=e,this._pendingRawChange=!1,this._afterAllSync(function(){return t.forceRenderStyles()}))},t}();e.TypeStyle=u},function(t,e,n){"use strict";function r(t){var e={},n="";for(var i in t){var o=t[i];if("$unique"===i)e[a.IS_UNIQUE]=o;else if("$nest"===i){var u=o;for(var s in u){var c=u[s];e[s]=r(c).result}}else"$debugName"===i?n=o:e[i]=o}return{result:e,debugName:n}}function i(t){var e={$debugName:void 0,keyframes:{}};for(var n in t){var r=t[n];"$debugName"===n?e.$debugName=r:e.keyframes[n]=r}return e}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9);e.ensureStringObj=r,e.explodeKeyframes=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";var r=n(48);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";var r=(n(49),n(53),n(54));n.d(e,"a",function(){return r.a}),n(55),n(24),n(56),n(57),n(25)},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t,e){return Array.prototype.filter.call(t,e)},i=function(t,e){return Array.prototype.map.call(t,e)}},function(t,e,n){"use strict";function r(t){return"number"==typeof t?t:.01*parseFloat(t)}function i(t){return a(100*t)+"%"}function a(t){return l.exec(t.toString())[1]}function o(t){if(null!==t&&void 0!==t){var e=+t;return e===e?t+"px":t}}function u(t){var e=c.exec(t);if(e&&e.length)return[e[1]].concat(e[2].split(","))}function s(t,e){return t+"("+Array.prototype.join.call(e,",")+")"}n.d(e,"f",function(){return f}),e.c=r,e.e=i,e.d=a,e.b=o,e.g=u,e.a=s;var c=/[\s]*([a-z-]+)[\s]*\([\s]*([^\)]+)[\s]*\)[\s]*/i,l=/^(\-?\d+\.?\d{0,5})/,f=function(t){return function(e){return e+t}}},function(t,e,n){"use strict";function r(t,e){return Math.round(t*e)/e}e.a=r},function(t,e,n){"use strict";var r=(n(2),n(24));r.a,r.a,r.a},function(t,e,n){"use strict";function r(t){return h(t)||v(t)||m(t)||h("red")}function i(t,e,n){return new T(_,t,e,n,1,!1)}function a(t,e,n,r){return new T(_,t,e,n,Object(b.c)(r),!0)}function o(t){var e=Math.round(t);return(e<16?"0":"")+e.toString(16)}function u(t){return((t<0?360:0)+t%360)%360}function s(t,e,n,r,i){var a,o=t/255,u=e/255,s=n/255,c=Math.min(o,u,s),l=Math.max(o,u,s),f=(c+l)/2,d=l-c;a=l===c?0:o===l?(u-s)/d:u===l?2+(s-o)/d:s===l?4+(o-u)/d:0,(a=Math.min(60*a,360))<0&&(a+=360);var p;return p=l===c?0:f<=.5?d/(l+c):d/(2-l-c),new T(S,a,p,f,r,i)}function c(t,e,n,r,i){var a=t/360,o=e,u=n;if(0===o){var s=255*u;return new T(_,s,s,s,r,i)}for(var c=u<.5?u*(1+o):u+o-u*o,l=2*u-c,f=0,d=0,p=0,h=0;h<3;h++){var v=a+1/3*-(h-1);v<0&&v++,v>1&&v--;var s=void 0;s=6*v<1?l+6*(c-l)*v:2*v<1?c:3*v<2?l+(c-l)*(2/3-v)*6:l,s*=255,0===h?f=s:1===h?d=s:p=s}return new T(_,f,d,p,r,i)}function l(t,e,n,r,i,a,o){return t===e?new T(t,n,r,i,a,o):O[t-e](n,r,i,a,o)}function f(t,e,n,r){if(!M)return[t||0,e||0,n||0,r||0];var i=new Float32Array(4);return i[0]=t||0,i[1]=e||0,i[2]=n||0,i[3]=r||0,i}function d(t,e,n){var r=x[t][e];return n<0?0:n>r?r:n}function p(t){return t instanceof T?t:r(t)}function h(t){return E[t]||void 0}function v(t){var e=t.match(/#(([a-f0-9]{6})|([a-f0-9]{3}))$/i);if(e){var n=e[1],r=parseInt(3===n.length?n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n,16);return new T(_,r>>16&255,r>>8&255,255&r,1,!1)}}function m(t){var e=Object(b.i)(t);if(e&&(4===e.length||5===e.length)){var n,r=e[0],i="rgba"===r,a="hsla"===r,o="rgb"===r,u="hsl"===r,s=a||i;if(o||i)n=_;else{if(!u&&!a)throw new Error("unsupported color string");n=S}var c=parseFloat(e[1]),l=o||i?parseFloat(e[2]):Object(b.c)(e[2]),f=o||i?parseFloat(e[3]):Object(b.c)(e[3]),d=s?parseFloat(e[4]):1;return new T(n,c,l,f,d,s)}}e.a=a;var g,y,b=n(2),M="undefined"!=typeof Float32Array,_=0,S=1,O=(g={},g[_-S]=s,g[S-_]=c,g),x=(y={},y[_]=f(255,255,255,1),y[S]=f(360,1,1,1),y),T=function(){function t(t,e,n,r,i,a){this._format=t,this._hasAlpha=a,this._values=f(d(t,0,e),d(t,1,n),d(t,2,r),d(t,3,i))}return t.convertHelper=function(t,e){var n=e._format,r=e._values,i=e._hasAlpha;return n===t?e:O[n-t](r[0],r[1],r[2],r[3],i)},t.prototype.toString=function(){var t,e,n=this._format,r=this._values,i=this._hasAlpha;if(n===_)t=i?"rgba":"rgb",e=[Math.round(r[0]),Math.round(r[1]),Math.round(r[2])];else{if(n!==S)throw new Error("Invalid color format");t=i?"hsla":"hsl",e=[Math.round(r[0]),Object(b.f)(Object(b.j)(r[1],100)),Object(b.f)(Object(b.j)(r[2],100))]}return i&&e.push(Object(b.e)(Object(b.j)(r[3],1e5))),Object(b.a)(t,e)},t.prototype.toHexString=function(){var e=t.convertHelper(_,this)._values;return"#"+(o(e[0])+o(e[1])+o(e[2])).toUpperCase()},t.prototype.toHSL=function(){var t=this._values;return l(this._format,S,t[0],t[1],t[2],1,!1)},t.prototype.toHSLA=function(){var t=this._values;return l(this._format,S,t[0],t[1],t[2],t[3],!0)},t.prototype.toRGB=function(){var t=this._values;return l(this._format,_,t[0],t[1],t[2],1,!1)},t.prototype.toRGBA=function(){var t=this._values;return l(this._format,_,t[0],t[1],t[2],t[3],!0)},t.prototype.red=function(){return(this._format===_?this:this.toRGB())._values[0]},t.prototype.green=function(){return(this._format===_?this:this.toRGB())._values[1]},t.prototype.blue=function(){return(this._format===_?this:this.toRGB())._values[2]},t.prototype.hue=function(){return(this._format===S?this:this.toHSL())._values[0]},t.prototype.saturation=function(){return(this._format===S?this:this.toHSL())._values[1]},t.prototype.lightness=function(){return(this._format===S?this:this.toHSL())._values[2]},t.prototype.alpha=function(){return this._values[3]},t.prototype.opacity=function(){return this.alpha()},t.prototype.invert=function(){var e=t.convertHelper(_,this)._values;return t.convertHelper(this._format,new t(_,255-e[0],255-e[1],255-e[2],this._values[3],this._hasAlpha))},t.prototype.lighten=function(e,n){var r=t.convertHelper(S,this)._values,i=x[S][2],a=r[2]+(n?i-r[2]:i)*Object(b.c)(e);return t.convertHelper(this._format,new t(S,r[0],r[1],a,this._values[3],this._hasAlpha))},t.prototype.darken=function(e,n){var r=t.convertHelper(S,this)._values,i=r[2]-(n?r[2]:x[S][2])*Object(b.c)(e);return t.convertHelper(this._format,new t(S,r[0],r[1],i,this._values[3],this._hasAlpha))},t.prototype.saturate=function(e,n){var r=t.convertHelper(S,this)._values,i=x[S][1],a=r[1]+(n?i-r[1]:i)*Object(b.c)(e);return t.convertHelper(this._format,new t(S,r[0],a,r[2],this._values[3],this._hasAlpha))},t.prototype.desaturate=function(e,n){var r=t.convertHelper(S,this)._values,i=x[S][1],a=r[1]-(n?r[1]:i)*Object(b.c)(e);return t.convertHelper(this._format,new t(S,r[0],a,r[2],this._values[3],this._hasAlpha))},t.prototype.grayscale=function(){return this.desaturate(1)},t.prototype.fade=function(e){var n=this._values,r=d(_,3,Object(b.c)(e));return t.convertHelper(this._format,new t(this._format,n[0],n[1],n[2],r,!0))},t.prototype.fadeOut=function(e,n){var r=this._values,i=d(_,3,r[3]-(n?r[3]:1)*Object(b.c)(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],i,!0))},t.prototype.fadeIn=function(e,n){var r=this._values,i=d(_,3,r[3]+(n?r[3]:1)*Object(b.c)(e));return t.convertHelper(this._format,new t(this._format,r[0],r[1],r[2],i,!0))},t.prototype.mix=function(e,n){var r=this,i=p(e),a=t.convertHelper(_,r)._values,o=t.convertHelper(_,i)._values,u=void 0===n?.5:n,s=2*u-1,c=Math.abs(a[3]-o[3]),l=((s*c==-1?s:(s+c)/(1+s*c))+1)/2,f=1-l,d=new t(_,Math.round(a[0]*l+o[0]*f),Math.round(a[1]*l+o[1]*f),Math.round(a[2]*l+o[2]*f),a[3]*u+o[3]*(1-u),r._hasAlpha||i._hasAlpha);return t.convertHelper(this._format,d)},t.prototype.tint=function(t){return w.mix(this,t)},t.prototype.shade=function(t){return I.mix(this,t)},t.prototype.spin=function(e){var n=t.convertHelper(S,this)._values;return t.convertHelper(this._format,new t(S,u(n[0]+e),n[1],n[2],this._values[3],this._hasAlpha))},t}(),E={aliceblue:i(240,248,245),antiquewhite:i(250,235,215),aqua:i(0,255,255),aquamarine:i(127,255,212),azure:i(240,255,255),beige:i(245,245,220),bisque:i(255,228,196),black:i(0,0,0),blanchedalmond:i(255,235,205),blue:i(0,0,255),blueviolet:i(138,43,226),brown:i(165,42,42),burlywood:i(222,184,35),cadetblue:i(95,158,160),chartreuse:i(127,255,0),chocolate:i(210,105,30),coral:i(255,127,80),cornflowerblue:i(100,149,237),cornsilk:i(255,248,220),crimson:i(220,20,60),cyan:i(0,255,255),darkblue:i(0,0,139),darkcyan:i(0,139,139),darkgoldenrod:i(184,134,11),darkgray:i(169,169,169),darkgreen:i(0,100,0),darkgrey:i(169,169,169),darkkhaki:i(189,183,107),darkmagenta:i(139,0,139),darkolivegreen:i(85,107,47),darkorange:i(255,140,0),darkorchid:i(153,50,204),darkred:i(139,0,0),darksalmon:i(233,150,122),darkseagreen:i(143,188,143),darkslateblue:i(72,61,139),darkslategray:i(47,79,79),darkslategrey:i(47,79,79),darkturquoise:i(0,206,209),darkviolet:i(148,0,211),deeppink:i(255,20,147),deepskyblue:i(0,191,255),dimgray:i(105,105,105),dimgrey:i(105,105,105),dodgerblue:i(30,144,255),firebrick:i(178,34,34),floralwhite:i(255,250,240),forestgreen:i(34,139,34),fuchsia:i(255,0,255),gainsboro:i(220,220,220),ghostwhite:i(248,248,255),gold:i(255,215,0),goldenrod:i(218,165,32),gray:i(128,128,128),green:i(0,128,0),greenyellow:i(173,255,47),grey:i(128,128,128),honeydew:i(240,255,240),hotpink:i(255,105,180),indianred:i(205,92,92),indigo:i(75,0,130),ivory:i(255,255,240),khaki:i(240,230,140),lavender:i(230,230,250),lavenderblush:i(255,240,245),lawngreen:i(124,252,0),lemonchiffon:i(255,250,205),lightblue:i(173,216,230),lightcoral:i(240,128,128),lightcyan:i(224,255,255),lightgoldenrodyellow:i(250,250,210),lightgray:i(211,211,211),lightgreen:i(144,238,144),lightgrey:i(211,211,211),lightpink:i(255,182,193),lightsalmon:i(255,160,122),lightseagreen:i(32,178,170),lightskyblue:i(135,206,250),lightslategray:i(119,136,153),lightslategrey:i(119,136,153),lightsteelblue:i(176,196,222),lightyellow:i(255,255,224),lime:i(0,255,0),limegreen:i(50,205,50),linen:i(250,240,230),maroon:i(128,0,0),mediumaquamarine:i(102,205,170),mediumblue:i(0,0,205),mediumorchid:i(186,85,211),mediumpurple:i(147,112,219),mediumseagreen:i(60,179,113),mediumslateblue:i(123,104,238),mediumspringgreen:i(0,250,154),mediumturquoise:i(72,209,204),mediumvioletred:i(199,21,133),midnightblue:i(25,25,112),mintcream:i(245,255,250),mistyrose:i(255,228,225),moccasin:i(255,228,181),navajowhite:i(255,222,173),navy:i(0,0,128),oldlace:i(253,245,230),olive:i(128,128,0),olivedrab:i(107,142,35),orange:i(255,165,0),purple:i(128,0,128),rebeccapurple:i(102,51,153),red:i(255,0,0),silver:i(192,192,192),teal:i(0,128,128),transparent:a(0,0,0,0),white:i(255,255,255),yellow:i(255,255,0)},I=(E.aliceblue,E.antiquewhite,E.aqua,E.aquamarine,E.azure,E.beige,E.bisque,E.black),w=(E.blanchedalmond,E.blue,E.blueviolet,E.brown,E.burlywood,E.cadetblue,E.chartreuse,E.chocolate,E.coral,E.cornflowerblue,E.cornsilk,E.crimson,E.cyan,E.darkblue,E.darkcyan,E.darkgoldenrod,E.darkgray,E.darkgreen,E.darkgrey,E.darkkhaki,E.darkmagenta,E.darkolivegreen,E.darkorange,E.darkorchid,E.darkred,E.darksalmon,E.darkseagreen,E.darkslateblue,E.darkslategray,E.darkslategrey,E.darkturquoise,E.darkviolet,E.deeppink,E.deepskyblue,E.dimgray,E.dimgrey,E.dodgerblue,E.firebrick,E.floralwhite,E.forestgreen,E.fuchsia,E.gainsboro,E.ghostwhite,E.gold,E.goldenrod,E.gray,E.green,E.greenyellow,E.grey,E.honeydew,E.hotpink,E.indianred,E.indigo,E.ivory,E.khaki,E.lavender,E.lavenderblush,E.lawngreen,E.lemonchiffon,E.lightblue,E.lightcoral,E.lightcyan,E.lightgoldenrodyellow,E.lightgray,E.lightgreen,E.lightgrey,E.lightpink,E.lightsalmon,E.lightseagreen,E.lightskyblue,E.lightslategray,E.lightslategrey,E.lightsteelblue,E.lightyellow,E.lime,E.limegreen,E.linen,E.maroon,E.mediumaquamarine,E.mediumblue,E.mediumorchid,E.mediumpurple,E.mediumseagreen,E.mediumslateblue,E.mediumspringgreen,E.mediumturquoise,E.mediumvioletred,E.midnightblue,E.mintcream,E.mistyrose,E.moccasin,E.navajowhite,E.navy,E.oldlace,E.olive,E.olivedrab,E.orange,E.purple,E.rebeccapurple,E.red,E.silver,E.teal,E.transparent,E.white);E.yellow},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict"},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";function r(t,e){return["span",["input",{type:"range",value:t.scale,min:.5,max:3,step:.2,onchange:function(t){return e(u.b.GRAPH.UPDATE_SCALE,t.target.value)},onmousemove:function(t){return t.stopPropagation()}}]]}function i(t,e){if(!t)return["section",{class:a.a}];var n=t.entities,r=t.processes,i=t.edges,l=t.viewBox,f=void 0===l?{}:l;return["section",{class:a.a},["svg",c({width:"100%",height:"100%",id:"graph-ui",viewBox:f.x+", "+f.y+", "+f.width+", "+f.height},Object(s.a)(function(t){return e(u.b.GRAPH.MOVE_VIEWPORT,t)},function(t){t&&2===t.button&&t.target===t.currentTarget&&e(u.b.ENTITY.RESET_ACTIVE_NODE)}),{oncontextmenu:function(t){return t.preventDefault()}})].concat(i.map(function(t){return["line",{x1:t.from.x,y1:t.from.y,x2:t.to.x,y2:t.to.y,class:Object(o.classes)(t.class,t.active&&"active")}]}),r.map(function(t){return["circle",{class:Object(o.classes)(t.class,t.active&&"active"),transform:"translate("+t.x+", "+t.y+")",onmousedown:function(){return e(u.b.ENTITY.SET_ACTIVE_PROCESS,t.id)},cx:0,cy:0,r:t.autostart?13:8,title:t.id}]}),n.map(function(t){return["g",c({"data-eid":t.id,transform:"translate("+t.x+", "+t.y+")",title:t.id,class:Object(o.classes)(t.class,t.active&&"active")},Object(s.a)(function(n){return e(u.b.GRAPH.MOVE_ENTITY_POSITION,{start:t,delta:n})},function(){return e(u.b.ENTITY.SET_ACTIVE_ENTITY,t.id)})),["rect",{x:-15,y:-15,width:30,height:30,class:t.accept?"accept":""}],["text",{"text-anchor":"middle",x:0,y:30},t.label],t.initial&&["circle",{cx:0,cy:0,r:6,class:"initial"}]]}))]}e.b=r,e.a=i;var a=n(59),o=n(1),u=(n.n(o),n(4)),s=n(26),c=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(1),i=(n.n(r),n(5)),a=Object(r.style)(i.b,{position:"relative",flexGrow:1,$nest:{"& svg":{position:"absolute",filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.6))"},"& text":{fill:"white",stroke:"black",paintOrder:"stroke"},"& line":{stroke:"darkgray",$nest:{"&.active":{stroke:"#ff7"},"&.to":{strokeWidth:6},"&.to.async":{strokeDasharray:"4, 5"},"&.to.acc":{stroke:"black",strokeWidth:2},"&.from":{strokeWidth:2},"&.from.cold":{strokeDasharray:"7, 10"}}},"& rect":{$nest:{"&.accept":{strokeWidth:3,strokeDasharray:"3, 3"}}},"& .group-1 rect":{fill:"orangered"},"& .group-1.active rect":{fill:"lightsalmon",stroke:"orangered",strokeWidth:5},"& circle.group-1":{fill:"orangered"},"& circle.group-1.active":{fill:"lightsalmon"},"& .group-1 .initial":{fill:"darkred"},"& .group-1 .accept":{stroke:"darkred"},"& .group-2 rect":{fill:"limegreen"},"& .group-2.active rect":{fill:"palegreen",stroke:"limegreen",strokeWidth:5},"& circle.group-2":{fill:"limegreen"},"& circle.group-2.active":{fill:"palegreen"},"& .group-2 .initial":{fill:"darkgreen"},"& .group-2 .accept":{stroke:"darkgreen"},"& .group-3 rect":{fill:"cornflowerblue"},"& .group-3.active rect":{fill:"lightblue",stroke:"cornflowerblue",strokeWidth:5},"& circle.group-3":{fill:"cornflowerblue"},"& circle.group-3.active":{fill:"lightblue"},"& .group-3 .initial":{fill:"darkslateblue"},"& .group-3 .accept":{stroke:"darkslateblue"},"& .group-4 rect":{fill:"orchid"},"& .group-4.active rect":{fill:"thistle",stroke:"orchid",strokeWidth:5},"& circle.group-4":{fill:"orchid"},"& circle.group-4.active":{fill:"thistle"},"& .group-4 .initial":{fill:"purple"},"& .group-4 .accept":{stroke:"purple"},"& .group-5 rect":{fill:"gold"},"& .group-5.active rect":{fill:"palegoldenrod",stroke:"gold",strokeWidth:5},"& circle.group-5":{fill:"gold"},"& circle.group-5.active":{fill:"beige"},"& .group-5 .initial":{fill:"darkgoldenrod"},"& .group-5 .accept":{stroke:"darkgoldenrod"},"& .group-6 rect":{fill:"lightseagreen"},"& .group-6.active rect":{fill:"paleturquoise",stroke:"lightseagreen",strokeWidth:5},"& circle.group-6":{fill:"lightseagreen"},"& circle.group-6.active":{fill:"paleturquoise"},"& .group-6 .initial":{fill:"darkslategray"},"& .group-6 .accept":{stroke:"darkslategray"},"& .group-7 rect":{fill:"orange"},"& .group-7.active rect":{fill:"moccasin",stroke:"orange",strokeWidth:5},"& circle.group-7":{fill:"orange"},"& circle.group-7.active":{fill:"moccasin"},"& .group-7 .initial":{fill:"saddlebrown"},"& .group-7 .accept":{stroke:"saddlebrown"}}})},function(t,e,n){"use strict";function r(t,e,n){var r="";try{r=JSON.stringify(t,null,"  ")}catch(t){r="Error: "+t.message}return["code",["pre",{contentEditable:!e,onInput:function(t){return n.value=t.target.textContent}},r]]}function i(t,e){var n=t.entity,i=t.value,a=t.watching,f={value:i},d=["div",{style:"margin-top: 4px"}];return a?(d.push(["button",{class:s.a,key:"edit-btn",onclick:function(){return e(l.b.ENTITY.WATCH_ACTIVE_ENTITY,!1)}},"Edit"],Object(u.a)({key:"inspect-btn-"+n.id,onclick:function(){return e(l.a.ENTITY_INSPECT,n.id)},icon:o.i(),title:"Inspect entity value"})),n.value&&d.push(Object(u.a)({key:"reset-btn-"+n.id,onclick:function(){return e(l.a.ENTITY_RESET,n.id)},icon:o.h(),title:"Reset entity value"}))):d.push(["button",{class:s.a,onclick:function(){return e(l.b.ENTITY.WATCH_ACTIVE_ENTITY,!0)}},"Cancel"],["button",{class:s.a,key:"save-btn-"+n.id,onclick:function(){var t=JSON.parse(f.value);e(l.b.ENTITY.SAVE_VALUE,t)}},"Save"]),["section",{class:c.b},["div",{class:c.d,key:n.id+a},r(i,a,f)],d]}function a(t,e){var n=["div",{style:"margin-top: 4px"}];return n.push(Object(u.a)({onclick:function(){return e(l.a.PROCESS_RUN,t.id)},icon:o.g(),title:"Run process"})),t.async&&n.push(Object(u.a)({onclick:function(){return e(l.a.PROCESS_STOP,t.id)},icon:o.j(),title:"Stop async process"})),["section",{class:c.b},["div",{class:c.d},["code",["pre",t.procedure.toString()]]],n]}e.a=i,e.b=a;var o=n(12),u=n(13),s=n(10),c=n(14),l=n(4)},function(t,e,n){"use strict";function r(t,e,n,i,a){if(e.__entity__){var o=e.__entity__,d=["span",{class:"entity-controls"},Object(s.a)({icon:u.i(),class:c.b,onclick:function(){return i(l.a.ENTITY_INSPECT,o.id)},title:"Inspect entity value"})];null!=o.value&&d.push(Object(s.a)({class:c.b,onclick:function(){return i(l.a.ENTITY_RESET,o.id)},icon:u.h(),title:"Reset entity value"}));var p="entity-item";return n===o.id&&(p+=" selected"),["li",["div",{class:p,onclick:function(){return i(l.b.ENTITY.SET_ACTIVE_ENTITY,o.id)}},null!=o.value?u.k():u.j()," "+t+" ",d]]}var h=["li",["div",{onclick:function(){return i(l.b.TREE.TOGGLE_LEVEL,e.__path__)}},u.f(a[e.__path__]?"":f)," "+t]];if(!a[e.__path__]){var v=["ul"];for(var m in e)"__path__"!==m&&v.push(r(m,e[m],n,i,a));h.push(v)}return h}function i(t,e){var n=t.fold,i=t.tree,o=t.selected,u=["ul",{class:a.c}];if(i){var s=Object.keys(i).map(function(t){return r(t,i[t],o.id,e,n)});u.push.apply(u,s)}return u}e.a=i;var a=n(14),o=n(1),u=(n.n(o),n(12)),s=n(13),c=n(10),l=n(4),f=Object(o.style)({transform:"rotate(90deg)"})},function(t,e,n){"use strict";function r(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}e.a=r},function(t,e,n){"use strict";function r(t,e,n){return Math.max(e,Math.min(t,n))}e.a=r,Math.PI},function(t,e,n){t.exports=n(65).default,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){var e=typeof t;return"string"===e||"number"===e}function i(t){return c(t)||u(t)}function a(t){return u(t)||!1===t||s(t)||c(t)}function o(t){return"function"==typeof t}function u(t){return null===t}function s(t){return!0===t}function c(t){return void 0===t}function l(t){throw t||(t=y),new Error("Inferno Error: "+t)}function f(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var i in e)n[i]=e[i];return n}function d(t,e){if(28&t.flags){var n=t.parentVNode;n&&(n.dom=e,d(n,e))}}function p(t,e,n){var r=M.get(t);void 0===r&&(r=[],M.set(t,r),_.then(function(){M.delete(t),t._updating=!0,v(t,e,function(){for(var e=0,n=r.length;e<n;e++)r[e].call(t)}),t._updating=!1})),i(n)||r.push(n)}function h(t,e,n){o(e)&&(e=e(t.state,t.props,t.context));var r=t._pendingState;if(i(r))t._pendingState=e;else for(var a in e)r[a]=e[a];t._pendingSetState||t._blockRender?(t._pendingSetState=!0,!i(n)&&t._blockRender&&t._lifecycle.addListener(n.bind(t))):t._updating?p(t,!1,n):(t._pendingSetState=!0,t._updating=!0,v(t,!1,n),t._updating=!1)}function v(t,e,n){if(!t._unmounted){if(e||!t._blockRender){t._pendingSetState=!1;var o=t._pendingState,s=t.state,c=f(s,o),p=t.props,h=t.context;t._pendingState=null;var v,y=t._updateComponent(s,c,p,p,h,e,!0),M=!0;if(a(y))v=m.createVNode(4096,null);else if(y===g)v=t._lastInput,M=!1;else if(r(y))v=m.createVNode(1,null,null,y);else{if(b(y))return l();v=y}var _=t._lastInput,S=t._vNode,O=_.dom&&_.dom.parentNode||(_.dom=S.dom);if(28&v.flags&&(v.parentVNode=S),t._lastInput=v,M){var x;i(t.getChildContext)||(x=t.getChildContext()),x=i(x)?t._childContext:f(h,x);var T=t._lifecycle;if(m.internal_patch(_,v,O,T,x,t._isSVG,!1),t._unmounted)return;T.trigger(),i(t.componentDidUpdate)||t.componentDidUpdate(p,s,h),u(m.options.afterUpdate)||m.options.afterUpdate(S)}var E=S.dom=v.dom;m.options.findDOMNodeEnabled&&m.internal_DOMNodeMap.set(t,v.dom),d(S,E)}else t.state=t._pendingState,t._pendingState=null;i(n)||n.call(t)}}Object.defineProperty(e,"__esModule",{value:!0});var m=n(17),g="$NO_OP",y="a runtime error occured! Use Inferno in development environment to find the error.",b=Array.isArray,M=new Map,_=Promise.resolve(),S=function(t,e){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=t||m.EMPTY_OBJ,this.context=e||m.EMPTY_OBJ};S.prototype.forceUpdate=function(t){this._unmounted||v(this,!0,t)},S.prototype.setState=function(t,e){this._unmounted||(this._blockSetState?l():h(this,t,e))},S.prototype._updateComponent=function(t,e,n,r,a,o,u){if(!0===this._unmounted&&l(),n!==r||r===m.EMPTY_OBJ||t!==e||o){if(n!==r||r===m.EMPTY_OBJ){if(!i(this.componentWillReceiveProps)&&!u){if(this._blockRender=!0,this.componentWillReceiveProps(r,a),this._unmounted)return g;this._blockRender=!1}this._pendingSetState&&(e=f(e,this._pendingState),this._pendingSetState=!1,this._pendingState=null)}if(o||i(this.shouldComponentUpdate)||this.shouldComponentUpdate&&this.shouldComponentUpdate(r,e,a)){i(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(r,e,a),this._blockSetState=!1),this.props=r,this.state=e,this.context=a,m.options.beforeRender&&m.options.beforeRender(this);var s=this.render(r,e,a);return m.options.afterRender&&m.options.afterRender(this),s}this.props=r,this.state=e,this.context=a}return g},S.prototype.render=function(t,e,n){},e.default=S},function(t,e,n){"use strict";function r(t){return!d(t.prototype)&&!d(t.prototype.render)}function i(t){var e=typeof t;return"string"===e||"number"===e}function a(t){return d(t)||l(t)}function o(t){return l(t)||!1===t||f(t)||d(t)}function u(t){return"function"==typeof t}function s(t){return"string"==typeof t}function c(t){return"number"==typeof t}function l(t){return null===t}function f(t){return!0===t}function d(t){return void 0===t}function p(t){return"object"==typeof t}function h(t){throw t||(t=le),new Error("Inferno Error: "+t)}function v(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var i in e)n[i]=e[i];return n}function m(){this.listeners=[]}function g(t,e,n,r){var i=xe.get(t);if(n)i||(i={items:new Map,docEvent:null},i.docEvent=_(t,i),xe.set(t,i)),e||Oe&&"onClick"===t&&O(r),i.items.set(r,n);else if(i){var a=i.items;a.delete(r)&&0===a.size&&(document.removeEventListener(b(t),i.docEvent),xe.delete(t))}}function y(t,e,n,r,i,a){for(var o=e;r>0;){var u=n.get(o);if(u&&(r--,a.dom=o,u.event?u.event(u.data,t):u(t),t.cancelBubble))return;if(null===(o=o.parentNode)||i&&o.disabled)return}}function b(t){return t.substr(2).toLowerCase()}function M(){this.cancelBubble=!0,this.stopImmediatePropagation()}function _(t,e){var n=function(t){var n=e.items.size;if(n>0){t.stopPropagation=M;var r={dom:document};try{Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(t){}y(t,t.target,e.items,n,"click"===t.type,r)}};return document.addEventListener(b(t),n),n}function S(){}function O(t){t.onclick=S}function x(t){return"checkbox"===t||"radio"===t}function T(t){var e=this.vNode,n=e.props||Ae,r=e.dom,i=n.value;if(n.onInput){var a=n.onInput;a.event?a.event(a.data,t):a(t)}else n.oninput&&n.oninput(t);var o=this.vNode,u=o.props||Ae;i!==u.value&&D(u,r)}function E(t){var e=this.vNode.props||Ae,n=e.onChange;n.event?n.event(n.data,t):n(t)}function I(t){t.stopPropagation();var e=this.vNode,n=e.props||Ae,r=e.dom;if(n.onClick){var i=n.onClick;i.event?i.event(i.data,t):i(t)}else n.onclick&&n.onclick(t);D(this.vNode.props||Ae,r)}function w(t,e,n,r,i){D(n,e),i&&(e.vNode=t,r&&(x(n.type)?(e.onclick=I,e.onclick.wrapped=!0):(e.oninput=T,e.oninput.wrapped=!0),n.onChange&&(e.onchange=E,e.onchange.wrapped=!0)))}function D(t,e){var n=t.type,r=t.value,i=t.checked,o=t.multiple,u=t.defaultValue,s=!a(r);n&&n!==e.type&&e.setAttribute("type",n),o&&o!==e.multiple&&(e.multiple=o),a(u)||s||(e.defaultValue=u+""),x(n)?(s&&(e.value=r),a(i)||(e.checked=i)):s&&e.value!==r?(e.defaultValue=r,e.value=r):a(i)||(e.checked=i)}function A(t,e){if("optgroup"===t.type){var n=t.children;if(de(n))for(var r=0,i=n.length;r<i;r++)F(n[r],e);else Zt(n)&&F(n,e)}else F(t,e)}function F(t,e){var n=t.props||Ae,r=t.dom;r.value=n.value,de(e)&&-1!==e.indexOf(n.value)||n.value===e?r.selected=!0:a(e)&&a(n.selected)||(r.selected=n.selected||!1)}function N(t){var e=this.vNode,n=e.props||Ae,r=e.dom,i=n.value;if(n.onChange){var a=n.onChange;a.event?a.event(a.data,t):a(t)}else n.onchange&&n.onchange(t);var o=this.vNode,u=o.props||Ae;i!==u.value&&R(o,r,u,!1)}function j(t,e,n,r,i){R(t,e,n,r),i&&(e.vNode=t,r&&(e.onchange=N,e.onchange.wrapped=!0))}function R(t,e,n,r){n.multiple!==e.multiple&&(e.multiple=n.multiple);var i=t.children;if(!o(i)){var u=n.value;if(r&&a(u)&&(u=n.defaultValue),de(i))for(var s=0,c=i.length;s<c;s++)A(i[s],u);else Zt(i)&&A(i,u)}}function P(t){var e=this.vNode.props||Ae,n=e.onChange;n.event?n.event(n.data,t):n(t)}function k(t){var e=this.vNode,n=e.props||Ae,r=n.value;if(n.onInput){var i=n.onInput;i.event?i.event(i.data,t):i(t)}else n.oninput&&n.oninput(t);var a=this.vNode;r!==(a.props||Ae).value&&L(a,e.dom,!1)}function C(t,e,n,r,i){L(n,e,r),i&&(e.vNode=t,r&&(e.oninput=k,e.oninput.wrapped=!0,n.onChange&&(e.onchange=P,e.onchange.wrapped=!0)))}function L(t,e,n){var r=t.value,i=e.value;if(a(r)){if(n){var o=t.defaultValue;a(o)?""!==i&&(e.defaultValue="",e.value=""):o!==i&&(e.defaultValue=o,e.value=o)}}else i!==r&&(e.defaultValue=r,e.value=r)}function U(t,e,n,r,i,a){512&t&&w(e,n,r,i,a),2048&t&&j(e,n,r,i,a),1024&t&&C(e,n,r,i,a)}function z(t){return t.type&&x(t.type)?!a(t.checked):!a(t.value)}function H(t){for(var e=t.firstChild;e;)if(8===e.nodeType)if("!"===e.data){var n=document.createTextNode("");t.replaceChild(n,e),e=e.nextSibling}else{var r=e.previousSibling;t.removeChild(e),e=r||t.firstChild}else e=e.nextSibling}function Y(t,e,n,r,i,a){var o=t.type,u=t.ref,s=t.props||Ae;if(a){var c=e.namespaceURI===me,l=At(t,o,s,r,c,n),f=l._lastInput;l._vNode=t,q(f,e,n,l._childContext,c),t.dom=f.dom,It(t,u,l,n),l._updating=!1,pe.findDOMNodeEnabled&&Ie.set(l,e)}else{var d=jt(t,o,s,r);q(d,e,n,r,i),t.children=d,t.dom=d.dom,wt(s,u,e,n)}return e}function V(t,e,n,r,i){var u=t.children,s=t.props,c=t.className,l=t.flags,f=t.ref;if(i=i||(128&l)>0,1!==e.nodeType||e.tagName.toLowerCase()!==t.type){var d=xt(t,null,n,r,i);return t.dom=d,zt(e.parentNode,d,e),d}if(t.dom=e,o(u)?null===e.firstChild||Wt(e,s)||(e.textContent=""):G(u,e,n,r,i),s){var p=!1,h=(3584&l)>0;h&&(p=z(s));for(var v in s)gt(v,null,s[v],e,i,p);h&&U(l,t,e,s,!0,p)}return a(c)?""!==e.className&&e.removeAttribute("class"):i?e.setAttribute("class",c):e.className=c,f&&Dt(e,f,n),e}function G(t,e,n,r,a){H(e);var o=e.firstChild;if(i(t))l(o)||3!==o.nodeType?""===t?e.appendChild(document.createTextNode("")):e.textContent=t:o.nodeValue!==t&&(o.nodeValue=t),l(o)||(o=o.nextSibling);else if(de(t))for(var u=0,s=t.length;u<s;u++){var c=t[u];if(!l(c)&&p(c))if(l(o))_t(c,e,n,r,a);else{var f=o.nextSibling;q(c,o,n,r,a),o=f}}else l(o)?_t(t,e,n,r,a):(q(t,o,n,r,a),o=o.nextSibling);for(;o;){var d=o.nextSibling;e.removeChild(o),o=d}}function B(t,e){if(3!==e.nodeType){var n=St(t,null);return t.dom=n,zt(e.parentNode,n,e),n}var r=t.children;return e.nodeValue!==r&&(e.nodeValue=r),t.dom=e,e}function W(t,e){return t.dom=e,e}function q(t,e,n,r,i){var a=t.flags;28&a?Y(t,e,n,r,i,(4&a)>0):3970&a?V(t,e,n,r,i):1&a?B(t,e):4096&a?W(t,e):h()}function X(t,e,n){if(!l(e)){var r=e.firstChild;if(!l(r)){for(q(t,r,n,Ae,!1),r=e.firstChild;r=r.nextSibling;)e.removeChild(r);return!0}}return!1}function $(t,e,n,r){var i=t.type,a=Ee.get(i);if(!d(a)){var o=t.key,u=null===o?a.nonKeyed:a.keyed.get(o);if(!d(u)){var s=u.pop();if(!d(s))return st(s,t,null,e,n,r,!0),t.dom}}return null}function K(t){var e=t.type,n=t.key,r=Ee.get(e);if(d(r)&&(r={keyed:new Map,nonKeyed:[]},Ee.set(e,r)),l(n))r.nonKeyed.push(t);else{var i=r.keyed.get(n);d(i)&&(i=[],r.keyed.set(n,i)),i.push(t)}}function Q(t,e,n,r){var i=t.type,a=Te.get(i);if(!d(a)){var o=t.key,u=null===o?a.nonKeyed:a.keyed.get(o);if(!d(u)){var s=u.pop();if(!d(s)&&!lt(s,t,null,e,n,r,(4&t.flags)>0,!0))return t.dom}}return null}function Z(t){var e=t.ref;if(!e||!(e.onComponentWillMount||e.onComponentWillUnmount||e.onComponentDidMount||e.onComponentWillUpdate||e.onComponentDidUpdate)){var n=t.type,r=t.key,i=Te.get(n);if(d(i)&&(i={keyed:new Map,nonKeyed:[]},Te.set(n,i)),l(r))i.nonKeyed.push(t);else{var a=i.keyed.get(r);d(a)&&(a=[],i.keyed.set(r,a)),a.push(t)}}}function J(t,e,n,r,i){var s=t.flags,c=t.dom;if(28&s){var f=t.children,h=(4&s)>0,v=t.props||Ae,m=t.ref;i||(h?f._unmounted||(l(pe.beforeUnmount)||pe.beforeUnmount(t),d(f.componentWillUnmount)||f.componentWillUnmount(),m&&!i&&m(null),f._unmounted=!0,pe.findDOMNodeEnabled&&Ie.delete(f),J(f._lastInput,null,f._lifecycle,!1,i)):(a(m)||a(m.onComponentWillUnmount)||m.onComponentWillUnmount(c,v),J(f,null,n,!1,i))),pe.recyclingEnabled&&!h&&(e||r)&&Z(t)}else if(3970&s){var g=t.ref,y=t.props;!i&&u(g)&&g(null);var b=t.children;if(!a(b))if(de(b))for(var M=0,_=b.length;M<_;M++){var S=b[M];!o(S)&&p(S)&&J(S,null,n,!1,i)}else p(b)&&J(b,null,n,!1,i);if(!l(y))for(var O in y)null!==y[O]&&mt(O)&&(yt(O,y[O],null,c),y[O]=null);pe.recyclingEnabled&&(e||r)&&K(t)}l(e)||Ht(e,c)}function tt(t){pe.findDOMNodeEnabled||h();var e=t&&t.nodeType?t:null;return Ie.get(t)||e}function et(t){for(var e=0,n=we.length;e<n;e++){var r=we[e];if(r.dom===t)return r}return null}function nt(t,e,n){var r={dom:t,input:e,lifecycle:n};return we.push(r),r}function rt(t){for(var e=0,n=we.length;e<n;e++)if(we[e]===t)return void we.splice(e,1)}function it(t,e){if(De===e&&h(),t!==ce){var n=et(e);if(l(n)){var r=new m;o(t)||(t.dom&&(t=Xt(t)),X(t,e,r)||_t(t,e,r,Ae,!1),n=nt(e,t,r),r.trigger())}else{var i=n.lifecycle;i.listeners=[],a(t)?(J(n.input,e,i,!1,!1),rt(n)):(t.dom&&(t=Xt(t)),ot(n.input,t,e,i,Ae,!1,!1)),n.input=t,i.trigger()}if(n){var u=n.input;if(u&&28&u.flags)return u.children}}}function at(t){return function(e,n){t||(t=e),it(n,t)}}function ot(t,e,n,r,i,a,o){if(t!==e){var u=t.flags,s=e.flags;if(28&s){var c=(4&s)>0;28&u?lt(t,e,n,r,i,a,c,o):Nt(n,Et(e,null,r,i,a,c),t,r,o)}else 3970&s?3970&u?st(t,e,n,r,i,a,o):Nt(n,xt(e,null,r,i,a),t,r,o):1&s?1&u?ft(t,e):Nt(n,St(e,null),t,r,o):4096&s?4096&u?dt(t,e):Nt(n,Ot(e,null),t,r,o):Ft(t,e,n,r,i,a,o)}}function ut(t,e,n,r){Zt(t)?J(t,e,n,!0,r):de(t)?Yt(e,t,n,r):e.textContent=""}function st(t,e,n,r,i,o,u){var s=e.type;if(t.type!==s)Ut(t,e,n,r,i,o,u);else{var c=t.dom,l=t.props,f=e.props,d=t.children,p=e.children,h=t.flags,v=e.flags,m=e.ref,g=t.className,y=e.className;if(e.dom=c,o=o||(128&v)>0,d!==p&&ct(h,v,d,p,c,r,i,!0===o&&"foreignObject"!==e.type,u),l!==f){var b=l||Ae,M=f||Ae,_=!1;if(M!==Ae){var S=(3584&v)>0;S&&(_=z(M));for(var O in M){var x=M[O];gt(O,b[O],x,c,o,_)}S&&U(v,e,c,M,u,_)}if(b!==Ae)for(var T in b)a(M[T])&&!a(b[T])&&Mt(T,b[T],c,v)}g!==y&&(a(y)?c.removeAttribute("class"):o?c.setAttribute("class",y):c.className=y),m&&(t.ref!==m||u)&&Dt(c,m,r)}}function ct(t,e,n,r,a,u,s,c,l){var f=!1,d=!1;if(64&e?f=!0:(32&t)>0&&(32&e)>0?(d=!0,f=!0):o(r)?ut(n,a,u,l):o(n)?i(r)?Rt(a,r):de(r)?Tt(r,a,u,s,c):_t(r,a,u,s,c):i(r)?i(n)?Pt(a,r):(ut(n,a,u,l),Rt(a,r)):de(r)?de(n)?(f=!0,Gt(n,r)&&(d=!0)):(ut(n,a,u,l),Tt(r,a,u,s,c)):de(n)?(Yt(a,n,u,l),_t(r,a,u,s,c)):Zt(r)&&(Zt(n)?ot(n,r,a,u,s,c,l):(ut(n,a,u,l),_t(r,a,u,s,c))),f){var p=n.length,h=r.length;0===p?h>0&&Tt(r,a,u,s,c):0===h?Yt(a,n,u,l):d?ht(n,r,a,u,s,c,l,p,h):pt(n,r,a,u,s,c,l,p,h)}}function lt(t,e,n,r,u,s,c,f){var m=t.type,g=e.type,y=t.key,b=e.key;if(m!==g||y!==b)return Ut(t,e,n,r,u,s,f),!1;var M=e.props||Ae;if(c){var _=t.children;if(_._updating=!0,_._unmounted){if(l(n))return!0;zt(n,Et(e,null,r,u,s,(4&e.flags)>0),t.dom)}else{var S=!d(_.componentDidUpdate),O=_.state,x=S?v(O,null):O,T=_.props;e.children=_,_._isSVG=s;var E=_._lastInput,I=_._updateComponent(x,O,T,M,u,!1,!1);if(_._unmounted)return!1;var w,D=!0;a(_.getChildContext)||(w=_.getChildContext()),w=a(w)?u:v(u,w),_._childContext=w,o(I)?I=Kt():I===ce?(I=E,D=!1):i(I)?I=Qt(I,null):de(I)?h():p(I)&&(l(I.dom)||(I=Xt(I))),28&I.flags?I.parentVNode=e:28&E.flags&&(E.parentVNode=e),_._lastInput=I,_._vNode=e,D&&(ot(E,I,n,r,w,s,f),S&&_.componentDidUpdate&&_.componentDidUpdate(T,x),l(pe.afterUpdate)||pe.afterUpdate(e),pe.findDOMNodeEnabled&&Ie.set(_,I.dom)),e.dom=I.dom}_._updating=!1}else{var A=!0,F=t.props,N=e.ref,j=!a(N),R=t.children,P=R;e.dom=t.dom,e.children=R,y!==b?A=!0:j&&!a(N.onComponentShouldUpdate)&&(A=N.onComponentShouldUpdate(F,M)),!1!==A&&(j&&!a(N.onComponentWillUpdate)&&N.onComponentWillUpdate(F,M),P=g(M,u),o(P)?P=Kt():i(P)&&P!==ce?P=Qt(P,null):de(P)?h():p(P)&&(l(P.dom)||(P=Xt(P))),P!==ce&&(ot(R,P,n,r,u,s,f),e.children=P,j&&!a(N.onComponentDidUpdate)&&N.onComponentDidUpdate(F,M),e.dom=P.dom)),28&P.flags?P.parentVNode=e:28&R.flags&&(R.parentVNode=e)}return!1}function ft(t,e){var n=e.children,r=t.dom;e.dom=r,t.children!==n&&(r.nodeValue=n)}function dt(t,e){e.dom=t.dom}function pt(t,e,n,r,i,a,o,u,s){for(var c=u>s?s:u,l=0;l<c;l++){var f=e[l];f.dom&&(f=e[l]=Xt(f)),ot(t[l],f,n,r,i,a,o)}if(u<s)for(l=c;l<s;l++){var d=e[l];d.dom&&(d=e[l]=Xt(d)),kt(n,_t(d,null,r,i,a))}else if(u>s)for(l=c;l<u;l++)J(t[l],n,r,!1,o)}function ht(t,e,n,r,i,a,o,u,s){var c,f,p,h,v,m,g,y=u-1,b=s-1,M=0,_=0,S=t[M],O=e[_],x=t[y],T=e[b];O.dom&&(e[_]=O=Xt(O)),T.dom&&(e[b]=T=Xt(T));t:{for(;S.key===O.key;){if(ot(S,O,n,r,i,a,o),M++,_++,M>y||_>b)break t;S=t[M],O=e[_],O.dom&&(e[_]=O=Xt(O))}for(;x.key===T.key;){if(ot(x,T,n,r,i,a,o),y--,b--,M>y||_>b)break t;x=t[y],T=e[b],T.dom&&(e[b]=T=Xt(T))}}if(M>y){if(_<=b)for(m=b+1,v=m<s?e[m].dom:null;_<=b;)g=e[_],g.dom&&(e[_]=g=Xt(g)),_++,Ct(n,_t(g,null,r,i,a),v)}else if(_>b)for(;M<=y;)J(t[M++],n,r,!1,o);else{var E=y-M+1,I=b-_+1,w=new Array(I);for(c=0;c<I;c++)w[c]=-1;var D=!1,A=0,F=0;if(I<=4||E*I<=16){for(c=M;c<=y;c++)if(p=t[c],F<I)for(f=_;f<=b;f++)if(h=e[f],p.key===h.key){w[f-_]=c,A>f?D=!0:A=f,h.dom&&(e[f]=h=Xt(h)),ot(p,h,n,r,i,a,o),F++,t[c]=null;break}}else{var N=new Map;for(c=_;c<=b;c++)N.set(e[c].key,c);for(c=M;c<=y;c++)p=t[c],F<I&&(f=N.get(p.key),d(f)||(h=e[f],w[f-_]=c,A>f?D=!0:A=f,h.dom&&(e[f]=h=Xt(h)),ot(p,h,n,r,i,a,o),F++,t[c]=null))}if(E===u&&0===F)for(Yt(n,t,r,o);_<I;)g=e[_],g.dom&&(e[_]=g=Xt(g)),_++,Ct(n,_t(g,null,r,i,a),null);else{for(c=E-F;c>0;)p=t[M++],l(p)||(J(p,n,r,!0,o),c--);if(D){var j=vt(w);for(f=j.length-1,c=I-1;c>=0;c--)-1===w[c]?(A=c+_,g=e[A],g.dom&&(e[A]=g=Xt(g)),m=A+1,Ct(n,_t(g,null,r,i,a),m<s?e[m].dom:null)):f<0||c!==j[f]?(A=c+_,g=e[A],m=A+1,Ct(n,g.dom,m<s?e[m].dom:null)):f--}else if(F!==I)for(c=I-1;c>=0;c--)-1===w[c]&&(A=c+_,g=e[A],g.dom&&(e[A]=g=Xt(g)),m=A+1,Ct(n,_t(g,null,r,i,a),m<s?e[m].dom:null))}}}function vt(t){var e,n,r,i,a,o=t.slice(0),u=[0],s=t.length;for(e=0;e<s;e++){var c=t[e];if(-1!==c){if(n=u[u.length-1],t[n]<c){o[e]=n,u.push(e);continue}for(r=0,i=u.length-1;r<i;)a=(r+i)/2|0,t[u[a]]<c?r=a+1:i=a;c<t[u[r]]&&(r>0&&(o[e]=u[r-1]),u[r]=e)}}for(r=u.length,i=u[r-1];r-- >0;)u[r]=i,i=o[i];return u}function mt(t){return"o"===t[0]&&"n"===t[1]}function gt(t,e,n,r,i,o){if(e!==n){if(_e.has(t)||o&&"value"===t)return;if(ye.has(t))t="autoFocus"===t?t.toLowerCase():t,r[t]=!!n;else if(ge.has(t)){var u=a(n)?"":n;r[t]!==u&&(r[t]=u)}else if(mt(t))yt(t,e,n,r);else if(a(n))r.removeAttribute(t);else if("style"===t)bt(e,n,r);else if("dangerouslySetInnerHTML"===t){var s=e&&e.__html,c=n&&n.__html;s!==c&&(a(c)||Bt(r,c)||(r.innerHTML=c))}else i&&be.has(t)?r.setAttributeNS(be.get(t),t,n):r.setAttribute(t,n)}}function yt(t,e,n,r){if(e!==n)if(Se.has(t))g(t,e,n,r);else{var i=t.toLowerCase(),o=r[i];if(o&&o.wrapped)return;if(u(n)||a(n))r[i]=n;else{var s=n.event;s&&u(s)?r[i]=function(t){s(n.data,t)}:h()}}}function bt(t,e,n){var r,i,o=n.style;if(s(e))return void(o.cssText=e);if(a(t)||s(t))for(r in e)i=e[r],o[r]=!c(i)||Me.has(r)?i:i+"px";else{for(r in e)(i=e[r])!==t[r]&&(o[r]=!c(i)||Me.has(r)?i:i+"px");for(r in t)a(e[r])&&(o[r]="")}}function Mt(t,e,n,r){"value"===t?n.value=2048&r?null:"":"style"===t?n.removeAttribute("style"):mt(t)?g(t,e,null,n):n.removeAttribute(t)}function _t(t,e,n,r,i){var a=t.flags;return 3970&a?xt(t,e,n,r,i):28&a?Et(t,e,n,r,i,(4&a)>0):4096&a?Ot(t,e):1&a?St(t,e):void h()}function St(t,e){var n=document.createTextNode(t.children);return t.dom=n,l(e)||kt(e,n),n}function Ot(t,e){var n=document.createTextNode("");return t.dom=n,l(e)||kt(e,n),n}function xt(t,e,n,r,a){var u;if(pe.recyclingEnabled&&(u=$(t,n,r,a),!l(u)))return l(e)||kt(e,u),u;var s=t.flags;a=a||(128&s)>0,u=Lt(t.type,a);var c=t.children,f=t.props,d=t.className,p=t.ref;if(t.dom=u,!o(c))if(i(c))Rt(u,c);else{var h=!0===a&&"foreignObject"!==t.type;de(c)?Tt(c,u,n,r,h):Zt(c)&&_t(c,u,n,r,h)}if(!l(f)){var v=!1,m=(3584&s)>0;m&&(v=z(f));for(var g in f)gt(g,null,f[g],u,a,v);m&&U(s,t,u,f,!0,v)}return null!==d&&(a?u.setAttribute("class",d):u.className=d),l(p)||Dt(u,p,n),l(e)||kt(e,u),u}function Tt(t,e,n,r,i){for(var a=0,u=t.length;a<u;a++){var s=t[a];o(s)||(s.dom&&(t[a]=s=Xt(s)),_t(t[a],e,n,r,i))}}function Et(t,e,n,r,i,a){var o;if(pe.recyclingEnabled&&(o=Q(t,n,r,i),!l(o)))return l(e)||kt(e,o),o;var u=t.type,s=t.props||Ae,c=t.ref;if(a){var f=At(t,u,s,r,i,n),d=f._lastInput;f._vNode=t,t.dom=o=_t(d,null,n,f._childContext,i),l(e)||kt(e,o),It(t,c,f,n),f._updating=!1,pe.findDOMNodeEnabled&&Ie.set(f,o)}else{var p=jt(t,u,s,r);t.dom=o=_t(p,null,n,r,i),t.children=p,wt(s,c,o,n),l(e)||kt(e,o)}return o}function It(t,e,n,r){e&&(u(e)?e(n):h());var i=!d(n.componentDidMount),a=pe.afterMount;!i&&l(a)||r.addListener(function(){n._updating=!0,a&&a(t),i&&n.componentDidMount(),n._updating=!1})}function wt(t,e,n,r){e&&(a(e.onComponentWillMount)||e.onComponentWillMount(t),a(e.onComponentDidMount)||r.addListener(function(){return e.onComponentDidMount(n,t)}))}function Dt(t,e,n){if(u(e))n.addListener(function(){return e(t)});else{if(o(e))return;h()}}function At(t,e,n,r,u,s){d(r)&&(r=Ae);var c=new e(n,r);if(t.children=c,c._blockSetState=!1,c.context=r,c.props===Ae&&(c.props=n),c._lifecycle=s,c._unmounted=!1,c._isSVG=u,!a(c.componentWillMount)){if(c._blockRender=!0,c.componentWillMount(),c._pendingSetState){var f=c.state,p=c._pendingState;if(null===f)c.state=p;else for(var m in p)f[m]=p[m];c._pendingSetState=!1,c._pendingState=null}c._blockRender=!1}var g;a(c.getChildContext)||(g=c.getChildContext()),a(g)?c._childContext=r:c._childContext=v(r,g),l(pe.beforeRender)||pe.beforeRender(c);var y=c.render(n,c.state,r);return l(pe.afterRender)||pe.afterRender(c),de(y)?h():o(y)?y=Kt():i(y)?y=Qt(y,null):(y.dom&&(y=Xt(y)),28&y.flags&&(y.parentVNode=t)),c._lastInput=y,c}function Ft(t,e,n,r,i,a,o){Nt(n,_t(e,null,r,i,a),t,r,o)}function Nt(t,e,n,r,i){J(n,null,r,!1,i),zt(t,e,n.dom)}function jt(t,e,n,r){var a=e(n,r);return de(a)?h():o(a)?a=Kt():i(a)?a=Qt(a,null):(a.dom&&(a=Xt(a)),28&a.flags&&(a.parentVNode=t)),a}function Rt(t,e){""!==e?t.textContent=e:t.appendChild(document.createTextNode(""))}function Pt(t,e){t.firstChild.nodeValue=e}function kt(t,e){t.appendChild(e)}function Ct(t,e,n){a(n)?kt(t,e):t.insertBefore(e,n)}function Lt(t,e){return!0===e?document.createElementNS(me,t):document.createElement(t)}function Ut(t,e,n,r,i,a,o){J(t,null,r,!1,o);var u=_t(e,null,r,i,a);e.dom=u,zt(n,u,t.dom)}function zt(t,e,n){t||(t=n.parentNode),t.replaceChild(e,n)}function Ht(t,e){t.removeChild(e)}function Yt(t,e,n,r){(!pe.recyclingEnabled||pe.recyclingEnabled&&!r)&&Vt(null,e,n,r),t.textContent=""}function Vt(t,e,n,r){for(var i=0,a=e.length;i<a;i++){var u=e[i];o(u)||J(u,t,n,!0,r)}}function Gt(t,e){return e.length>0&&!a(e[0])&&!a(e[0].key)&&t.length>0&&!a(t[0])&&!a(t[0].key)}function Bt(t,e){var n=document.createElement("i");return n.innerHTML=e,n.innerHTML===t.innerHTML}function Wt(t,e){return Boolean(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&Bt(t,e.dangerouslySetInnerHTML.__html))}function qt(t,e,n,i,a,o,u,s){16&t&&(t=r(e)?4:8);var c={children:void 0===i?null:i,className:void 0===n?null:n,dom:null,flags:t,key:void 0===o?null:o,props:void 0===a?null:a,ref:void 0===u?null:u,type:e};return!0!==s&&ue(c),null!==pe.createVNode&&pe.createVNode(c),c}function Xt(t){var e,n=t.flags;if(28&n){var r,a=t.props;if(l(a))r=Ae;else{r={};for(var u in a)r[u]=a[u]}e=qt(n,t.type,null,null,r,t.key,t.ref,!0);var s=e.props,c=s.children;if(c)if(de(c)){var f=c.length;if(f>0){for(var d=[],p=0;p<f;p++){var h=c[p];i(h)?d.push(h):!o(h)&&Zt(h)&&d.push(Xt(h))}s.children=d}}else Zt(c)&&(s.children=Xt(c));e.children=null}else if(3970&n){var v,m=t.children,g=t.props;if(null===g)v=Ae;else{v={};for(var y in g)v[y]=g[y]}e=qt(n,t.type,t.className,m,v,t.key,t.ref,!m)}else 1&n&&(e=Qt(t.children,t.key));return e}function $t(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var a=n,u=n.length;u>0&&!d(n[0])&&(e||(e={}),1===u&&(a=n[0]),d(a)||(e.children=a));var s;if(de(t)){for(var c=[],l=0,f=t.length;l<f;l++)c.push(Xt(t[l]));s=c}else{var p=t.flags,h=t.className,m=t.key,g=t.ref;if(e&&(e.hasOwnProperty("className")&&(h=e.className),e.hasOwnProperty("ref")&&(g=e.ref),e.hasOwnProperty("key")&&(m=e.key)),28&p){s=qt(p,t.type,h,null,t.props||e?v(t.props,e):Ae,m,g,!0);var y=s.props;if(y){var b=y.children;if(b)if(de(b)){var M=b.length;if(M>0){for(var _=[],S=0;S<M;S++){var O=b[S];i(O)?_.push(O):!o(O)&&Zt(O)&&_.push(Xt(O))}y.children=_}}else Zt(b)&&(y.children=Xt(b))}s.children=null}else 3970&p?(a=e&&!d(e.children)?e.children:t.children,s=qt(p,t.type,h,a,t.props||e?v(t.props,e):Ae,m,g,!1)):1&p&&(s=Qt(t.children,m))}return s}function Kt(){return qt(4096,null)}function Qt(t,e){return qt(1,null,null,t,null,e)}function Zt(t){return!!t.flags}function Jt(t,e){return e.key=t,e}function te(t,e){return c(t)&&(t="."+t),l(e.key)||"."===e.key[0]?Jt(t,e):e}function ee(t,e){return e.key=t+e.key,e}function ne(t,e,n,r){for(var a=t.length;n<a;n++){var u=t[n],s=r+"."+n;o(u)||(de(u)?ne(u,e,0,s):(i(u)?u=Qt(u,null):(Zt(u)&&u.dom||u.key&&"."===u.key[0])&&(u=Xt(u)),u=l(u.key)||"."===u.key[0]?Jt(s,u):ee(r,u),e.push(u)))}}function re(t){var e;!0===t.$?t=t.slice():t.$=!0;for(var n=0,r=t.length;n<r;n++){var a=t[n];if(o(a)||de(a)){var u=(e||t).slice(0,n);return ne(t,u,n,""),u}i(a)?(e||(e=t.slice(0,n)),e.push(te(n,Qt(a,null)))):Zt(a)&&null!==a.dom||l(a.key)&&0==(64&a.flags)?(e||(e=t.slice(0,n)),e.push(te(n,Xt(a)))):e&&e.push(te(n,Xt(a)))}return e||t}function ie(t){return de(t)?re(t):Zt(t)&&null!==t.dom?Xt(t):t}function ae(t,e,n){3970&t.flags&&(a(n)&&e.hasOwnProperty("children")&&(t.children=e.children),e.hasOwnProperty("className")&&(t.className=e.className||null,delete e.className)),e.hasOwnProperty("ref")&&(t.ref=e.ref,delete e.ref),e.hasOwnProperty("key")&&(t.key=e.key,delete e.key)}function oe(t){return"svg"===t?128:"input"===t?512:"select"===t?2048:"textarea"===t?1024:"media"===t?256:2}function ue(t){var e=t.props,n=t.children;if(28&t.flags){var r=t.type,i=r.defaultProps;if(!a(i))if(e)for(var u in i)d(e[u])&&(e[u]=i[u]);else e=t.props=i;s(r)&&(t.flags=oe(r),e&&e.children&&(t.children=e.children,n=e.children))}e&&(ae(t,e,n),o(e.children)||(e.children=ie(e.children))),o(n)||(t.children=ie(n))}function se(t,e){return u(e)?{data:t,event:e}:null}Object.defineProperty(e,"__esModule",{value:!0});var ce="$NO_OP",le="a runtime error occured! Use Inferno in development environment to find the error.",fe=!("undefined"==typeof window||!window.document),de=Array.isArray;m.prototype.addListener=function(t){this.listeners.push(t)},m.prototype.trigger=function(){for(var t,e=this.listeners;t=e.shift();)t()};var pe={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]},he="http://www.w3.org/1999/xlink",ve="http://www.w3.org/XML/1998/namespace",me="http://www.w3.org/2000/svg",ge=new Set;ge.add("volume"),ge.add("defaultChecked");var ye=new Set;ye.add("muted"),ye.add("scoped"),ye.add("loop"),ye.add("open"),ye.add("checked"),ye.add("default"),ye.add("capture"),ye.add("disabled"),ye.add("readOnly"),ye.add("required"),ye.add("autoplay"),ye.add("controls"),ye.add("seamless"),ye.add("reversed"),ye.add("allowfullscreen"),ye.add("novalidate"),ye.add("hidden"),ye.add("autoFocus"),ye.add("selected"),ye.add("indeterminate");var be=new Map;be.set("xlink:href",he),be.set("xlink:arcrole",he),be.set("xlink:actuate",he),be.set("xlink:show",he),be.set("xlink:role",he),be.set("xlink:title",he),be.set("xlink:type",he),be.set("xml:base",ve),be.set("xml:lang",ve),be.set("xml:space",ve);var Me=new Set;Me.add("animationIterationCount"),Me.add("borderImageOutset"),Me.add("borderImageSlice"),Me.add("borderImageWidth"),Me.add("boxFlex"),Me.add("boxFlexGroup"),Me.add("boxOrdinalGroup"),Me.add("columnCount"),Me.add("flex"),Me.add("flexGrow"),Me.add("flexPositive"),Me.add("flexShrink"),Me.add("flexNegative"),Me.add("flexOrder"),Me.add("gridRow"),Me.add("gridColumn"),Me.add("fontWeight"),Me.add("lineClamp"),Me.add("lineHeight"),Me.add("opacity"),Me.add("order"),Me.add("orphans"),Me.add("tabSize"),Me.add("widows"),Me.add("zIndex"),Me.add("zoom"),Me.add("fillOpacity"),Me.add("floodOpacity"),Me.add("stopOpacity"),Me.add("strokeDasharray"),Me.add("strokeDashoffset"),Me.add("strokeMiterlimit"),Me.add("strokeOpacity"),Me.add("strokeWidth");var _e=new Set;_e.add("children"),_e.add("childrenType"),_e.add("defaultValue"),_e.add("ref"),_e.add("key"),_e.add("checked"),_e.add("multiple");var Se=new Set;Se.add("onClick"),Se.add("onMouseDown"),Se.add("onMouseUp"),Se.add("onMouseMove"),Se.add("onSubmit"),Se.add("onDblClick"),Se.add("onKeyDown"),Se.add("onKeyUp"),Se.add("onKeyPress");var Oe=fe&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),xe=new Map,Te=new Map,Ee=new Map,Ie=new Map,we=pe.roots,De=fe?document.body:null,Ae={},Fe={EMPTY_OBJ:Ae,NO_OP:ce,cloneVNode:$t,createRenderer:at,createVNode:qt,findDOMNode:tt,getFlagsForElementVnode:oe,internal_DOMNodeMap:Ie,internal_isUnitlessNumber:Me,internal_normalize:ue,internal_patch:ot,linkEvent:se,options:pe,render:it,version:"3.9.0"};e.default=Fe,e.EMPTY_OBJ=Ae,e.NO_OP=ce,e.cloneVNode=$t,e.createRenderer=at,e.createVNode=qt,e.findDOMNode=tt,e.getFlagsForElementVnode=oe,e.internal_DOMNodeMap=Ie,e.internal_isUnitlessNumber=Me,e.internal_normalize=ue,e.internal_patch=ot,e.linkEvent=se,e.options=pe,e.render=it,e.version="3.9.0"},function(t,e,n){"use strict";function r(t){return s(t)||o(t)}function i(t){return o(t)||!1===t||u(t)||s(t)}function a(t){return"string"==typeof t}function o(t){return null===t}function u(t){return!0===t}function s(t){return void 0===t}function c(t){return"object"==typeof t}function l(t,e){for(var n=[],o=arguments.length-2;o-- >0;)n[o]=arguments[o+2];if(i(t)||c(t))throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var u,l=n,p=null,h=null,v=null,m=0;if(n&&(1===n.length?l=n[0]:0===n.length&&(l=void 0)),a(t)){if(m=f.getFlagsForElementVnode(t),!r(e)){u={};for(var g in e)"className"===g||"class"===g?v=e[g]:"key"===g?h=e.key:"children"===g&&s(l)?l=e.children:"ref"===g?p=e.ref:u[g]=e[g]}}else if(m=16,s(l)||(e||(e={}),e.children=l,l=null),!r(e)){u={};for(var y in e)d.has(y)?(p||(p={}),p[y]=e[y]):"key"===y?h=e.key:u[y]=e[y]}return f.createVNode(m,t,v,l,u,h,p)}Object.defineProperty(e,"__esModule",{value:!0});var f=n(17),d=new Set;d.add("onComponentWillMount"),d.add("onComponentDidMount"),d.add("onComponentWillUnmount"),d.add("onComponentShouldUpdate"),d.add("onComponentWillUpdate"),d.add("onComponentDidUpdate"),e.default=l},function(t,e,n){var r,i,a;!function(o,u){i=[t,n(69),n(71),n(72)],r=u,void 0!==(a="function"==typeof r?r.apply(e,i):r)&&(t.exports=a)}(0,function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=i(e),l=i(n),f=i(r),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(t,n){a(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return u(e,t),p(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,f.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return s("action",t)}},{key:"defaultTarget",value:function(t){var e=s("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return s("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(l.default);t.exports=h})},function(t,e,n){var r,i,a;!function(o,u){i=[t,n(70)],r=u,void 0!==(a="function"==typeof r?r.apply(e,i):r)&&(t.exports=a)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(t){return t&&t.__esModule?t:{default:t}}(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=o})},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i),e=r.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var a=0,o=r.length;a<o;a++)r[a].fn!==e&&r[a].fn._!==e&&i.push(r[a]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!u.string(e))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(t))return i(t,e,n);if(u.nodeList(t))return a(t,e,n);if(u.string(t))return o(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function a(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function o(t,e,n){return s(document.body,t,e,n)}var u=n(73),s=n(74);t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){function r(t,e,n,r,a){var o=i.apply(this,arguments);return t.addEventListener(n,o,a),{destroy:function(){t.removeEventListener(n,o,a)}}}function i(t,e,n,r){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&r.call(t,n)}}var a=n(75);t.exports=r},function(t,e){function n(t,e){for(;t&&t.nodeType!==r;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=n},function(t,e,n){(function(e){function n(t,e,n){function i(e){var n=v,r=m;return v=m=void 0,x=e,y=t.apply(r,n)}function a(t){return x=t,b=setTimeout(l,e),T?i(t):y}function s(t){var n=t-O,r=t-x,i=e-n;return E?_(i,g-r):i}function c(t){var n=t-O,r=t-x;return void 0===O||n>=e||n<0||E&&r>=g}function l(){var t=S();if(c(t))return f(t);b=setTimeout(l,s(t))}function f(t){return b=void 0,I&&v?i(t):(v=m=void 0,y)}function d(){void 0!==b&&clearTimeout(b),x=0,v=O=m=b=void 0}function p(){return void 0===b?y:f(S())}function h(){var t=S(),n=c(t);if(v=arguments,m=this,O=t,n){if(void 0===b)return a(O);if(E)return b=setTimeout(l,e),i(O)}return void 0===b&&(b=setTimeout(l,e)),y}var v,m,g,y,b,O,x=0,T=!1,E=!1,I=!0;if("function"!=typeof t)throw new TypeError(u);return e=o(e)||0,r(n)&&(T=!!n.leading,E="maxWait"in n,g=E?M(o(n.maxWait)||0,e):g,I="trailing"in n?!!n.trailing:I),h.cancel=d,h.flush=p,h}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function a(t){return"symbol"==typeof t||i(t)&&b.call(t)==c}function o(t){if("number"==typeof t)return t;if(a(t))return s;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=d.test(t);return n||p.test(t)?h(t.slice(2),n?2:8):f.test(t)?s:+t}var u="Expected a function",s=NaN,c="[object Symbol]",l=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=parseInt,v="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,g=v||m||Function("return this")(),y=Object.prototype,b=y.toString,M=Math.max,_=Math.min,S=function(){return g.Date.now()};t.exports=n}).call(e,n(77))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t){return n(i(t))}function i(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./events.ts":15,"./state/entity.ts":7,"./state/flow.ts":3,"./state/graph.ts":28,"./state/gui.ts":6,"./state/tree.ts":29,"./state/views.ts":27};r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id=78},function(t,e,n){"use strict";function r(t){function e(t){return function(){for(var e in this)"function"==typeof this[e][t]&&this[e][t]()}}function n(t,n){return void 0===n&&(n={}),t.split(".").reduce(function(t,n){return t[n]=t[n]||{reset:e("reset"),watch:e("watch"),unwatch:e("unwatch")}},n)}function r(e){var r=t.getGraph(),i=r.entities,a=r.arcs,o=r.processes;return Object.keys(i).reduce(function(e,r){var u=n(r,e),s=i[r],c=Object.keys(a).map(function(t){return a[t]}).filter(function(t){return t.entity===r&&!t.port}).map(function(t){return t.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return t.get(r)},set:function(e){return t.set(r,e)}}),u.update=function(e){t.update(r,e)},u.reset=function(){null!=s.value&&t.set(r,s.value)},u.watch=function(){t.on(r,function(t){return console.log(r,t)})},u.unwatch=function(){t.off(r)},u.streams={},c.forEach(function(e){var n=e.split(".").pop();n&&(u.streams[n]={start:function(){t.start(e)}},o[e].async&&(u.streams[n].stop=function(){t.stop(e)}))}),e},e)}return r({update:function(){for(var t in this)"update"!==t&&delete this[t];r(this)}})}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r}])})},function(t,e,n){"use strict";function r(t,e){t.replaceGraph(Object(a.a)(e)),window.entities=i.a(t)}e.a=r;var i=n(20),a=n(21)},function(t,e,n){"use strict";function r(t){function e(t){return function(){for(var e in this)"function"==typeof this[e][t]&&this[e][t]()}}function n(t,n){return void 0===n&&(n={}),t.split(".").reduce(function(t,n){return t[n]=t[n]||{reset:e("reset"),watch:e("watch"),unwatch:e("unwatch")}},n)}function r(e){var r=t.getGraph(),i=r.entities,a=r.arcs,o=r.processes;return Object.keys(i).reduce(function(e,r){var u=n(r,e),s=i[r],c=Object.keys(a).map(function(t){return a[t]}).filter(function(t){return t.entity===r&&!t.port}).map(function(t){return t.process});return u.id=r,Object.defineProperty(u,"val",{get:function(){return t.get(r)},set:function(e){return t.set(r,e)}}),u.update=function(e){t.update(r,e)},u.reset=function(){null!=s.value&&t.set(r,s.value)},u.watch=function(){t.on(r,function(t){return console.log(r,t)})},u.unwatch=function(){t.off(r)},u.streams={},c.forEach(function(e){var n=e.split(".").pop();n&&(u.streams[n]={start:function(){t.start(e)}},o[e].async&&(u.streams[n].stop=function(){t.stop(e)}))}),e},e)}return r({update:function(){for(var t in this)"update"!==t&&delete this[t];r(this)}})}e.a=r},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e="."),t.split(".")[1].split("/").filter(function(t){return t}).join(e)}function i(t,e){var n=t.keys().map(function(n){var i=t(n);return Object.values(Object(a.f)(i,r(n,e))).filter(a.e)}).reduce(function(t,e){return t.concat(e)},[]);return Object(a.d)(n)}e.a=i;var a=n(0)},function(t,e,n){"use strict";function r(){return{entities:{},processes:{},arcs:{},meta:{}}}function i(t,e){return{entities:a({},t.entities,e.entities),processes:a({},t.processes,e.processes),arcs:a({},t.arcs,e.arcs),meta:a({},t.meta,e.meta)}}e.a=r,e.b=i;var a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";function r(t,e){function n(e){l.pressed[e.button]=e,e.button===i.LEFT&&(f=e.clientX,d=e.clientY,p=!0),t(l)}function r(e){delete l.pressed[e.button],delete l.drag.event,l.drag.x=0,l.drag.y=0,p=!1,t(l)}function a(e){p&&(l.drag.event=e,l.drag.x=f-e.clientX,l.drag.y=d-e.clientY,t(l))}function o(t){t.preventDefault()}void 0===e&&(e={});var u=e.element,s=void 0===u?document:u,c=e.enableRightButton,l={pressed:{},drag:{x:0,y:0}},f=0,d=0,p=!1;return s.addEventListener("mousedown",n),document.addEventListener("mouseup",r),document.addEventListener("mousemove",a),c&&s.addEventListener("contextmenu",o),t(l),function(){s.removeEventListener("mousedown",n),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r),c&&s.removeEventListener("contextmenu",o)}}e.a=r;var i={LEFT:0,MIDDLE:1,RIGHT:2}},function(t,e,n){"use strict";function r(t){function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}e.a=r},function(t,e,n){"use strict";function r(t){function e(i){r&&(t(i-(n||i)),n=i,requestAnimationFrame(e))}var n,r=!0;return requestAnimationFrame(e),function(){r=!1}}e.a=r},function(t,e,n){var r=n(1),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.fromValues=function(t,e,n,i){var a=new r.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=i,a},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*a-i*r;return o?(o=1/o,t[0]=a*o,t[1]=-r*o,t[2]=-i*o,t[3]=n*o,t):null},i.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=r*c+a*l,t[3]=i*c+o*l,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=i*s+o*u,t[2]=r*-u+a*s,t[3]=i*-u+o*s,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=i*u,t[2]=a*s,t[3]=o*s,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=e[0],s=e[1],c=e[2],l=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=i},function(t,e,n){var r=n(1),i={};i.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.fromValues=function(t,e,n,i,a,o){var u=new r.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=i,u[4]=a,u[5]=o,u},i.set=function(t,e,n,r,i,a,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=n*a-r*i;return s?(s=1/s,t[0]=a*s,t[1]=-r*s,t[2]=-i*s,t[3]=n*s,t[4]=(i*u-a*o)*s,t[5]=(r*o-n*u)*s,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=n[0],l=n[1],f=n[2],d=n[3],p=n[4],h=n[5];return t[0]=r*c+a*l,t[1]=i*c+o*l,t[2]=r*f+a*d,t[3]=i*f+o*d,t[4]=r*p+a*h+u,t[5]=i*p+o*h+s,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*c,t[1]=i*l+o*c,t[2]=r*-c+a*l,t[3]=i*-c+o*l,t[4]=u,t[5]=s,t},i.scale=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=i*c,t[2]=a*l,t[3]=o*l,t[4]=u,t[5]=s,t},i.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=r*c+a*l+u,t[5]=i*c+o*l+s,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},i.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=e[0],l=e[1],f=e[2],d=e[3],p=e[4],h=e[5];return Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-f)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-p)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-h)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))},t.exports=i},function(t,e,n){var r=n(1),i={scalar:{},SIMD:{}};i.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.fromValues=function(t,e,n,i,a,o,u,s,c,l,f,d,p,h,v,m){var g=new r.ARRAY_TYPE(16);return g[0]=t,g[1]=e,g[2]=n,g[3]=i,g[4]=a,g[5]=o,g[6]=u,g[7]=s,g[8]=c,g[9]=l,g[10]=f,g[11]=d,g[12]=p,g[13]=h,g[14]=v,g[15]=m,g},i.set=function(t,e,n,r,i,a,o,u,s,c,l,f,d,p,h,v,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=u,t[7]=s,t[8]=c,t[9]=l,t[10]=f,t[11]=d,t[12]=p,t[13]=h,t[14]=v,t[15]=m,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.SIMD.transpose=function(t,e){var n,r,i,a,o,u,s,c,l,f;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),o=SIMD.Float32x4.shuffle(n,r,0,1,4,5),u=SIMD.Float32x4.shuffle(i,a,0,1,4,5),s=SIMD.Float32x4.shuffle(o,u,0,2,4,6),c=SIMD.Float32x4.shuffle(o,u,1,3,5,7),SIMD.Float32x4.store(t,0,s),SIMD.Float32x4.store(t,4,c),o=SIMD.Float32x4.shuffle(n,r,2,3,6,7),u=SIMD.Float32x4.shuffle(i,a,2,3,6,7),l=SIMD.Float32x4.shuffle(o,u,0,2,4,6),f=SIMD.Float32x4.shuffle(o,u,1,3,5,7),SIMD.Float32x4.store(t,8,l),SIMD.Float32x4.store(t,12,f),t},i.transpose=r.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],h=e[12],v=e[13],m=e[14],g=e[15],y=n*u-r*o,b=n*s-i*o,M=n*c-a*o,_=r*s-i*u,S=r*c-a*u,O=i*c-a*s,x=l*v-f*h,T=l*m-d*h,E=l*g-p*h,I=f*m-d*v,w=f*g-p*v,D=d*g-p*m,A=y*D-b*w+M*I+_*E-S*T+O*x;return A?(A=1/A,t[0]=(u*D-s*w+c*I)*A,t[1]=(i*w-r*D-a*I)*A,t[2]=(v*O-m*S+g*_)*A,t[3]=(d*S-f*O-p*_)*A,t[4]=(s*E-o*D-c*T)*A,t[5]=(n*D-i*E+a*T)*A,t[6]=(m*M-h*O-g*b)*A,t[7]=(l*O-d*M+p*b)*A,t[8]=(o*w-u*E+c*x)*A,t[9]=(r*E-n*w-a*x)*A,t[10]=(h*S-v*M+g*y)*A,t[11]=(f*M-l*S-p*y)*A,t[12]=(u*T-o*I-s*x)*A,t[13]=(n*I-r*T+i*x)*A,t[14]=(v*b-h*_-m*y)*A,t[15]=(l*_-f*b+d*y)*A,t):null},i.SIMD.invert=function(t,e){var n,r,i,a,o,u,s,c,l,f,d=SIMD.Float32x4.load(e,0),p=SIMD.Float32x4.load(e,4),h=SIMD.Float32x4.load(e,8),v=SIMD.Float32x4.load(e,12);return o=SIMD.Float32x4.shuffle(d,p,0,1,4,5),r=SIMD.Float32x4.shuffle(h,v,0,1,4,5),n=SIMD.Float32x4.shuffle(o,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,o,1,3,5,7),o=SIMD.Float32x4.shuffle(d,p,2,3,6,7),a=SIMD.Float32x4.shuffle(h,v,2,3,6,7),i=SIMD.Float32x4.shuffle(o,a,0,2,4,6),a=SIMD.Float32x4.shuffle(a,o,1,3,5,7),o=SIMD.Float32x4.mul(i,a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),u=SIMD.Float32x4.mul(r,o),s=SIMD.Float32x4.mul(n,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,o),u),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),o=SIMD.Float32x4.mul(r,i),o=SIMD.Float32x4.swizzle(o,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),u),l=SIMD.Float32x4.mul(n,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,o)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),o=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),u),c=SIMD.Float32x4.mul(n,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(i,o)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),o=SIMD.Float32x4.mul(n,r),o=SIMD.Float32x4.swizzle(o,1,0,3,2),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),c),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),l),o=SIMD.Float32x4.swizzle(o,2,3,0,1),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),c),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,o)),o=SIMD.Float32x4.mul(n,a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,o)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),c),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,o)),o=SIMD.Float32x4.mul(n,i),o=SIMD.Float32x4.swizzle(o,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),s),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,o)),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,o)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),l),f=SIMD.Float32x4.mul(n,u),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),o=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(o,o),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(o,o))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,c)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,l)),t):null},i.invert=r.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],c=e[7],l=e[8],f=e[9],d=e[10],p=e[11],h=e[12],v=e[13],m=e[14],g=e[15];return t[0]=u*(d*g-p*m)-f*(s*g-c*m)+v*(s*p-c*d),t[1]=-(r*(d*g-p*m)-f*(i*g-a*m)+v*(i*p-a*d)),t[2]=r*(s*g-c*m)-u*(i*g-a*m)+v*(i*c-a*s),t[3]=-(r*(s*p-c*d)-u*(i*p-a*d)+f*(i*c-a*s)),t[4]=-(o*(d*g-p*m)-l*(s*g-c*m)+h*(s*p-c*d)),t[5]=n*(d*g-p*m)-l*(i*g-a*m)+h*(i*p-a*d),t[6]=-(n*(s*g-c*m)-o*(i*g-a*m)+h*(i*c-a*s)),t[7]=n*(s*p-c*d)-o*(i*p-a*d)+l*(i*c-a*s),t[8]=o*(f*g-p*v)-l*(u*g-c*v)+h*(u*p-c*f),t[9]=-(n*(f*g-p*v)-l*(r*g-a*v)+h*(r*p-a*f)),t[10]=n*(u*g-c*v)-o*(r*g-a*v)+h*(r*c-a*u),t[11]=-(n*(u*p-c*f)-o*(r*p-a*f)+l*(r*c-a*u)),t[12]=-(o*(f*m-d*v)-l*(u*m-s*v)+h*(u*d-s*f)),t[13]=n*(f*m-d*v)-l*(r*m-i*v)+h*(r*d-i*f),t[14]=-(n*(u*m-s*v)-o*(r*m-i*v)+h*(r*s-i*u)),t[15]=n*(u*d-s*f)-o*(r*d-i*f)+l*(r*s-i*u),t},i.SIMD.adjoint=function(t,e){var n,r,i,a,o,u,s,c,l,f,d,p,h,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12);return l=SIMD.Float32x4.shuffle(n,r,0,1,4,5),u=SIMD.Float32x4.shuffle(i,a,0,1,4,5),o=SIMD.Float32x4.shuffle(l,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,l,1,3,5,7),l=SIMD.Float32x4.shuffle(n,r,2,3,6,7),c=SIMD.Float32x4.shuffle(i,a,2,3,6,7),s=SIMD.Float32x4.shuffle(l,c,0,2,4,6),c=SIMD.Float32x4.shuffle(c,l,1,3,5,7),l=SIMD.Float32x4.mul(s,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.mul(u,l),d=SIMD.Float32x4.mul(o,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,l),f),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,l),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),l=SIMD.Float32x4.mul(u,s),l=SIMD.Float32x4.swizzle(l,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),f),h=SIMD.Float32x4.mul(o,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(c,l)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,l),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),l=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,3,0,1),c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),s=SIMD.Float32x4.swizzle(s,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),f),p=SIMD.Float32x4.mul(o,l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,l)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,l),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),l=SIMD.Float32x4.mul(o,u),l=SIMD.Float32x4.swizzle(l,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),p),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,l),h),l=SIMD.Float32x4.swizzle(l,2,3,0,1),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,l),p),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,l)),l=SIMD.Float32x4.mul(o,c),l=SIMD.Float32x4.swizzle(l,1,0,3,2),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,l)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),p),l=SIMD.Float32x4.swizzle(l,2,3,0,1),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,l),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.mul(o,s),l=SIMD.Float32x4.swizzle(l,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(c,l),d),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,l)),l=SIMD.Float32x4.swizzle(l,2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(c,l)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,l),h),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,d),SIMD.Float32x4.store(t,8,p),SIMD.Float32x4.store(t,12,h),t},i.adjoint=r.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],u=t[6],s=t[7],c=t[8],l=t[9],f=t[10],d=t[11],p=t[12],h=t[13],v=t[14],m=t[15];return(e*o-n*a)*(f*m-d*v)-(e*u-r*a)*(l*m-d*h)+(e*s-i*a)*(l*v-f*h)+(n*u-r*o)*(c*m-d*p)-(n*s-i*o)*(c*v-f*p)+(r*s-i*u)*(c*h-l*p)},i.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4.load(n,0),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),o))));SIMD.Float32x4.store(t,0,s);var c=SIMD.Float32x4.load(n,4),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(c,3,3,3,3),o))));SIMD.Float32x4.store(t,4,l);var f=SIMD.Float32x4.load(n,8),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),o))));SIMD.Float32x4.store(t,8,d);var p=SIMD.Float32x4.load(n,12),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),a),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),o))));return SIMD.Float32x4.store(t,12,h),t},i.scalar.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=e[9],p=e[10],h=e[11],v=e[12],m=e[13],g=e[14],y=e[15],b=n[0],M=n[1],_=n[2],S=n[3];return t[0]=b*r+M*u+_*f+S*v,t[1]=b*i+M*s+_*d+S*m,t[2]=b*a+M*c+_*p+S*g,t[3]=b*o+M*l+_*h+S*y,b=n[4],M=n[5],_=n[6],S=n[7],t[4]=b*r+M*u+_*f+S*v,t[5]=b*i+M*s+_*d+S*m,t[6]=b*a+M*c+_*p+S*g,t[7]=b*o+M*l+_*h+S*y,b=n[8],M=n[9],_=n[10],S=n[11],t[8]=b*r+M*u+_*f+S*v,t[9]=b*i+M*s+_*d+S*m,t[10]=b*a+M*c+_*p+S*g,t[11]=b*o+M*l+_*h+S*y,b=n[12],M=n[13],_=n[14],S=n[15],t[12]=b*r+M*u+_*f+S*v,t[13]=b*i+M*s+_*d+S*m,t[14]=b*a+M*c+_*p+S*g,t[15]=b*o+M*l+_*h+S*y,t},i.multiply=r.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,e,n){var r,i,a,o,u,s,c,l,f,d,p,h,v=n[0],m=n[1],g=n[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*g+e[12],t[13]=e[1]*v+e[5]*m+e[9]*g+e[13],t[14]=e[2]*v+e[6]*m+e[10]*g+e[14],t[15]=e[3]*v+e[7]*m+e[11]*g+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],c=e[6],l=e[7],f=e[8],d=e[9],p=e[10],h=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=c,t[7]=l,t[8]=f,t[9]=d,t[10]=p,t[11]=h,t[12]=r*v+u*m+f*g+e[12],t[13]=i*v+s*m+d*g+e[13],t[14]=a*v+c*m+p*g+e[14],t[15]=o*v+l*m+h*g+e[15]),t},i.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(u,1,1,1,1)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(u,2,2,2,2));var s=SIMD.Float32x4.add(r,SIMD.Float32x4.add(i,SIMD.Float32x4.add(a,o)));return SIMD.Float32x4.store(t,12,s),t},i.translate=r.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.SIMD.scale=function(t,e,n){var r,i,a,o=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(o,0,0,0,0))),i=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(o,1,1,1,1))),a=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(o,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.scale=r.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,e,n,i){var a,o,u,s,c,l,f,d,p,h,v,m,g,y,b,M,_,S,O,x,T,E,I,w,D=i[0],A=i[1],F=i[2],N=Math.sqrt(D*D+A*A+F*F);return Math.abs(N)<r.EPSILON?null:(N=1/N,D*=N,A*=N,F*=N,a=Math.sin(n),o=Math.cos(n),u=1-o,s=e[0],c=e[1],l=e[2],f=e[3],d=e[4],p=e[5],h=e[6],v=e[7],m=e[8],g=e[9],y=e[10],b=e[11],M=D*D*u+o,_=A*D*u+F*a,S=F*D*u-A*a,O=D*A*u-F*a,x=A*A*u+o,T=F*A*u+D*a,E=D*F*u+A*a,I=A*F*u-D*a,w=F*F*u+o,t[0]=s*M+d*_+m*S,t[1]=c*M+p*_+g*S,t[2]=l*M+h*_+y*S,t[3]=f*M+v*_+b*S,t[4]=s*O+d*x+m*T,t[5]=c*O+p*x+g*T,t[6]=l*O+h*x+y*T,t[7]=f*O+v*x+b*T,t[8]=s*E+d*I+m*w,t[9]=c*E+p*I+g*w,t[10]=l*E+h*I+y*w,t[11]=f*E+v*I+b*w,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.scalar.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],u=e[6],s=e[7],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+l*r,t[6]=u*i+f*r,t[7]=s*i+d*r,t[8]=c*i-a*r,t[9]=l*i-o*r,t[10]=f*i-u*r,t[11]=d*i-s*r,t},i.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),t},i.rotateX=r.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[8],l=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-l*r,t[2]=u*i-f*r,t[3]=s*i-d*r,t[8]=a*r+c*i,t[9]=o*r+l*i,t[10]=u*r+f*i,t[11]=s*r+d*i,t},i.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var a=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,r),SIMD.Float32x4.mul(o,i))),t},i.rotateY=r.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],u=e[2],s=e[3],c=e[4],l=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+l*r,t[2]=u*i+f*r,t[3]=s*i+d*r,t[4]=c*i-a*r,t[5]=l*i-o*r,t[6]=f*i-u*r,t[7]=d*i-s*r,t},i.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var a=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),t},i.rotateZ=r.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,n){var i,a,o,u=n[0],s=n[1],c=n[2],l=Math.sqrt(u*u+s*s+c*c);return Math.abs(l)<r.EPSILON?null:(l=1/l,u*=l,s*=l,c*=l,i=Math.sin(e),a=Math.cos(e),o=1-a,t[0]=u*u*o+a,t[1]=s*u*o+c*i,t[2]=c*u*o-s*i,t[3]=0,t[4]=u*s*o-c*i,t[5]=s*s*o+a,t[6]=c*s*o+u*i,t[7]=0,t[8]=u*c*o+s*i,t[9]=s*c*o-u*i,t[10]=c*c*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=r+r,s=i+i,c=a+a,l=r*u,f=r*s,d=r*c,p=i*s,h=i*c,v=a*c,m=o*u,g=o*s,y=o*c;return t[0]=1-(p+v),t[1]=f+y,t[2]=d-g,t[3]=0,t[4]=f-y,t[5]=1-(l+v),t[6]=h+m,t[7]=0,t[8]=d+g,t[9]=h-m,t[10]=1-(l+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},i.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},i.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],a=e[1],o=e[2],u=e[3],s=i+i,c=a+a,l=o+o,f=i*s,d=i*c,p=i*l,h=a*c,v=a*l,m=o*l,g=u*s,y=u*c,b=u*l,M=r[0],_=r[1],S=r[2];return t[0]=(1-(h+m))*M,t[1]=(d+b)*M,t[2]=(p-y)*M,t[3]=0,t[4]=(d-b)*_,t[5]=(1-(f+m))*_,t[6]=(v+g)*_,t[7]=0,t[8]=(p+y)*S,t[9]=(v-g)*S,t[10]=(1-(f+h))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var a=e[0],o=e[1],u=e[2],s=e[3],c=a+a,l=o+o,f=u+u,d=a*c,p=a*l,h=a*f,v=o*l,m=o*f,g=u*f,y=s*c,b=s*l,M=s*f,_=r[0],S=r[1],O=r[2],x=i[0],T=i[1],E=i[2];return t[0]=(1-(v+g))*_,t[1]=(p+M)*_,t[2]=(h-b)*_,t[3]=0,t[4]=(p-M)*S,t[5]=(1-(d+g))*S,t[6]=(m+y)*S,t[7]=0,t[8]=(h+b)*O,t[9]=(m-y)*O,t[10]=(1-(d+v))*O,t[11]=0,t[12]=n[0]+x-(t[0]*x+t[4]*T+t[8]*E),t[13]=n[1]+T-(t[1]*x+t[5]*T+t[9]*E),t[14]=n[2]+E-(t[2]*x+t[6]*T+t[10]*E),t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,u=r+r,s=i+i,c=n*o,l=r*o,f=r*u,d=i*o,p=i*u,h=i*s,v=a*o,m=a*u,g=a*s;return t[0]=1-f-h,t[1]=l+g,t[2]=d-m,t[3]=0,t[4]=l-g,t[5]=1-c-h,t[6]=p+v,t[7]=0,t[8]=d+m,t[9]=p-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,a,o){var u=1/(n-e),s=1/(i-r),c=1/(a-o);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(i+r)*s,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t},i.perspective=function(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(o+u),c=2/(i+a);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-u)*s*.5,t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},i.ortho=function(t,e,n,r,i,a,o){var u=1/(e-n),s=1/(r-i),c=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(i+r)*s,t[14]=(o+a)*c,t[15]=1,t},i.lookAt=function(t,e,n,a){var o,u,s,c,l,f,d,p,h,v,m=e[0],g=e[1],y=e[2],b=a[0],M=a[1],_=a[2],S=n[0],O=n[1],x=n[2];return Math.abs(m-S)<r.EPSILON&&Math.abs(g-O)<r.EPSILON&&Math.abs(y-x)<r.EPSILON?i.identity(t):(d=m-S,p=g-O,h=y-x,v=1/Math.sqrt(d*d+p*p+h*h),d*=v,p*=v,h*=v,o=M*h-_*p,u=_*d-b*h,s=b*p-M*d,v=Math.sqrt(o*o+u*u+s*s),v?(v=1/v,o*=v,u*=v,s*=v):(o=0,u=0,s=0),c=p*s-h*u,l=h*o-d*s,f=d*u-p*o,v=Math.sqrt(c*c+l*l+f*f),v?(v=1/v,c*=v,l*=v,f*=v):(c=0,l=0,f=0),t[0]=o,t[1]=c,t[2]=d,t[3]=0,t[4]=u,t[5]=l,t[6]=p,t[7]=0,t[8]=s,t[9]=f,t[10]=h,t[11]=0,t[12]=-(o*m+u*g+s*y),t[13]=-(c*m+l*g+f*y),t[14]=-(d*m+p*g+h*y),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},i.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],d=t[9],p=t[10],h=t[11],v=t[12],m=t[13],g=t[14],y=t[15],b=e[0],M=e[1],_=e[2],S=e[3],O=e[4],x=e[5],T=e[6],E=e[7],I=e[8],w=e[9],D=e[10],A=e[11],F=e[12],N=e[13],j=e[14],R=e[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-M)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(a-_)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-S)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(u-O)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(s-x)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(c-T)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-E)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(f-I)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-w)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(w))&&Math.abs(p-D)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(v-F)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(m-N)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-j)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(j))&&Math.abs(y-R)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(R))},t.exports=i},function(t,e,n){var r=n(1),i=n(8),a=n(9),o=n(10),u={};u.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=a.create(),e=a.fromValues(1,0,0),n=a.fromValues(0,1,0);return function(r,i,o){var s=a.dot(i,o);return s<-.999999?(a.cross(t,e,i),a.length(t)<1e-6&&a.cross(t,n,i),a.normalize(t,t),u.setAxisAngle(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(a.cross(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,u.normalize(r,r))}}(),u.setAxes=function(){var t=i.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=o.clone,u.fromValues=o.fromValues,u.copy=o.copy,u.set=o.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},u.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},u.add=o.add,u.multiply=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],u=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+o*u+i*c-a*s,t[1]=i*l+o*s+a*u-r*c,t[2]=a*l+o*c+r*s-i*u,t[3]=o*l-r*u-i*s-a*c,t},u.mul=u.multiply,u.scale=o.scale,u.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=a*s-i*u,t[3]=o*s-r*u,t},u.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-a*u,t[1]=i*s+o*u,t[2]=a*s+r*u,t[3]=o*s-i*u,t},u.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],a=e[2],o=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=i*s-r*u,t[2]=a*s+o*u,t[3]=o*s-a*u,t},u.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},u.dot=o.dot,u.lerp=o.lerp,u.slerp=function(t,e,n,r){var i,a,o,u,s,c=e[0],l=e[1],f=e[2],d=e[3],p=n[0],h=n[1],v=n[2],m=n[3];return a=c*p+l*h+f*v+d*m,a<0&&(a=-a,p=-p,h=-h,v=-v,m=-m),1-a>1e-6?(i=Math.acos(a),o=Math.sin(i),u=Math.sin((1-r)*i)/o,s=Math.sin(r*i)/o):(u=1-r,s=r),t[0]=u*c+s*p,t[1]=u*l+s*h,t[2]=u*f+s*v,t[3]=u*d+s*m,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(n,r,i,a,o,s){return u.slerp(t,r,o,s),u.slerp(e,i,a,s),u.slerp(n,t,e,2*s*(1-s)),n}}(),u.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,u=o?1/o:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-i*u,t[3]=a*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=o.length,u.len=u.length,u.squaredLength=o.squaredLength,u.sqrLen=u.squaredLength,u.normalize=o.normalize,u.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[o]=(e[3*o+i]+e[3*i+o])*n}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},u.exactEquals=o.exactEquals,u.equals=o.equals,t.exports=u},function(t,e,n){var r=n(1),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,a,o){var u,s;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],a(t,t,o),e[u]=t[0],e[u+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],i=t[1],a=e[0],o=e[1];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))},t.exports=i},function(t,e,n){"use strict";function r(t){return Math.floor(Math.random()*t)}function i(){return(Math.random()+Math.random()+Math.random())/3}e.b=r,e.a=i;Math.PI},function(t,e,n){"use strict";function r(t){var e=Object(o.i)({near:.1,far:1e3,fovy:.6*Math.PI,aspect:1}).react([t.HOT],function(t,e){var n=e.width,r=e.height;return t.aspect=n/r,t});return{perspectiveSettings:e,perspective:Object(o.i)(a.mat4.create()).react([e.HOT],function(t,e){return a.mat4.perspective(t,e.fovy,e.aspect,e.near,e.far)})}}function i(){var t=Object(o.i)(a.vec3.fromValues(0,0,0)),e=Object(o.i)(0),n=Object(o.i)(0),r=Object(o.i)({rotX:a.mat4.create(),rotY:a.mat4.create()}).react([e.HOT],function(t,e){return t.rotY=a.mat4.fromYRotation(t.rotY,e),t}).react([n.HOT],function(t,e){return t.rotX=a.mat4.fromXRotation(t.rotX,e),t});return{position:t,rotation:r,view:Object(o.i)(a.mat4.create()).react([r.HOT,t.HOT],function(t,e,n){return a.mat4.fromTranslation(t,n),a.mat4.multiply(t,t,e.rotY),a.mat4.multiply(t,t,e.rotX),a.mat4.invert(t,t),t}),rotY:e,rotX:n}}e.b=r,e.a=i;var a=n(2),o=(n.n(a),n(0))},function(t,e,n){"use strict";function r(t){var e=[{},{}],n=Object(v.d)(t),r=c.a(t).update(v.a.renderQuad),a=function(){return f.a().update({form:r,shade:l.a(t).update(v.b.basicEffect)})},o=a(),u=function(n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=t.canvas;return(Object(h.c)(i,n)||r)&&e.forEach(function(e){e.width=i.width,e.height=i.height,e.textureConfig={count:1,type:t.UNSIGNED_BYTE},Object(p.h)(t,e,v.c)}),y};u(1,!0);var g=function(){o.destroy();for(var n=0,r=e;n<r.length;n++){var i=r[n];Object(p.d)(t,i)}},y={gl:t,updateDrawSettings:function(e){return Object(p.a)(t,m({},n,e)),y},createForm:function(){return c.a(t)},createShade:function(){return l.a(t)},createSketch:function(){return f.a()},createFlatSketch:a,createStaticLayer:function(){return d.b(t)},createDrawingLayer:function(){return d.a(t)},createEffectLayer:function(){return d.a(t).update({sketches:[a()]})},draw:function(e,n){return i(t,e,null,n),y},compose:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return s(t,n,e,o),y},resize:u,destroy:g};return y}function i(t,e,n,r){var i=e.shade,s=e.uniforms,c=e.form,l=e.drawSettings;if(!i||!c)throw Error("cannot draw, shader or geometry are not set");if(t.useProgram(i.program),o(i,c),r&&u(i,r,n),l&&Object(p.a)(t,l),Array.isArray(s))for(var f=0,d=s;f<d.length;f++){var h=d[f];a(t,e,n,h)}else a(t,e,n,s);l&&Object(p.f)(t,l)}function a(t,e,n,r){r&&u(e.shade,r,n),e.form.elements&&null!=e.form.elements.glType?(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.form.elements.buffer),t.drawElements(e.form.drawType,e.form.itemCount,e.form.elements.glType,0)):t.drawArrays(e.form.drawType,0,e.form.itemCount)}function o(t,e){for(var n in e.attribs){var r=t.attributeSetters[n];r&&r.setter(e.attribs[n])}}function u(t,e,n){for(var r in e){var i=t.uniformSetters[r];if(i){var a=e[r];null===a||"string"==typeof a?i.setter(n):i.setter(a)}}}function s(t,e,n,r){for(var a=e.length-1,o=0;o<e.length;o++)!function(o){var u=e[o],s=function(e,a){var o=n[0],s=n[1],c=!a&&null==u.target;if(a?(t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)):u.target?(t.bindFramebuffer(t.FRAMEBUFFER,u.target.frameBuffer),t.viewport(0,0,u.target.width,u.target.height)):(t.bindFramebuffer(t.FRAMEBUFFER,s.frameBuffer),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)),u.data.drawSettings&&Object(p.a)(t,u.data.drawSettings),u.sketches)for(var l=0,f=u.sketches;l<f.length;l++){var d=f[l];i(t,d,o.textures[0],e)}else i(t,r,null,{source:u.texture()});u.data.drawSettings&&Object(p.f)(t,u.data.drawSettings),c&&(n[0]=s,n[1]=o)};if(Array.isArray(u.uniforms))for(var c=a+u.uniforms.length-1,l=0;l<u.uniforms.length;l++){var f=o+l===c;s(u.uniforms[l],f)}else{var f=o===a;s(u.uniforms,f)}}(o)}e.a=r;var c=n(34),l=n(35),f=n(36),d=n(37),p=n(3),h=n(5),v=n(38),m=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";function r(t){var e={};return e.update=function(n){n.drawType&&(e.drawType=t[n.drawType]),n.itemCount&&(e.itemCount=n.itemCount);var r=e.attribs||{};for(var a in n.attribs){var o=n.attribs[a];null==r[a]&&(r[a]={buffer:t.createBuffer()}),t.bindBuffer(t.ARRAY_BUFFER,r[a].buffer),t.bufferData(t.ARRAY_BUFFER,o.buffer,t[(o.storeType||"STATIC")+"_DRAW"])}if(e.attribs=r,n.elements){var u=n.elements.buffer;null==e.elements&&(e.elements={buffer:t.createBuffer(),glType:null}),e.elements.glType=Object(i.e)(u),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.elements.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,u,t[(n.elements.storeType||"STATIC")+"_DRAW"])}return e},e.destroy=function(){for(var n in e.attribs)t.deleteBuffer(e.attribs[n].buffer);return e.elements&&t.deleteBuffer(e.elements.buffer),e},e}e.a=r;var i=n(3)},function(t,e,n){"use strict";function r(t){var e={program:t.createProgram(),frag:t.createShader(t.FRAGMENT_SHADER),vert:t.createShader(t.VERTEX_SHADER)};return t.attachShader(e.program,e.vert),t.attachShader(e.program,e.frag),e.update=function(n){var r=n.frag&&n.frag.trim()||e.fragSource,o=n.vert&&n.vert.trim()||e.vertSource;if(!r||!o)return e;if(r.indexOf("GL_EXT_draw_buffers")>=0&&t.getExtension("WEBGL_draw_buffers"),t.shaderSource(e.vert,o),t.shaderSource(e.frag,r),t.compileShader(e.vert),t.compileShader(e.frag),t.getShaderParameter(e.vert,t.COMPILE_STATUS)||console.error("Error Compiling Vertex Shader!\n",t.getShaderInfoLog(e.vert),i(o)),t.getShaderParameter(e.frag,t.COMPILE_STATUS)||console.error("Error Compiling Fragment Shader!\n",t.getShaderInfoLog(e.frag),i(r)),t.linkProgram(e.program),!t.getProgramParameter(e.program,t.LINK_STATUS)){var u=t.getProgramInfoLog(e.program);console.error("Error in program linking:",u)}return e.uniformSetters=Object(a.c)(t,e.program),e.attributeSetters=Object(a.b)(t,e.program),e.fragSource=r,e.vertSource=o,e},e.destroy=function(){t.deleteProgram(e.program),t.deleteShader(e.frag),t.deleteShader(e.vert)},e}function i(t){return t.trim().split("\n").map(function(t,e){return e+1+": "+t}).join("\n")}e.a=r;var a=n(3)},function(t,e,n){"use strict";function r(){var t={};return t.update=function(e){return e.drawSettings&&(t.drawSettings=e.drawSettings),e.form&&(t.form=e.form),e.shade&&(t.shade=e.shade),e.uniforms&&(t.uniforms=e.uniforms),t},t.destroy=function(){t.form.destroy(),t.shade.destroy()},t}e.a=r},function(t,e,n){"use strict";function r(t){var e={},n=t.createTexture();return e.textures=[n],e.data={},e.texture=function(){return n},e.update=function(r){return t.bindTexture(t.TEXTURE_2D,n),Object(a.g)(t,r,e.data),r.asset&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r.asset),r.minFilter&&r.minFilter.indexOf("MIPMAP")>0&&t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),Object.assign(e.data,r),e},e.destroy=function(){t.deleteTexture(n)},e}function i(t){var e={};return e.textures=[],e.data={},e.texture=function(t){return void 0===t&&(t=0),e.textures[t]},e.update=function(n){if(n.buffered&&!e.target?(e.target={width:n.width||t.canvas.width,height:n.height||t.canvas.height,frameBuffer:null,textures:[],depthBuffer:null,textureConfig:{type:n.textureConfig&&n.textureConfig.type||t.UNSIGNED_BYTE,count:n.textureConfig&&n.textureConfig.count||1}},Object(a.h)(t,e.target,n,e.data),e.textures=e.target.textures):e.target&&n.width&&n.height&&(e.target.width=n.width,e.target.height=n.height,Object(a.h)(t,e.target,n,e.data)),n.sketches&&(e.sketches=n.sketches),n.frag){var r=e.sketches&&e.sketches[0];r&&r.shade.update({frag:n.frag})}return n.uniforms&&(e.uniforms=n.uniforms),Object.assign(e.data,n),e},e.destroy=function(){if(e.sketches)for(var n=0,r=e.sketches;n<r.length;n++){var i=r[n];i.destroy()}if(e.target)Object(a.d)(t,e.target);else for(var o=0,u=e.textures;o<u.length;o++){var s=u[o];t.deleteTexture(s)}},e}e.b=r,e.a=i;var a=n(3)},function(t,e,n){"use strict";function r(t){return{clearColor:[0,0,0,1],enable:[t.DEPTH_TEST],blendFunc:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA]}}n.d(e,"c",function(){return o}),e.d=r,n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s});var i,a=n(4),o={wrap:"CLAMP_TO_EDGE",minFilter:"LINEAR",magFilter:"NEAREST"},u={renderQuad:{attribs:(i={},i[a.b]={buffer:new Float32Array([-1,1,-1,-1,1,1,1,-1]),storeType:"STATIC"},i[a.c]={buffer:new Float32Array([0,1,0,0,1,1,1,0]),storeType:"STATIC"},i),drawType:"TRIANGLE_STRIP",itemCount:4}},s={basicEffect:{vert:"\n\t\t\tattribute vec2 "+a.b+";\n\t\t\tattribute vec2 "+a.c+";\n\t\t\tvarying vec2 "+a.f+";\n\t\t\tvoid main() {\n\t\t\t\t"+a.f+" = "+a.c+";\n\t\t\t\tgl_Position = vec4("+a.b+", 0.0, 1.0);\n\t\t\t}",frag:"precision mediump float;\n\t\t\tuniform sampler2D "+a.e+";\n\t\t\tvarying vec2 "+a.f+";\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D("+a.e+", "+a.f+");\n\t\t\t}"}}},function(t,e,n){"use strict";function r(t,e,n,r){var i,a,o=t/2,u=e/2,s=n||1,c=r||1,l=s+1,f=c+1,d=t/s,p=e/c,h=new Float32Array(l*f*3),v=new Float32Array(l*f*3),m=new Float32Array(l*f*2),g=0,y=0;for(i=0;i<f;i++){var b=i*p-u;for(a=0;a<l;a++){var M=a*d-o;h[g]=M,h[g+1]=-b,v[g+2]=1,m[y]=a/s,m[y+1]=1-i/c,g+=3,y+=2}}g=0;var _=new(h.length/3>65535?Uint32Array:Uint16Array)(s*c*6);for(i=0;i<c;i++)for(a=0;a<s;a++){var S=a+l*i,O=a+l*(i+1),x=a+1+l*(i+1),T=a+1+l*i;_[g]=S,_[g+1]=O,_[g+2]=T,_[g+3]=O,_[g+4]=x,_[g+5]=T,g+=6}return{attribs:{position:{buffer:h},normal:{buffer:v},uv:{buffer:m}},elements:{buffer:_},drawType:"TRIANGLES",itemCount:_.length}}e.a=r},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"tick",function(){return c}),n.d(e,"canvas",function(){return l}),n.d(e,"tickStep",function(){return f}),n.d(e,"tickCounter",function(){return d}),n.d(e,"slowTick",function(){return p}),n.d(e,"windowSize",function(){return h}),n.d(e,"mouse",function(){return v}),n.d(e,"keys",function(){return m});var r=n(0),i=n(12),a=n(23),o=n(24),u=n(25),s=n(43),c=Object(r.a)([s.videos.HOT],u.a),l=Object(r.h)(null,function(){return document.getElementById("canvas")||void 0}),f=Object(r.i)(2),d=Object(r.i)(0).react([f.HOT,c.HOT],function(t,e){return t===e?0:t+1}),p=Object(r.g)([d.HOT],function(t){return 0===t||null}),h=Object(r.b)(null,o.a),v=Object(r.a)([l.HOT],function(t,e){return Object(a.a)(t,{element:e,enableRightButton:!0})}),m=Object(r.b)(null,i.b)},function(t,e,n){"use strict";function r(t){var e=document.createElement("video");e.crossOrigin="anonymous",e.loop=!0;var n=document.createElement("source");n.src=t+".webm",n.type="video/webm";var r=document.createElement("source");return r.src=t+".mp4",r.type="video/mp4",e.appendChild(n),e.appendChild(r),e}Object.defineProperty(e,"__esModule",{value:!0}),e.createVideo=r,n.d(e,"names",function(){return a}),n.d(e,"videosUrl",function(){return o}),n.d(e,"loadTimeout",function(){return u}),n.d(e,"videos",function(){return s});var i=n(0),a=Object(i.i)(["tworooms","behindglass","nanofuzz","balloon","threescreens"]),o=Object(i.i)("//s3.eu-central-1.amazonaws.com/trivialspace.net/tvs1/"),u=Object(i.i)(6e4),s=Object(i.a)([a.HOT,u.HOT,o.HOT],function(t,e,n,i){Promise.all(e.map(function(t){return r(i+t)}).map(function(t){return new Promise(function(e,r){var i=setTimeout(function(){console.log("timeout",t),r("Video timeout "+t)},n);t.addEventListener("canplay",function(){e(t),t.play(),clearTimeout(i),console.log("loaded",t)})})})).then(t)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"radius",function(){return s}),n.d(e,"height",function(){return c}),n.d(e,"scale",function(){return l}),n.d(e,"rotations",function(){return f}),n.d(e,"positions",function(){return d}),n.d(e,"transforms",function(){return p});var r=n(0),i=n(2),a=(n.n(i),n(78)),o=n(43),u=n(14),s=Object(r.i)(25),c=Object(r.i)(2),l=Object(r.i)([1.6,1,1]),f=Object(r.g)([o.names.HOT],function(t){return t.map(function(e,n){return 2*Math.PI*n/t.length})}),d=Object(r.g)([s.HOT,f.HOT,c.HOT],function(t,e,n){return e.map(function(e){var r=-e-Math.PI/2,i=a.a([t,r]),o=i[0],u=i[1];return[o,n,u]})}),p=Object(r.g)([f.HOT,d.HOT,l.HOT],function(t,e,n){return Object(u.d)(t,e,function(t,e){var r=i.mat4.fromTranslation(i.mat4.create(),e);return i.mat4.rotateY(r,r,t),i.mat4.scale(r,r,n),r})})},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"position",function(){return o}),n.d(e,"normal",function(){return u}),n.d(e,"scale",function(){return s}),n.d(e,"transform",function(){return c}),n.d(e,"planeEquation",function(){return l}),n.d(e,"mirrorMatrix",function(){return f});var r=n(0),i=n(2),a=(n.n(i),n(47)),o=Object(r.i)([0,-3.4,0]),u=Object(r.i)([0,1,0]),s=Object(r.i)(10),c=Object(r.i)(i.mat4.create()).react([o.HOT,s.HOT],function(t,e,n){return i.mat4.fromTranslation(t,e),i.mat4.rotateX(t,t,Math.PI/2),i.mat4.scale(t,t,[n,n,n])}),l=Object(r.g)([u.HOT,o.HOT],a.d),f=Object(r.g)([l.HOT],a.c)},function(t,e,n){"use strict";function r(t,e){var n=-u.vec3.dot(t,e);return u.vec4.fromValues(t[0],t[1],t[2],n)}function i(t){var e=t,n=e[0],r=e[1],i=e[2],a=e[3];return u.mat4.fromValues(1-2*n*n,-2*n*r,-2*n*i,0,-2*n*r,1-2*r*r,-2*r*i,0,-2*n*i,-2*r*i,1-2*i*i,0,-2*n*a,-2*r*a,-2*i*a,1)}function a(t,e){return e*=.5,t[0]=0,t[1]=Math.sin(e),t[2]=0,t[3]=Math.cos(e),t}function o(t,e){return e*=.5,t[0]=0,t[1]=0,t[2]=Math.sin(e),t[3]=Math.cos(e),t}e.d=r,e.c=i,e.b=a,e.a=o;var u=n(2);n.n(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"settings",function(){return u}),n.d(e,"painter",function(){return s}),n.d(e,"gl",function(){return c}),n.d(e,"canvasSize",function(){return l});var r,i=n(0),a=n(11),o=n(42),u=Object(i.i)({clearColor:[0,0,0,1]}).reset(),s=(r=Object(a.g)(o.canvas,o.windowSize,u),r.painter),c=r.gl,l=r.canvasSize},function(t,e){function n(t){var e={size:[1,1,1],segments:[1,1,1]};return t&&(Array.isArray(t.size)?e.size=t.size:"number"==typeof t.size&&(e.size=[t.size,t.size,t.size]),Array.isArray(t.segments)?e.segments=t.segments:"number"==typeof t.segments&&(e.segments=[t.segments,t.segments,t.segments])),e}function r(t){for(var e=[],n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)e.push(r[i]);return e}function i(t){var e=o(t),n=s(t),i=r(e);return{positions:i,cells:n,uvs:a(t,i),vertexCount:(t.sx+1)*(t.sy+1)}}function a(t,e){return e.map(function(e){return[e[0]/t.wx+.5,e[1]/t.wy+.5]})}function o(t){for(var e=t.wy/t.sy,n=t.wy/2,r=t.sy+1,i=Array(r),a=0;a<r;a++)i[a]=u(t,e*a-n);return i}function u(t,e){for(var n=t.wx/2,r=t.wx/t.sx,i=t.sx+1,a=Array(i),o=0;o<i;o++)a[o]=[r*o-n,e];return a}function s(t){function e(e,n){return(t.sx+1)*n+e}for(var n=[],r=0;r<t.sx;r++)for(var i=0;i<t.sy;i++){var a=e(r+0,i+0),o=e(r+1,i+0),u=e(r+1,i+1),s=e(r+0,i+1);n.push([a,o,u]),n.push([u,s,a])}return n}function c(t){return{positions:t.positions,cells:t.cells,uvs:t.uvs,vertexCount:t.vertexCount}}function l(t){var e=t.size,n=t.segments,r=i({wx:e[0],wy:e[1],sx:n[0],sy:n[1]}),a=i({wx:e[2],wy:e[1],sx:n[2],sy:n[1]}),o=i({wx:e[0],wy:e[2],sx:n[0],sy:n[2]}),u=c(r),s=c(a),l=c(o);return r.positions=r.positions.map(function(t){return[t[0],t[1],e[2]/2]}),u.positions=u.positions.map(function(t){return[t[0],-t[1],-e[2]/2]}),a.positions=a.positions.map(function(t){return[e[0]/2,-t[1],t[0]]}),s.positions=s.positions.map(function(t){return[-e[0]/2,t[1],t[0]]}),o.positions=o.positions.map(function(t){return[t[0],e[1]/2,-t[1]]}),l.positions=l.positions.map(function(t){return[t[0],-e[1]/2,t[1]]}),r.normals=f([0,0,1],r.positions.length),u.normals=f([0,0,-1],u.positions.length),a.normals=f([1,0,0],a.positions.length),s.normals=f([-1,0,0],s.positions.length),o.normals=f([0,1,0],o.positions.length),l.normals=f([0,-1,0],l.positions.length),[r,u,a,s,o,l]}function f(t,e){for(var n=Array(e),r=0;r<e;r++)n[r]=t.slice();return n}function d(t){var e=l(t),n=e.map(function(t){return t.positions}),i=e.map(function(t){return t.uvs}),a=e.map(function(t){return t.normals}),o=p(e);return{positions:r(n),uvs:r(i),cells:r(o),normals:r(a)}}function p(t){var e=0;return t.map(function(t){var n=t.cells.map(function(t){return t.map(function(t){return t+e})});return e+=t.vertexCount,n})}t.exports=function(t){return d(n(t))}},function(t,e,n){"use strict";function r(t){for(var e=[],n=0,r=t;n<r.length;n++)for(var i=r[n],a=0,o=i;a<o.length;a++){var u=o[a];e.push(u)}return e}function i(t){var e={drawType:"TRIANGLES",attribs:{},itemCount:0};for(var n in t){var i=t[n];if(n===c){var l=new(i.length>65535?Uint32Array:Uint16Array)(r(i));Object.assign(e,{elements:{buffer:l},itemCount:l.length})}else n===o?e.attribs[a.b]={buffer:new Float32Array(r(i))}:n===u?e.attribs[a.a]={buffer:new Float32Array(r(i))}:n===s?e.attribs[a.c]={buffer:new Float32Array(r(i))}:e.attribs[n]={buffer:new Float32Array(r(i))}}return e}e.a=i;var a=n(4),o="positions",u="normals",s="uvs",c="cells"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"props",function(){return a}),n.d(e,"geometry",function(){return o});var r=n(39),i=n(0),a=Object(i.i)({width:10,height:10,segX:5,segY:5}),o=Object(i.g)([a.HOT],function(t){return Object(r.a)(t.width,t.height,t.segX,t.segY)})},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"scale",function(){return s}),n.d(e,"transforms",function(){return c});var r=n(0),i=n(2),a=(n.n(i),n(57)),o=n(44),u=n(14),s=Object(r.i)([1.65,1,1]),c=Object(r.g)([o.rotations.HOT,o.positions.HOT,s.HOT],function(t,e,n){return Object(u.d)(t,e,function(t,e){var r=a.b(e,1.045);r[1]-=1.9;var o=i.mat4.fromTranslation(i.mat4.create(),r);return i.mat4.rotateY(o,o,t),i.mat4.scale(o,o,n),o})})},function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=t[r]*e;return n}function i(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r*r}return Math.sqrt(e)}e.b=r,e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"position",function(){return f}),n.d(e,"rotX",function(){return d}),n.d(e,"rotY",function(){return p}),n.d(e,"rotation",function(){return h}),n.d(e,"view",function(){return v}),n.d(e,"perspectiveSettings",function(){return m}),n.d(e,"perspective",function(){return g}),n.d(e,"moveSpeed",function(){return y}),n.d(e,"lookSpeed",function(){return b}),n.d(e,"moveForward",function(){return M}),n.d(e,"moveLeft",function(){return _}),n.d(e,"mouseDrag",function(){return S}),n.d(e,"dragDeltas",function(){return O}),n.d(e,"groundMirrorView",function(){return E});var r=n(0),i=n(32),a=n(48),o=n(12),u=n(2),s=(n.n(u),n(42)),c=n(46),l=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},f=(x=i.a(),x.position),d=x.rotX,p=x.rotY,h=x.rotation,v=x.view,m=(T=i.b(a.canvasSize),T.perspectiveSettings),g=T.perspective;m.updateVal(function(t){return l({},t,{fovy:.4*Math.PI})});var y=Object(r.i)(.05),b=Object(r.i)(.002),M=Object(r.a)([s.keys.COLD,y.COLD,s.tick.HOT],function(t,e,n,r){e&&((e[o.a.UP]||e[o.a.W])&&t(n),(e[o.a.DOWN]||e[o.a.S])&&t(-n))}),_=Object(r.a)([s.keys.COLD,y.COLD,s.tick.HOT],function(t,e,n){e&&((e[o.a.LEFT]||e[o.a.A])&&t(n),(e[o.a.RIGHT]||e[o.a.D])&&t(-n))}),S=Object(r.g)([s.mouse.HOT],function(t){return{x:t.drag.x,y:t.drag.y}}),O=Object(r.c)(S,function(t,e){return{x:0===t.x?t.x:e.x-t.x,y:0===t.y?t.y:e.y-t.y}}).accept(function(t){return!(!t||!t.x&&!t.y)});d.react([O.HOT,b.COLD],function(t,e,n){return t+e.y*n}),p.react([O.HOT,b.COLD],function(t,e,n){return t+e.x*n}),f.react([_.HOT,h.COLD],function(t,e,n){var r=u.vec3.fromValues(n.rotY[0],n.rotY[1],n.rotY[2]);return u.vec3.add(t,t,u.vec3.scale(r,r,-e))}),f.react([M.HOT,h.COLD],function(t,e,n){var r=u.vec3.fromValues(n.rotY[8],n.rotY[9],n.rotY[10]);return u.vec3.add(t,t,u.vec3.scale(r,r,-e))});var x,T,E=Object(r.i)(u.mat4.create()).react([v.HOT,c.mirrorMatrix.HOT],u.mat4.multiply)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"blurStrength",function(){return i}),n.d(e,"layersData",function(){return a});var r=n(0),i=Object(r.i)(10).reset(),a=Object(r.g)([i.HOT],function(t){for(var e=[];t>=1;)e.push({direction:0,strength:1.5*t}),e.push({direction:1,strength:6*t}),t/=2;return e})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"size",function(){return u}),n.d(e,"segments",function(){return s}),n.d(e,"geometry",function(){return c});var r=n(0),i=n(49),a=n.n(i),o=n(50),u=Object(r.i)([10,14,2]),s=Object(r.i)([5,7,1]),c=Object(r.g)([u.HOT,s.HOT],function(t,e){return Object(o.a)(a()({size:t,segments:e}))})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"frag",function(){return o});var r=n(0),i=n(80),a=n.n(i),o=Object(r.i)(a.a).reset()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"spec",function(){return s});var r=n(0),i=n(81),a=n.n(i),o=n(82),u=n.n(o),s=Object(r.i)({vert:a.a,frag:u.a}).reset()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"spec",function(){return s});var r=n(0),i=n(83),a=n.n(i),o=n(84),u=n.n(o),s=Object(r.i)({vert:a.a,frag:u.a}).reset()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"spec",function(){return s});var r=n(0),i=n(85),a=n.n(i),o=n(86),u=n.n(o),s=Object(r.i)({vert:a.a,frag:u.a}).reset()},,,,,,,,,function(t,e,n){t.exports=n(74)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=n(19),a=n(77);r.a.setDebug(!0),Object(i.a)(r.a,a),r.b.setFlow(r.a,"hommage"),setTimeout(function(){r.a.setDebug(!1)},1e3)},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return s});var r=n(15),i=n(18),a=(n.n(i),n(76)),o=n.n(a),u=r.a(),s=i.ui.start({graph:o.a});window.flow=u,window.tools=s},function(t,e){t.exports={"events.tick":{x:76.37013521738253,y:967.8899375261426},"events.tickStep":{x:-88.54211021864192,y:1149.5365811578254},"events.tickCounter":{x:-86.42228704674415,y:1025.2726218196487},"events.slowTick":{x:-89.39012731866174,y:909.1161590323211},"events.windowSize":{x:-321.5586674242749,y:75.69464521831355},"events.mouse":{x:710.1491292406728,y:1392.4565503448493},"events.keys":{x:500.93973887451335,y:1365.3952534337932},"events.mouseDrag":{x:474.4023259424609,y:1322.7508623644567},"state.ground.position":{x:592.7404100568693,y:624.031846800227},"state.ground.normal":{x:504.7884520353441,y:714.5222912429182},"state.ground.scale":{x:797.9947351233101,y:630.5047118228944},"state.ground.transform":{x:698.2485552304572,y:559.4338492923177},"state.ground.planeEquation":{x:623.5337813902544,y:736.8228367000495},"state.ground.mirrorMatrix":{x:715.5861218389874,y:714.071908209991},"state.pedestals.scale":{x:647.253423275873,y:364.49536428853844},"state.pedestals.transforms":{x:564.9359466056333,y:362.17044822954483},"state.screens.radius":{x:406.8475962909673,y:951.3303280816247},"state.screens.height":{x:493.91266724747953,y:935.1046468058489},"state.screens.scale":{x:355.988578249499,y:690.4597199966503},"state.screens.rotations":{x:317.1936869081563,y:849.2562322426841},"state.screens.positions":{x:445.62061738472056,y:832.93919050267},"state.screens.transforms":{x:247.26046803440056,y:730.7944432890839},"videos.names":{x:-224.1605196924283,y:770.2833947024503},"videos.videosUrl":{x:-292.8103511327877,y:836.539953383678},"videos.loadTimeout":{x:-245.74753169512792,y:923.1067731881338},"videos.videos":{x:-131.42750364632965,y:837.7924508089568},"view.camera.position":{x:790.3398564642989,y:909.0243066769095},"view.camera.yaw":{x:979.7292995097882,y:1024.1723831431384},"view.camera.pitch":{x:866.931176093401,y:1017.613940816167},"view.camera.yawQuat":{x:950.7250700056459,y:985.2994559326827},"view.camera.pitchQuat":{x:848.6194783856471,y:990.4232465306249},"view.camera.rotationQuat":{x:886.0279826893238,y:862.2376098902693},"view.camera.view":{x:846.7302436434592,y:718.659045690319},"view.camera.fovy":{x:909.7380213367651,y:397.25748549932973},"view.camera.aspect":{x:828.8830993669557,y:306.5148271889604},"view.camera.near":{x:923.4260311370798,y:491.02928225574874},"view.camera.far":{x:855.5649608378067,y:540.3694536732753},"view.camera.perspective":{x:788.0706423474372,y:469.7524770138194},"view.camera.moveSpeed":{x:703.7945683686861,y:1214.671211706991},"view.camera.lookSpeed":{x:1002.1335434674064,y:1190.3719519060114},"view.camera.moveForward":{x:648.3435930868013,y:1013.6221826793449},"view.camera.moveLeft":{x:733.9361829891851,y:1068.4109397705483},"view.camera.groundMirrorView":{x:675.6861671117312,y:875.9000552412393},"view.context.context":{x:828.1487644249696,y:444.6804810288013},"view.context.canvas":{x:562.0466731353072,y:1007.8653299673556},"view.context.canvasSize":{x:562.1710007262274,y:823.4757086322784},"view.effects.ground-reflection.idPrefix":{x:522.4912120851072,y:232.74836492468168},"view.effects.ground-reflection.passes":{x:590.0198178576956,y:149.12624196425492},"view.effects.ground-reflection.ids":{x:680.4206899259791,y:292.7584523164205},"view.effects.ground-reflection.layersData":{x:-255.28551172745884,y:321.61286741648433},"view.geometries.box.id":{x:1029.5525109457433,y:472.68211532913733},"view.geometries.box.size":{x:-159.69285555560447,y:-444.68327993863016},"view.geometries.box.segments":{x:-246.5105025242645,y:-467.50383894006865},"view.geometries.box.geometry":{x:-201.86152502274976,y:-325.56369819511843},"view.geometries.plane.id":{x:953.8170285043042,y:595.8553833490097},"view.geometries.plane.props":{x:-20.775144708776157,y:-444.4948568850864},"view.geometries.plane.geometry":{x:-11.706444326645107,y:-340.5392636976263},"view.renderer.settings":{x:1042.9195868646505,y:726.4928330927078},"view.renderer.groundId":{x:884.723659471565,y:591.3077890907022},"view.renderer.sceneLayerId":{x:939.1584036320023,y:682.0469810481528},"view.renderer.mirrorSceneLayerId":{x:828.1793170264023,y:637.8534834855615},"view.renderer.layers":{x:131.8588844592779,y:255.05405553172773},"view.renderer.render":{x:827.0244621752382,y:737.5311206996205},"view.shaders.ground-reflection.id":{x:1109.0648188588332,y:443.256993660846},"view.shaders.ground-reflection.spec":{x:1097.5023436070187,y:379.8357597038137},"view.shaders.ground.id":{x:951.4119381195983,y:392.2938787000862},"view.shaders.ground.spec":{x:117.06845546598672,y:-352.3781185348165},"view.shaders.object.id":{x:810.5860490583541,y:237.59669964236718},"view.shaders.object.spec":{x:379.0755217658776,y:-352.52570544330433},"view.shaders.screen.id":{x:957.4036693689073,y:252.17528500161927},"view.shaders.screen.spec":{x:263.6191586482107,y:-351.18688610339007},"view.effects.ground-reflection.blurStrength":{x:-400.2036635754699,y:319.2760932724888},"view.painter.canvas":{x:-319.48762399373373,y:-62.03968334452382},"view.painter.painter":{x:122.68817453681477,y:49.284237979565},"view.painter.gl":{x:-125.42149986426554,y:-59.55606229289543},"view.painter.canvasSize":{x:-28.73094766987845,y:117.20913184342031},"view.painter.settings":{x:412.58345411350945,y:15.856437077407566},"view.renderer.boxForm":{x:-200.55316140856522,y:-241.68856914295444},"view.renderer.planeForm":{x:-12.781744194991061,y:-235.45380938571012},"view.renderer.groundShade":{x:118.23712320620626,y:-234.85350411335045},"view.renderer.objectShade":{x:378.4782987226048,y:-243.34962202464104},"view.renderer.screenShade":{x:263.5664421644574,y:-242.52129725993902},"view.renderer.videoTextures":{x:-67.54484217344844,y:726.1716072493961},"view.renderer.groundSketch":{x:301.02434057322114,y:260.69070271021934},"view.renderer.screenSketch":{x:313.87183327383883,y:521.8017717630416},"view.renderer.pedestalSketch":{x:307.5084662318118,y:390.7504457136656},"view.renderer.drawSettings":{x:-149.98267232831833,y:523.5973752265169},"view.renderer.sceneLayer":{x:-61.68510190196802,y:443.23190846334165},"view.renderer.mirrorSceneLayer":{x:-67.04531865411052,y:585.1263787346121},"view.renderer.effectSettings":{x:-194.8937377441701,y:173.30614401111063},"view.renderer.effectLayer":{x:-57.52895070372746,y:310.4618039969952},"view.shaders.ground-reflection.frag":{x:-196.04242909270076,y:269.6326479926565},"view.camera.perspectiveSettings":{x:785.189781283609,y:262.2874485076259},"view.camera.rotation":{x:916.7472111414572,y:897.3703048642972},"view.camera.rotX":{x:976.2769558185639,y:1023.9768601392549},"view.camera.rotY":{x:869.7332379459998,y:1020.3363808980113},"view.camera.mouseDrag":{x:879.194226389071,y:1337.1100984516677},"view.camera.dragDeltas":{x:888.8019065174782,y:1192.7400863742373}}},function(t,e,n){function r(t){return n(i(t))}function i(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./events.ts":42,"./state/ground.ts":46,"./state/pedestals.ts":56,"./state/screens.ts":44,"./videos.ts":43,"./view/camera.ts":58,"./view/effects/ground-reflection.ts":59,"./view/geometries/box.ts":60,"./view/geometries/plane.ts":51,"./view/painter.ts":48,"./view/renderer.ts":79,"./view/shaders/ground-reflection.ts":61,"./view/shaders/ground.ts":62,"./view/shaders/object.ts":63,"./view/shaders/screen.ts":64};r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id=77},function(t,e,n){"use strict";function r(t){var e=t[0],n=t[1];return[e*Math.cos(n),e*Math.sin(n)]}e.a=r;n(57)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"boxForm",function(){return O}),n.d(e,"planeForm",function(){return x}),n.d(e,"groundShade",function(){return T}),n.d(e,"objectShade",function(){return E}),n.d(e,"screenShade",function(){return I}),n.d(e,"videoTextures",function(){return w}),n.d(e,"lightSize",function(){return D}),n.d(e,"groundSketch",function(){return A}),n.d(e,"screenSketch",function(){return F}),n.d(e,"pedestalSketch",function(){return N}),n.d(e,"drawSettings",function(){return j}),n.d(e,"sceneLayer",function(){return R}),n.d(e,"mirrorSceneLayer",function(){return P}),n.d(e,"effectSettings",function(){return k}),n.d(e,"effectLayer",function(){return C}),n.d(e,"layers",function(){return L});var r=n(0),i=n(11),a=n(42),o=n(43),u=n(58),s=n(60),c=n(51),l=n(61),f=n(62),d=n(63),p=n(64),h=n(46),v=n(44),m=n(56),g=n(59),y=n(14),b=n(5),M=n(13),_=n(48),S=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},O=Object(i.c)(_.painter,s.geometry),x=Object(i.c)(_.painter,c.geometry),T=Object(i.d)(_.painter,f.spec),E=Object(i.d)(_.painter,d.spec),I=Object(i.d)(_.painter,p.spec),w=Object(r.g)([_.painter.HOT,o.names.HOT],function(t,e){return e.map(function(){return t.createStaticLayer().update({flipY:!0,minFilter:"LINEAR",wrap:"CLAMP_TO_EDGE"})})}).react([o.videos.HOT,a.slowTick.HOT],function(t,e,n){t.forEach(function(t,n){return t.update({asset:e[n]})})}).accept(M.a),D=Object(r.g)([c.props.HOT,v.scale.HOT],function(t,e){return[t.width*e[0],t.height*e[1]]}),A=Object(i.e)(_.painter).react([T.HOT,D.HOT,x.HOT,h.transform.HOT,_.canvasSize.HOT,v.positions.HOT,v.rotations.HOT,w.HOT],function(t,e,n,r,i,a,o,u,s){return t.update({form:r,shade:e,uniforms:{transform:i,lights:[].concat.apply([],Object(y.d)(o,u,function(t,e){return t.concat([e])})),lightSize:n,lightTex:s.map(function(t){return t.texture()}),reflection:null,size:[a.width,a.height]}})}),F=Object(i.e)(_.painter).react([I.HOT,x.HOT,v.transforms.HOT,w.HOT],function(t,e,n,r,i){return t.update({form:n,shade:e,uniforms:Object(y.d)(r,i,function(t,e){return{transform:t,video:e.texture()}})})}),N=Object(i.e)(_.painter).react([E.HOT,O.HOT,m.transforms.HOT],function(t,e,n,r){return t.update({form:n,shade:e,uniforms:r.map(function(t){return{transform:t}})})}),j=Object(r.g)([_.gl.HOT],function(t){return{clearBits:Object(b.b)(t,"color","depth")}}),R=Object(i.a)(_.painter).react([F.HOT,N.HOT,A.HOT,j.HOT,u.view.COLD,u.perspective.COLD],function(t,e,n,r,i,a,o){return t.update({sketches:[e,n,r],drawSettings:i,uniforms:{view:a,projection:o,withDistance:0,groundHeight:0}})}),P=Object(i.a)(_.painter).react([F.HOT,N.HOT,h.position.HOT,j.HOT,u.groundMirrorView.COLD,u.perspective.COLD],function(t,e,n,r,i,a,o){return t.update({flipY:!0,sketches:[e,n],drawSettings:i,uniforms:{view:a,projection:o,withDistance:1,groundHeight:r[1]}})}),k=Object(r.g)([_.gl.HOT],function(t){return{disable:[t.DEPTH_TEST]}}),C=Object(i.b)(_.painter).react([g.layersData.HOT,l.frag.HOT,_.canvasSize.HOT,k.HOT],function(t,e,n,r,i){return t.update({frag:n,drawSettings:i,uniforms:e.map(function(t){return S({source:null},t,{size:[r.width,r.height]})})})}),L=Object(r.g)([P.HOT,C.HOT,R.HOT],function(t,e,n){return[[t,!0],[e,!0],[n,!0]].filter(function(t){return t[1]}).map(function(t){return t[0]})});_.painter.react([L.COLD,a.tick.HOT],function(t,e,n){return t.compose.apply(null,e)})},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\nvec4 blur9_1_0(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\n\n\nuniform sampler2D source;\nuniform vec2 size;\nuniform float direction;\nuniform float strength;\n\nvarying vec2 coords;\n\nvoid main() {\n\tvec2 uv = coords;\n\tvec4 refl = texture2D(source, uv);\n\tfloat dist = refl.a * strength + 0.2;\n\n\tif (direction == 0.0) {\n\t\tgl_FragColor = vec4(blur9_1_0(source, uv, size, vec2(dist, 0)).rgb, refl.a);\n\t} else {\n\t\tgl_FragColor = vec4(blur9_1_0(source, uv, size, vec2(0, dist)).rgb, refl.a);\n\t}\n}\n"},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\n\nvarying vec3 V;\n\nvoid main() {\n\tvec4 pos = transform * vec4(position, 1.0);\n\tV = pos.xyz;\n\tgl_Position = projection * view * pos;\n}\n"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D reflection;\nuniform sampler2D lightTex[5];\nuniform vec4 lights[5];\nuniform vec2 size;\nuniform vec2 lightSize;\nvarying vec3 V;\n\nconst vec3 up = vec3(0.0, 1.0, 0.0);\n\n\nvec3 diffuseAreaLight(sampler2D tex, vec3 normal, vec3 pos, vec3 V) {\n\tfloat width = lightSize.x / 2.0;\n\tfloat height = lightSize.y / 2.0;\n\n\tvec3 right = cross(up, normal);\n\n\t/*project onto plane and calculate direction from center to the projection*/\n\tfloat dis = dot(normal, V - pos);\n\tvec3 projection = V - dis * normal;\n\tvec3 dir = projection - pos;\n\n\t/*calculate distance from area*/\n\tvec2 diagonal = vec2(dot(dir, right), dot(dir, up));\n\tvec2 nearest2D = vec2(clamp(diagonal.x, -width, width), clamp(diagonal.y, -height, height));\n\tvec3 nearestPointInside = pos + (right * nearest2D.x + up * nearest2D.y);\n\n\tvec3 L = normalize(nearestPointInside - V);\n\n\tfloat nDotL = dot(-normal, L);\n\n\tfloat d = distance(V, nearestPointInside); //real distance to area rectangle\n\n\tvec3 diff = vec3(0.0);\n\n\n\tvec2 co = ((diagonal.xy / (d + 1.0)) + vec2(width, height)) / lightSize;\n\tvec3 texColor = texture2D(tex, co).rgb;\n\n\tif (nDotL > 0.0) {\n\t\t//co.x = 1.0 - co.x;\n\t\tdiff = texColor;\n\n\t\tfloat NDotL = clamp(dot(-up, L), 0.0, 1.0);\n\t\tnDotL *= NDotL * 0.5 + 0.5; //distribute over hemisphere, looks better. Should be dependant of area size.\n\n\t\tfloat attenuation = 1.0 / (1.0 + d);\n\n\t\tdiff *= nDotL * attenuation;\n\t}\n\n\treturn diff;\n}\n\n\nvoid main() {\n\tfloat scale = (50.0 - length(V)) / 50.0;\n\tvec4 refl = texture2D(reflection, gl_FragCoord.xy / size);\n\tvec3 ground = vec3(0.0);\n\n\tfor (int i = 0; i < 5; i++) {\n\t\tvec4 light = lights[i];\n\t\tvec3 lightNormal = vec3(sin(light.a), 0, cos(light.a));\n\t\tvec3 diffuse = diffuseAreaLight(lightTex[i], lightNormal, light.xyz, V);\n\t\tground += pow(diffuse, vec3(0.57));\n\t}\n\n\tgl_FragColor = mix(vec4(ground, 1.0), vec4(refl.rgb, 1.0), refl / 2.0 + 0.25);\n\t// gl_FragColor = vec4(ground, 1.0);\n}\n"},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\nuniform float groundHeight;\n\nvarying float dist;\nvarying float height;\n\nvoid main() {\n\tvec4 pos = transform * vec4(position, 1.0);\n\tdist = length(pos.xyz);\n\theight = (pos.y - groundHeight) / 10.0;\n\tgl_Position = projection * view * pos;\n}\n"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform int withDistance;\n\nvarying float dist;\nvarying float height;\n\nvoid main() {\n\tfloat scale = (50.0 - dist) / 50.0;\n\tif (withDistance == 0) {\n\t\tgl_FragColor = vec4(vec3(scale * 0.6), 1.0);\n\t} else {\n\t\tgl_FragColor = vec4(vec3(scale * 0.6), height);\n\t\t// gl_FragColor = vec4(vec3(height), 1.0);\n\t}\n}\n"},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\nuniform float groundHeight;\n\nuniform mat4 transform;\nuniform mat4 projection;\nuniform mat4 view;\n\nvarying vec2 vUv;\nvarying float height;\n\nvoid main() {\n\tvUv = uv;\n\tvec4 pos = transform * vec4(position, 1.0);\n\theight = (pos.y - groundHeight) / 10.0;\n\tgl_Position = projection * view * pos;\n}\n"},function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D video;\nuniform int withDistance;\n\nvarying vec2 vUv;\nvarying float height;\n\nvoid main() {\n\tvec4 tex = texture2D(video, vUv);\n\tif (withDistance == 0) {\n\t\tgl_FragColor = vec4(tex.rgb, 1.0);\n\t} else {\n\t\tgl_FragColor = vec4(tex.rgb, height);\n\t\t// gl_FragColor = vec4(vec3(height), 1.0);\n\t}\n}\n"}]);
//# sourceMappingURL=main.js.map